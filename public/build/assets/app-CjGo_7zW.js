var ag=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports);var oT=ag((Qt,te)=>{function Du(n,t){return function(){return n.apply(t,arguments)}}const{toString:lg}=Object.prototype,{getPrototypeOf:rl}=Object,{iterator:zr,toStringTag:Iu}=Symbol,$r=(n=>t=>{const e=lg.call(t);return n[e]||(n[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),be=n=>(n=n.toLowerCase(),t=>$r(t)===n),Hr=n=>t=>typeof t===n,{isArray:_s}=Array,gs=Hr("undefined");function _i(n){return n!==null&&!gs(n)&&n.constructor!==null&&!gs(n.constructor)&&Xt(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Bu=be("ArrayBuffer");function cg(n){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(n):t=n&&n.buffer&&Bu(n.buffer),t}const hg=Hr("string"),Xt=Hr("function"),qu=Hr("number"),vi=n=>n!==null&&typeof n=="object",ug=n=>n===!0||n===!1,_r=n=>{if($r(n)!=="object")return!1;const t=rl(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Iu in n)&&!(zr in n)},fg=n=>{if(!vi(n)||_i(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},dg=be("Date"),gg=be("File"),pg=be("Blob"),mg=be("FileList"),bg=n=>vi(n)&&Xt(n.pipe),yg=n=>{let t;return n&&(typeof FormData=="function"&&n instanceof FormData||Xt(n.append)&&((t=$r(n))==="formdata"||t==="object"&&Xt(n.toString)&&n.toString()==="[object FormData]"))},xg=be("URLSearchParams"),[_g,vg,wg,Ag]=["ReadableStream","Request","Response","Headers"].map(be),Sg=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function wi(n,t,{allOwnKeys:e=!1}={}){if(n===null||typeof n>"u")return;let s,i;if(typeof n!="object"&&(n=[n]),_s(n))for(s=0,i=n.length;s<i;s++)t.call(null,n[s],s,n);else{if(_i(n))return;const r=e?Object.getOwnPropertyNames(n):Object.keys(n),o=r.length;let a;for(s=0;s<o;s++)a=r[s],t.call(null,n[a],a,n)}}function Fu(n,t){if(_i(n))return null;t=t.toLowerCase();const e=Object.keys(n);let s=e.length,i;for(;s-- >0;)if(i=e[s],t===i.toLowerCase())return i;return null}const kn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ju=n=>!gs(n)&&n!==kn;function Oa(){const{caseless:n,skipUndefined:t}=ju(this)&&this||{},e={},s=(i,r)=>{const o=n&&Fu(e,r)||r;_r(e[o])&&_r(i)?e[o]=Oa(e[o],i):_r(i)?e[o]=Oa({},i):_s(i)?e[o]=i.slice():(!t||!gs(i))&&(e[o]=i)};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&wi(arguments[i],s);return e}const Eg=(n,t,e,{allOwnKeys:s}={})=>(wi(t,(i,r)=>{e&&Xt(i)?n[r]=Du(i,e):n[r]=i},{allOwnKeys:s}),n),Tg=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),Og=(n,t,e,s)=>{n.prototype=Object.create(t.prototype,s),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:t.prototype}),e&&Object.assign(n.prototype,e)},kg=(n,t,e,s)=>{let i,r,o;const a={};if(t=t||{},n==null)return t;do{for(i=Object.getOwnPropertyNames(n),r=i.length;r-- >0;)o=i[r],(!s||s(o,n,t))&&!a[o]&&(t[o]=n[o],a[o]=!0);n=e!==!1&&rl(n)}while(n&&(!e||e(n,t))&&n!==Object.prototype);return t},Cg=(n,t,e)=>{n=String(n),(e===void 0||e>n.length)&&(e=n.length),e-=t.length;const s=n.indexOf(t,e);return s!==-1&&s===e},Lg=n=>{if(!n)return null;if(_s(n))return n;let t=n.length;if(!qu(t))return null;const e=new Array(t);for(;t-- >0;)e[t]=n[t];return e},Ng=(n=>t=>n&&t instanceof n)(typeof Uint8Array<"u"&&rl(Uint8Array)),Mg=(n,t)=>{const s=(n&&n[zr]).call(n);let i;for(;(i=s.next())&&!i.done;){const r=i.value;t.call(n,r[0],r[1])}},Rg=(n,t)=>{let e;const s=[];for(;(e=n.exec(t))!==null;)s.push(e);return s},Pg=be("HTMLFormElement"),Dg=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,s,i){return s.toUpperCase()+i}),Kl=(({hasOwnProperty:n})=>(t,e)=>n.call(t,e))(Object.prototype),Ig=be("RegExp"),zu=(n,t)=>{const e=Object.getOwnPropertyDescriptors(n),s={};wi(e,(i,r)=>{let o;(o=t(i,r,n))!==!1&&(s[r]=o||i)}),Object.defineProperties(n,s)},Bg=n=>{zu(n,(t,e)=>{if(Xt(n)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const s=n[e];if(Xt(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},qg=(n,t)=>{const e={},s=i=>{i.forEach(r=>{e[r]=!0})};return _s(n)?s(n):s(String(n).split(t)),e},Fg=()=>{},jg=(n,t)=>n!=null&&Number.isFinite(n=+n)?n:t;function zg(n){return!!(n&&Xt(n.append)&&n[Iu]==="FormData"&&n[zr])}const $g=n=>{const t=new Array(10),e=(s,i)=>{if(vi(s)){if(t.indexOf(s)>=0)return;if(_i(s))return s;if(!("toJSON"in s)){t[i]=s;const r=_s(s)?[]:{};return wi(s,(o,a)=>{const l=e(o,i+1);!gs(l)&&(r[a]=l)}),t[i]=void 0,r}}return s};return e(n,0)},Hg=be("AsyncFunction"),Ug=n=>n&&(vi(n)||Xt(n))&&Xt(n.then)&&Xt(n.catch),$u=((n,t)=>n?setImmediate:t?((e,s)=>(kn.addEventListener("message",({source:i,data:r})=>{i===kn&&r===e&&s.length&&s.shift()()},!1),i=>{s.push(i),kn.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e))(typeof setImmediate=="function",Xt(kn.postMessage)),Vg=typeof queueMicrotask<"u"?queueMicrotask.bind(kn):typeof process<"u"&&process.nextTick||$u,Wg=n=>n!=null&&Xt(n[zr]),O={isArray:_s,isArrayBuffer:Bu,isBuffer:_i,isFormData:yg,isArrayBufferView:cg,isString:hg,isNumber:qu,isBoolean:ug,isObject:vi,isPlainObject:_r,isEmptyObject:fg,isReadableStream:_g,isRequest:vg,isResponse:wg,isHeaders:Ag,isUndefined:gs,isDate:dg,isFile:gg,isBlob:pg,isRegExp:Ig,isFunction:Xt,isStream:bg,isURLSearchParams:xg,isTypedArray:Ng,isFileList:mg,forEach:wi,merge:Oa,extend:Eg,trim:Sg,stripBOM:Tg,inherits:Og,toFlatObject:kg,kindOf:$r,kindOfTest:be,endsWith:Cg,toArray:Lg,forEachEntry:Mg,matchAll:Rg,isHTMLForm:Pg,hasOwnProperty:Kl,hasOwnProp:Kl,reduceDescriptors:zu,freezeMethods:Bg,toObjectSet:qg,toCamelCase:Dg,noop:Fg,toFiniteNumber:jg,findKey:Fu,global:kn,isContextDefined:ju,isSpecCompliantForm:zg,toJSONObject:$g,isAsyncFn:Hg,isThenable:Ug,setImmediate:$u,asap:Vg,isIterable:Wg};function tt(n,t,e,s,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",t&&(this.code=t),e&&(this.config=e),s&&(this.request=s),i&&(this.response=i,this.status=i.status?i.status:null)}O.inherits(tt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:O.toJSONObject(this.config),code:this.code,status:this.status}}});const Hu=tt.prototype,Uu={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{Uu[n]={value:n}});Object.defineProperties(tt,Uu);Object.defineProperty(Hu,"isAxiosError",{value:!0});tt.from=(n,t,e,s,i,r)=>{const o=Object.create(Hu);O.toFlatObject(n,o,function(h){return h!==Error.prototype},c=>c!=="isAxiosError");const a=n&&n.message?n.message:"Error",l=t==null&&n?n.code:t;return tt.call(o,a,l,e,s,i),n&&o.cause==null&&Object.defineProperty(o,"cause",{value:n,configurable:!0}),o.name=n&&n.name||"Error",r&&Object.assign(o,r),o};const Kg=null;function ka(n){return O.isPlainObject(n)||O.isArray(n)}function Vu(n){return O.endsWith(n,"[]")?n.slice(0,-2):n}function Gl(n,t,e){return n?n.concat(t).map(function(i,r){return i=Vu(i),!e&&r?"["+i+"]":i}).join(e?".":""):t}function Gg(n){return O.isArray(n)&&!n.some(ka)}const Yg=O.toFlatObject(O,{},null,function(t){return/^is[A-Z]/.test(t)});function Ur(n,t,e){if(!O.isObject(n))throw new TypeError("target must be an object");t=t||new FormData,e=O.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,b){return!O.isUndefined(b[m])});const s=e.metaTokens,i=e.visitor||h,r=e.dots,o=e.indexes,l=(e.Blob||typeof Blob<"u"&&Blob)&&O.isSpecCompliantForm(t);if(!O.isFunction(i))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(O.isDate(p))return p.toISOString();if(O.isBoolean(p))return p.toString();if(!l&&O.isBlob(p))throw new tt("Blob is not supported. Use a Buffer instead.");return O.isArrayBuffer(p)||O.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function h(p,m,b){let x=p;if(p&&!b&&typeof p=="object"){if(O.endsWith(m,"{}"))m=s?m:m.slice(0,-2),p=JSON.stringify(p);else if(O.isArray(p)&&Gg(p)||(O.isFileList(p)||O.endsWith(m,"[]"))&&(x=O.toArray(p)))return m=Vu(m),x.forEach(function(S,T){!(O.isUndefined(S)||S===null)&&t.append(o===!0?Gl([m],T,r):o===null?m:m+"[]",c(S))}),!1}return ka(p)?!0:(t.append(Gl(b,m,r),c(p)),!1)}const u=[],f=Object.assign(Yg,{defaultVisitor:h,convertValue:c,isVisitable:ka});function g(p,m){if(!O.isUndefined(p)){if(u.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));u.push(p),O.forEach(p,function(x,w){(!(O.isUndefined(x)||x===null)&&i.call(t,x,O.isString(w)?w.trim():w,m,f))===!0&&g(x,m?m.concat(w):[w])}),u.pop()}}if(!O.isObject(n))throw new TypeError("data must be an object");return g(n),t}function Yl(n){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function ol(n,t){this._pairs=[],n&&Ur(n,this,t)}const Wu=ol.prototype;Wu.append=function(t,e){this._pairs.push([t,e])};Wu.toString=function(t){const e=t?function(s){return t.call(this,s,Yl)}:Yl;return this._pairs.map(function(i){return e(i[0])+"="+e(i[1])},"").join("&")};function Xg(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Ku(n,t,e){if(!t)return n;const s=e&&e.encode||Xg;O.isFunction(e)&&(e={serialize:e});const i=e&&e.serialize;let r;if(i?r=i(t,e):r=O.isURLSearchParams(t)?t.toString():new ol(t,e).toString(s),r){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+r}return n}class Xl{constructor(){this.handlers=[]}use(t,e,s){return this.handlers.push({fulfilled:t,rejected:e,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){O.forEach(this.handlers,function(s){s!==null&&t(s)})}}const Gu={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Zg=typeof URLSearchParams<"u"?URLSearchParams:ol,Jg=typeof FormData<"u"?FormData:null,Qg=typeof Blob<"u"?Blob:null,tp={isBrowser:!0,classes:{URLSearchParams:Zg,FormData:Jg,Blob:Qg},protocols:["http","https","file","blob","url","data"]},al=typeof window<"u"&&typeof document<"u",Ca=typeof navigator=="object"&&navigator||void 0,ep=al&&(!Ca||["ReactNative","NativeScript","NS"].indexOf(Ca.product)<0),np=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",sp=al&&window.location.href||"http://localhost",ip=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:al,hasStandardBrowserEnv:ep,hasStandardBrowserWebWorkerEnv:np,navigator:Ca,origin:sp},Symbol.toStringTag,{value:"Module"})),Ft={...ip,...tp};function rp(n,t){return Ur(n,new Ft.classes.URLSearchParams,{visitor:function(e,s,i,r){return Ft.isNode&&O.isBuffer(e)?(this.append(s,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...t})}function op(n){return O.matchAll(/\w+|\[(\w*)]/g,n).map(t=>t[0]==="[]"?"":t[1]||t[0])}function ap(n){const t={},e=Object.keys(n);let s;const i=e.length;let r;for(s=0;s<i;s++)r=e[s],t[r]=n[r];return t}function Yu(n){function t(e,s,i,r){let o=e[r++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=r>=e.length;return o=!o&&O.isArray(i)?i.length:o,l?(O.hasOwnProp(i,o)?i[o]=[i[o],s]:i[o]=s,!a):((!i[o]||!O.isObject(i[o]))&&(i[o]=[]),t(e,s,i[o],r)&&O.isArray(i[o])&&(i[o]=ap(i[o])),!a)}if(O.isFormData(n)&&O.isFunction(n.entries)){const e={};return O.forEachEntry(n,(s,i)=>{t(op(s),i,e,0)}),e}return null}function lp(n,t,e){if(O.isString(n))try{return(t||JSON.parse)(n),O.trim(n)}catch(s){if(s.name!=="SyntaxError")throw s}return(e||JSON.stringify)(n)}const Ai={transitional:Gu,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const s=e.getContentType()||"",i=s.indexOf("application/json")>-1,r=O.isObject(t);if(r&&O.isHTMLForm(t)&&(t=new FormData(t)),O.isFormData(t))return i?JSON.stringify(Yu(t)):t;if(O.isArrayBuffer(t)||O.isBuffer(t)||O.isStream(t)||O.isFile(t)||O.isBlob(t)||O.isReadableStream(t))return t;if(O.isArrayBufferView(t))return t.buffer;if(O.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(r){if(s.indexOf("application/x-www-form-urlencoded")>-1)return rp(t,this.formSerializer).toString();if((a=O.isFileList(t))||s.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Ur(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return r||i?(e.setContentType("application/json",!1),lp(t)):t}],transformResponse:[function(t){const e=this.transitional||Ai.transitional,s=e&&e.forcedJSONParsing,i=this.responseType==="json";if(O.isResponse(t)||O.isReadableStream(t))return t;if(t&&O.isString(t)&&(s&&!this.responseType||i)){const o=!(e&&e.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?tt.from(a,tt.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ft.classes.FormData,Blob:Ft.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};O.forEach(["delete","get","head","post","put","patch"],n=>{Ai.headers[n]={}});const cp=O.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),hp=n=>{const t={};let e,s,i;return n&&n.split(`
`).forEach(function(o){i=o.indexOf(":"),e=o.substring(0,i).trim().toLowerCase(),s=o.substring(i+1).trim(),!(!e||t[e]&&cp[e])&&(e==="set-cookie"?t[e]?t[e].push(s):t[e]=[s]:t[e]=t[e]?t[e]+", "+s:s)}),t},Zl=Symbol("internals");function js(n){return n&&String(n).trim().toLowerCase()}function vr(n){return n===!1||n==null?n:O.isArray(n)?n.map(vr):String(n)}function up(n){const t=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=e.exec(n);)t[s[1]]=s[2];return t}const fp=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Xo(n,t,e,s,i){if(O.isFunction(s))return s.call(this,t,e);if(i&&(t=e),!!O.isString(t)){if(O.isString(s))return t.indexOf(s)!==-1;if(O.isRegExp(s))return s.test(t)}}function dp(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,s)=>e.toUpperCase()+s)}function gp(n,t){const e=O.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(n,s+e,{value:function(i,r,o){return this[s].call(this,t,i,r,o)},configurable:!0})})}let Zt=class{constructor(t){t&&this.set(t)}set(t,e,s){const i=this;function r(a,l,c){const h=js(l);if(!h)throw new Error("header name must be a non-empty string");const u=O.findKey(i,h);(!u||i[u]===void 0||c===!0||c===void 0&&i[u]!==!1)&&(i[u||l]=vr(a))}const o=(a,l)=>O.forEach(a,(c,h)=>r(c,h,l));if(O.isPlainObject(t)||t instanceof this.constructor)o(t,e);else if(O.isString(t)&&(t=t.trim())&&!fp(t))o(hp(t),e);else if(O.isObject(t)&&O.isIterable(t)){let a={},l,c;for(const h of t){if(!O.isArray(h))throw TypeError("Object iterator must return a key-value pair");a[c=h[0]]=(l=a[c])?O.isArray(l)?[...l,h[1]]:[l,h[1]]:h[1]}o(a,e)}else t!=null&&r(e,t,s);return this}get(t,e){if(t=js(t),t){const s=O.findKey(this,t);if(s){const i=this[s];if(!e)return i;if(e===!0)return up(i);if(O.isFunction(e))return e.call(this,i,s);if(O.isRegExp(e))return e.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=js(t),t){const s=O.findKey(this,t);return!!(s&&this[s]!==void 0&&(!e||Xo(this,this[s],s,e)))}return!1}delete(t,e){const s=this;let i=!1;function r(o){if(o=js(o),o){const a=O.findKey(s,o);a&&(!e||Xo(s,s[a],a,e))&&(delete s[a],i=!0)}}return O.isArray(t)?t.forEach(r):r(t),i}clear(t){const e=Object.keys(this);let s=e.length,i=!1;for(;s--;){const r=e[s];(!t||Xo(this,this[r],r,t,!0))&&(delete this[r],i=!0)}return i}normalize(t){const e=this,s={};return O.forEach(this,(i,r)=>{const o=O.findKey(s,r);if(o){e[o]=vr(i),delete e[r];return}const a=t?dp(r):String(r).trim();a!==r&&delete e[r],e[a]=vr(i),s[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return O.forEach(this,(s,i)=>{s!=null&&s!==!1&&(e[i]=t&&O.isArray(s)?s.join(", "):s)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const s=new this(t);return e.forEach(i=>s.set(i)),s}static accessor(t){const s=(this[Zl]=this[Zl]={accessors:{}}).accessors,i=this.prototype;function r(o){const a=js(o);s[a]||(gp(i,o),s[a]=!0)}return O.isArray(t)?t.forEach(r):r(t),this}};Zt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);O.reduceDescriptors(Zt.prototype,({value:n},t)=>{let e=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(s){this[e]=s}}});O.freezeMethods(Zt);function Zo(n,t){const e=this||Ai,s=t||e,i=Zt.from(s.headers);let r=s.data;return O.forEach(n,function(a){r=a.call(e,r,i.normalize(),t?t.status:void 0)}),i.normalize(),r}function Xu(n){return!!(n&&n.__CANCEL__)}function vs(n,t,e){tt.call(this,n??"canceled",tt.ERR_CANCELED,t,e),this.name="CanceledError"}O.inherits(vs,tt,{__CANCEL__:!0});function Zu(n,t,e){const s=e.config.validateStatus;!e.status||!s||s(e.status)?n(e):t(new tt("Request failed with status code "+e.status,[tt.ERR_BAD_REQUEST,tt.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}function pp(n){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return t&&t[1]||""}function mp(n,t){n=n||10;const e=new Array(n),s=new Array(n);let i=0,r=0,o;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),h=s[r];o||(o=c),e[i]=l,s[i]=c;let u=r,f=0;for(;u!==i;)f+=e[u++],u=u%n;if(i=(i+1)%n,i===r&&(r=(r+1)%n),c-o<t)return;const g=h&&c-h;return g?Math.round(f*1e3/g):void 0}}function bp(n,t){let e=0,s=1e3/t,i,r;const o=(c,h=Date.now())=>{e=h,i=null,r&&(clearTimeout(r),r=null),n(...c)};return[(...c)=>{const h=Date.now(),u=h-e;u>=s?o(c,h):(i=c,r||(r=setTimeout(()=>{r=null,o(i)},s-u)))},()=>i&&o(i)]}const Tr=(n,t,e=3)=>{let s=0;const i=mp(50,250);return bp(r=>{const o=r.loaded,a=r.lengthComputable?r.total:void 0,l=o-s,c=i(l),h=o<=a;s=o;const u={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&h?(a-o)/c:void 0,event:r,lengthComputable:a!=null,[t?"download":"upload"]:!0};n(u)},e)},Jl=(n,t)=>{const e=n!=null;return[s=>t[0]({lengthComputable:e,total:n,loaded:s}),t[1]]},Ql=n=>(...t)=>O.asap(()=>n(...t)),yp=Ft.hasStandardBrowserEnv?((n,t)=>e=>(e=new URL(e,Ft.origin),n.protocol===e.protocol&&n.host===e.host&&(t||n.port===e.port)))(new URL(Ft.origin),Ft.navigator&&/(msie|trident)/i.test(Ft.navigator.userAgent)):()=>!0,xp=Ft.hasStandardBrowserEnv?{write(n,t,e,s,i,r){const o=[n+"="+encodeURIComponent(t)];O.isNumber(e)&&o.push("expires="+new Date(e).toGMTString()),O.isString(s)&&o.push("path="+s),O.isString(i)&&o.push("domain="+i),r===!0&&o.push("secure"),document.cookie=o.join("; ")},read(n){const t=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function _p(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function vp(n,t){return t?n.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):n}function Ju(n,t,e){let s=!_p(t);return n&&(s||e==!1)?vp(n,t):t}const tc=n=>n instanceof Zt?{...n}:n;function Mn(n,t){t=t||{};const e={};function s(c,h,u,f){return O.isPlainObject(c)&&O.isPlainObject(h)?O.merge.call({caseless:f},c,h):O.isPlainObject(h)?O.merge({},h):O.isArray(h)?h.slice():h}function i(c,h,u,f){if(O.isUndefined(h)){if(!O.isUndefined(c))return s(void 0,c,u,f)}else return s(c,h,u,f)}function r(c,h){if(!O.isUndefined(h))return s(void 0,h)}function o(c,h){if(O.isUndefined(h)){if(!O.isUndefined(c))return s(void 0,c)}else return s(void 0,h)}function a(c,h,u){if(u in t)return s(c,h);if(u in n)return s(void 0,c)}const l={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,h,u)=>i(tc(c),tc(h),u,!0)};return O.forEach(Object.keys({...n,...t}),function(h){const u=l[h]||i,f=u(n[h],t[h],h);O.isUndefined(f)&&u!==a||(e[h]=f)}),e}const Qu=n=>{const t=Mn({},n);let{data:e,withXSRFToken:s,xsrfHeaderName:i,xsrfCookieName:r,headers:o,auth:a}=t;if(t.headers=o=Zt.from(o),t.url=Ku(Ju(t.baseURL,t.url,t.allowAbsoluteUrls),n.params,n.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),O.isFormData(e)){if(Ft.hasStandardBrowserEnv||Ft.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(O.isFunction(e.getHeaders)){const l=e.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([h,u])=>{c.includes(h.toLowerCase())&&o.set(h,u)})}}if(Ft.hasStandardBrowserEnv&&(s&&O.isFunction(s)&&(s=s(t)),s||s!==!1&&yp(t.url))){const l=i&&r&&xp.read(r);l&&o.set(i,l)}return t},wp=typeof XMLHttpRequest<"u",Ap=wp&&function(n){return new Promise(function(e,s){const i=Qu(n);let r=i.data;const o=Zt.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,h,u,f,g,p;function m(){g&&g(),p&&p(),i.cancelToken&&i.cancelToken.unsubscribe(h),i.signal&&i.signal.removeEventListener("abort",h)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function x(){if(!b)return;const S=Zt.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),E={data:!a||a==="text"||a==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:S,config:n,request:b};Zu(function(P){e(P),m()},function(P){s(P),m()},E),b=null}"onloadend"in b?b.onloadend=x:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(x)},b.onabort=function(){b&&(s(new tt("Request aborted",tt.ECONNABORTED,n,b)),b=null)},b.onerror=function(T){const E=T&&T.message?T.message:"Network Error",R=new tt(E,tt.ERR_NETWORK,n,b);R.event=T||null,s(R),b=null},b.ontimeout=function(){let T=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const E=i.transitional||Gu;i.timeoutErrorMessage&&(T=i.timeoutErrorMessage),s(new tt(T,E.clarifyTimeoutError?tt.ETIMEDOUT:tt.ECONNABORTED,n,b)),b=null},r===void 0&&o.setContentType(null),"setRequestHeader"in b&&O.forEach(o.toJSON(),function(T,E){b.setRequestHeader(E,T)}),O.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),a&&a!=="json"&&(b.responseType=i.responseType),c&&([f,p]=Tr(c,!0),b.addEventListener("progress",f)),l&&b.upload&&([u,g]=Tr(l),b.upload.addEventListener("progress",u),b.upload.addEventListener("loadend",g)),(i.cancelToken||i.signal)&&(h=S=>{b&&(s(!S||S.type?new vs(null,n,b):S),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(h),i.signal&&(i.signal.aborted?h():i.signal.addEventListener("abort",h)));const w=pp(i.url);if(w&&Ft.protocols.indexOf(w)===-1){s(new tt("Unsupported protocol "+w+":",tt.ERR_BAD_REQUEST,n));return}b.send(r||null)})},Sp=(n,t)=>{const{length:e}=n=n?n.filter(Boolean):[];if(t||e){let s=new AbortController,i;const r=function(c){if(!i){i=!0,a();const h=c instanceof Error?c:this.reason;s.abort(h instanceof tt?h:new vs(h instanceof Error?h.message:h))}};let o=t&&setTimeout(()=>{o=null,r(new tt(`timeout ${t} of ms exceeded`,tt.ETIMEDOUT))},t);const a=()=>{n&&(o&&clearTimeout(o),o=null,n.forEach(c=>{c.unsubscribe?c.unsubscribe(r):c.removeEventListener("abort",r)}),n=null)};n.forEach(c=>c.addEventListener("abort",r));const{signal:l}=s;return l.unsubscribe=()=>O.asap(a),l}},Ep=function*(n,t){let e=n.byteLength;if(e<t){yield n;return}let s=0,i;for(;s<e;)i=s+t,yield n.slice(s,i),s=i},Tp=async function*(n,t){for await(const e of Op(n))yield*Ep(e,t)},Op=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const t=n.getReader();try{for(;;){const{done:e,value:s}=await t.read();if(e)break;yield s}}finally{await t.cancel()}},ec=(n,t,e,s)=>{const i=Tp(n,t);let r=0,o,a=l=>{o||(o=!0,s&&s(l))};return new ReadableStream({async pull(l){try{const{done:c,value:h}=await i.next();if(c){a(),l.close();return}let u=h.byteLength;if(e){let f=r+=u;e(f)}l.enqueue(new Uint8Array(h))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},nc=64*1024,{isFunction:Xi}=O,kp=(({Request:n,Response:t})=>({Request:n,Response:t}))(O.global),{ReadableStream:sc,TextEncoder:ic}=O.global,rc=(n,...t)=>{try{return!!n(...t)}catch{return!1}},Cp=n=>{n=O.merge.call({skipUndefined:!0},kp,n);const{fetch:t,Request:e,Response:s}=n,i=t?Xi(t):typeof fetch=="function",r=Xi(e),o=Xi(s);if(!i)return!1;const a=i&&Xi(sc),l=i&&(typeof ic=="function"?(p=>m=>p.encode(m))(new ic):async p=>new Uint8Array(await new e(p).arrayBuffer())),c=r&&a&&rc(()=>{let p=!1;const m=new e(Ft.origin,{body:new sc,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!m}),h=o&&a&&rc(()=>O.isReadableStream(new s("").body)),u={stream:h&&(p=>p.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!u[p]&&(u[p]=(m,b)=>{let x=m&&m[p];if(x)return x.call(m);throw new tt(`Response type '${p}' is not supported`,tt.ERR_NOT_SUPPORT,b)})});const f=async p=>{if(p==null)return 0;if(O.isBlob(p))return p.size;if(O.isSpecCompliantForm(p))return(await new e(Ft.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(O.isArrayBufferView(p)||O.isArrayBuffer(p))return p.byteLength;if(O.isURLSearchParams(p)&&(p=p+""),O.isString(p))return(await l(p)).byteLength},g=async(p,m)=>{const b=O.toFiniteNumber(p.getContentLength());return b??f(m)};return async p=>{let{url:m,method:b,data:x,signal:w,cancelToken:S,timeout:T,onDownloadProgress:E,onUploadProgress:R,responseType:P,headers:B,withCredentials:z="same-origin",fetchOptions:K}=Qu(p),_=t||fetch;P=P?(P+"").toLowerCase():"text";let C=Sp([w,S&&S.toAbortSignal()],T),A=null;const I=C&&C.unsubscribe&&(()=>{C.unsubscribe()});let M;try{if(R&&c&&b!=="get"&&b!=="head"&&(M=await g(B,x))!==0){let Y=new e(m,{method:"POST",body:x,duplex:"half"}),W;if(O.isFormData(x)&&(W=Y.headers.get("content-type"))&&B.setContentType(W),Y.body){const[Z,X]=Jl(M,Tr(Ql(R)));x=ec(Y.body,nc,Z,X)}}O.isString(z)||(z=z?"include":"omit");const k=r&&"credentials"in e.prototype,D={...K,signal:C,method:b.toUpperCase(),headers:B.normalize().toJSON(),body:x,duplex:"half",credentials:k?z:void 0};A=r&&new e(m,D);let q=await(r?_(A,K):_(m,D));const j=h&&(P==="stream"||P==="response");if(h&&(E||j&&I)){const Y={};["status","statusText","headers"].forEach(H=>{Y[H]=q[H]});const W=O.toFiniteNumber(q.headers.get("content-length")),[Z,X]=E&&Jl(W,Tr(Ql(E),!0))||[];q=new s(ec(q.body,nc,Z,()=>{X&&X(),I&&I()}),Y)}P=P||"text";let F=await u[O.findKey(u,P)||"text"](q,p);return!j&&I&&I(),await new Promise((Y,W)=>{Zu(Y,W,{data:F,headers:Zt.from(q.headers),status:q.status,statusText:q.statusText,config:p,request:A})})}catch(k){throw I&&I(),k&&k.name==="TypeError"&&/Load failed|fetch/i.test(k.message)?Object.assign(new tt("Network Error",tt.ERR_NETWORK,p,A),{cause:k.cause||k}):tt.from(k,k&&k.code,p,A)}}},Lp=new Map,tf=n=>{let t=n?n.env:{};const{fetch:e,Request:s,Response:i}=t,r=[s,i,e];let o=r.length,a=o,l,c,h=Lp;for(;a--;)l=r[a],c=h.get(l),c===void 0&&h.set(l,c=a?new Map:Cp(t)),h=c;return c};tf();const La={http:Kg,xhr:Ap,fetch:{get:tf}};O.forEach(La,(n,t)=>{if(n){try{Object.defineProperty(n,"name",{value:t})}catch{}Object.defineProperty(n,"adapterName",{value:t})}});const oc=n=>`- ${n}`,Np=n=>O.isFunction(n)||n===null||n===!1,ef={getAdapter:(n,t)=>{n=O.isArray(n)?n:[n];const{length:e}=n;let s,i;const r={};for(let o=0;o<e;o++){s=n[o];let a;if(i=s,!Np(s)&&(i=La[(a=String(s)).toLowerCase()],i===void 0))throw new tt(`Unknown adapter '${a}'`);if(i&&(O.isFunction(i)||(i=i.get(t))))break;r[a||"#"+o]=i}if(!i){const o=Object.entries(r).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=e?o.length>1?`since :
`+o.map(oc).join(`
`):" "+oc(o[0]):"as no adapter specified";throw new tt("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i},adapters:La};function Jo(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new vs(null,n)}function ac(n){return Jo(n),n.headers=Zt.from(n.headers),n.data=Zo.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),ef.getAdapter(n.adapter||Ai.adapter,n)(n).then(function(s){return Jo(n),s.data=Zo.call(n,n.transformResponse,s),s.headers=Zt.from(s.headers),s},function(s){return Xu(s)||(Jo(n),s&&s.response&&(s.response.data=Zo.call(n,n.transformResponse,s.response),s.response.headers=Zt.from(s.response.headers))),Promise.reject(s)})}const nf="1.12.2",Vr={};["object","boolean","number","function","string","symbol"].forEach((n,t)=>{Vr[n]=function(s){return typeof s===n||"a"+(t<1?"n ":" ")+n}});const lc={};Vr.transitional=function(t,e,s){function i(r,o){return"[Axios v"+nf+"] Transitional option '"+r+"'"+o+(s?". "+s:"")}return(r,o,a)=>{if(t===!1)throw new tt(i(o," has been removed"+(e?" in "+e:"")),tt.ERR_DEPRECATED);return e&&!lc[o]&&(lc[o]=!0,console.warn(i(o," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(r,o,a):!0}};Vr.spelling=function(t){return(e,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function Mp(n,t,e){if(typeof n!="object")throw new tt("options must be an object",tt.ERR_BAD_OPTION_VALUE);const s=Object.keys(n);let i=s.length;for(;i-- >0;){const r=s[i],o=t[r];if(o){const a=n[r],l=a===void 0||o(a,r,n);if(l!==!0)throw new tt("option "+r+" must be "+l,tt.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new tt("Unknown option "+r,tt.ERR_BAD_OPTION)}}const wr={assertOptions:Mp,validators:Vr},Se=wr.validators;let Cn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Xl,response:new Xl}}async request(t,e){try{return await this._request(t,e)}catch(s){if(s instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const r=i.stack?i.stack.replace(/^.+\n/,""):"";try{s.stack?r&&!String(s.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+r):s.stack=r}catch{}}throw s}}_request(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=Mn(this.defaults,e);const{transitional:s,paramsSerializer:i,headers:r}=e;s!==void 0&&wr.assertOptions(s,{silentJSONParsing:Se.transitional(Se.boolean),forcedJSONParsing:Se.transitional(Se.boolean),clarifyTimeoutError:Se.transitional(Se.boolean)},!1),i!=null&&(O.isFunction(i)?e.paramsSerializer={serialize:i}:wr.assertOptions(i,{encode:Se.function,serialize:Se.function},!0)),e.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?e.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:e.allowAbsoluteUrls=!0),wr.assertOptions(e,{baseUrl:Se.spelling("baseURL"),withXsrfToken:Se.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let o=r&&O.merge(r.common,r[e.method]);r&&O.forEach(["delete","get","head","post","put","patch","common"],p=>{delete r[p]}),e.headers=Zt.concat(o,r);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(e)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let h,u=0,f;if(!l){const p=[ac.bind(this),void 0];for(p.unshift(...a),p.push(...c),f=p.length,h=Promise.resolve(e);u<f;)h=h.then(p[u++],p[u++]);return h}f=a.length;let g=e;for(;u<f;){const p=a[u++],m=a[u++];try{g=p(g)}catch(b){m.call(this,b);break}}try{h=ac.call(this,g)}catch(p){return Promise.reject(p)}for(u=0,f=c.length;u<f;)h=h.then(c[u++],c[u++]);return h}getUri(t){t=Mn(this.defaults,t);const e=Ju(t.baseURL,t.url,t.allowAbsoluteUrls);return Ku(e,t.params,t.paramsSerializer)}};O.forEach(["delete","get","head","options"],function(t){Cn.prototype[t]=function(e,s){return this.request(Mn(s||{},{method:t,url:e,data:(s||{}).data}))}});O.forEach(["post","put","patch"],function(t){function e(s){return function(r,o,a){return this.request(Mn(a||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}Cn.prototype[t]=e(),Cn.prototype[t+"Form"]=e(!0)});let Rp=class sf{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(r){e=r});const s=this;this.promise.then(i=>{if(!s._listeners)return;let r=s._listeners.length;for(;r-- >0;)s._listeners[r](i);s._listeners=null}),this.promise.then=i=>{let r;const o=new Promise(a=>{s.subscribe(a),r=a}).then(i);return o.cancel=function(){s.unsubscribe(r)},o},t(function(r,o,a){s.reason||(s.reason=new vs(r,o,a),e(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);e!==-1&&this._listeners.splice(e,1)}toAbortSignal(){const t=new AbortController,e=s=>{t.abort(s)};return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;return{token:new sf(function(i){t=i}),cancel:t}}};function Pp(n){return function(e){return n.apply(null,e)}}function Dp(n){return O.isObject(n)&&n.isAxiosError===!0}const Na={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Na).forEach(([n,t])=>{Na[t]=n});function rf(n){const t=new Cn(n),e=Du(Cn.prototype.request,t);return O.extend(e,Cn.prototype,t,{allOwnKeys:!0}),O.extend(e,t,null,{allOwnKeys:!0}),e.create=function(i){return rf(Mn(n,i))},e}const St=rf(Ai);St.Axios=Cn;St.CanceledError=vs;St.CancelToken=Rp;St.isCancel=Xu;St.VERSION=nf;St.toFormData=Ur;St.AxiosError=tt;St.Cancel=St.CanceledError;St.all=function(t){return Promise.all(t)};St.spread=Pp;St.isAxiosError=Dp;St.mergeConfig=Mn;St.AxiosHeaders=Zt;St.formToJSON=n=>Yu(O.isHTMLForm(n)?new FormData(n):n);St.getAdapter=ef.getAdapter;St.HttpStatusCode=Na;St.default=St;const{Axios:hT,AxiosError:uT,CanceledError:fT,isCancel:dT,CancelToken:gT,VERSION:pT,all:mT,Cancel:bT,isAxiosError:yT,spread:xT,toFormData:_T,AxiosHeaders:vT,HttpStatusCode:wT,formToJSON:AT,getAdapter:ST,mergeConfig:ET}=St;window.axios=St;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var of=typeof global=="object"&&global&&global.Object===Object&&global,Ip=typeof self=="object"&&self&&self.Object===Object&&self,Le=of||Ip||Function("return this")(),ln=Le.Symbol,af=Object.prototype,Bp=af.hasOwnProperty,qp=af.toString,zs=ln?ln.toStringTag:void 0;function Fp(n){var t=Bp.call(n,zs),e=n[zs];try{n[zs]=void 0;var s=!0}catch{}var i=qp.call(n);return s&&(t?n[zs]=e:delete n[zs]),i}var jp=Object.prototype,zp=jp.toString;function $p(n){return zp.call(n)}var Hp="[object Null]",Up="[object Undefined]",cc=ln?ln.toStringTag:void 0;function ws(n){return n==null?n===void 0?Up:Hp:cc&&cc in Object(n)?Fp(n):$p(n)}function Ue(n){return n!=null&&typeof n=="object"}var Rn=Array.isArray;function un(n){var t=typeof n;return n!=null&&(t=="object"||t=="function")}function lf(n){return n}var Vp="[object AsyncFunction]",Wp="[object Function]",Kp="[object GeneratorFunction]",Gp="[object Proxy]";function ll(n){if(!un(n))return!1;var t=ws(n);return t==Wp||t==Kp||t==Vp||t==Gp}var Qo=Le["__core-js_shared__"],hc=(function(){var n=/[^.]+$/.exec(Qo&&Qo.keys&&Qo.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function Yp(n){return!!hc&&hc in n}var Xp=Function.prototype,Zp=Xp.toString;function Fn(n){if(n!=null){try{return Zp.call(n)}catch{}try{return n+""}catch{}}return""}var Jp=/[\\^$.*+?()[\]{}|]/g,Qp=/^\[object .+?Constructor\]$/,tm=Function.prototype,em=Object.prototype,nm=tm.toString,sm=em.hasOwnProperty,im=RegExp("^"+nm.call(sm).replace(Jp,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function rm(n){if(!un(n)||Yp(n))return!1;var t=ll(n)?im:Qp;return t.test(Fn(n))}function om(n,t){return n?.[t]}function jn(n,t){var e=om(n,t);return rm(e)?e:void 0}var Ma=jn(Le,"WeakMap"),uc=Object.create,am=(function(){function n(){}return function(t){if(!un(t))return{};if(uc)return uc(t);n.prototype=t;var e=new n;return n.prototype=void 0,e}})();function lm(n,t,e){switch(e.length){case 0:return n.call(t);case 1:return n.call(t,e[0]);case 2:return n.call(t,e[0],e[1]);case 3:return n.call(t,e[0],e[1],e[2])}return n.apply(t,e)}function cm(n,t){var e=-1,s=n.length;for(t||(t=Array(s));++e<s;)t[e]=n[e];return t}var hm=800,um=16,fm=Date.now;function dm(n){var t=0,e=0;return function(){var s=fm(),i=um-(s-e);if(e=s,i>0){if(++t>=hm)return arguments[0]}else t=0;return n.apply(void 0,arguments)}}function gm(n){return function(){return n}}var Or=(function(){try{var n=jn(Object,"defineProperty");return n({},"",{}),n}catch{}})(),pm=Or?function(n,t){return Or(n,"toString",{configurable:!0,enumerable:!1,value:gm(t),writable:!0})}:lf,mm=dm(pm);function bm(n,t){for(var e=-1,s=n==null?0:n.length;++e<s&&t(n[e],e,n)!==!1;);return n}var ym=9007199254740991,xm=/^(?:0|[1-9]\d*)$/;function cf(n,t){var e=typeof n;return t=t??ym,!!t&&(e=="number"||e!="symbol"&&xm.test(n))&&n>-1&&n%1==0&&n<t}function cl(n,t,e){t=="__proto__"&&Or?Or(n,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):n[t]=e}function Si(n,t){return n===t||n!==n&&t!==t}var _m=Object.prototype,vm=_m.hasOwnProperty;function hf(n,t,e){var s=n[t];(!(vm.call(n,t)&&Si(s,e))||e===void 0&&!(t in n))&&cl(n,t,e)}function wm(n,t,e,s){var i=!e;e||(e={});for(var r=-1,o=t.length;++r<o;){var a=t[r],l=void 0;l===void 0&&(l=n[a]),i?cl(e,a,l):hf(e,a,l)}return e}var fc=Math.max;function Am(n,t,e){return t=fc(t===void 0?n.length-1:t,0),function(){for(var s=arguments,i=-1,r=fc(s.length-t,0),o=Array(r);++i<r;)o[i]=s[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=s[i];return a[t]=e(o),lm(n,this,a)}}function Sm(n,t){return mm(Am(n,t,lf),n+"")}var Em=9007199254740991;function uf(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=Em}function Wr(n){return n!=null&&uf(n.length)&&!ll(n)}function Tm(n,t,e){if(!un(e))return!1;var s=typeof t;return(s=="number"?Wr(e)&&cf(t,e.length):s=="string"&&t in e)?Si(e[t],n):!1}function Om(n){return Sm(function(t,e){var s=-1,i=e.length,r=i>1?e[i-1]:void 0,o=i>2?e[2]:void 0;for(r=n.length>3&&typeof r=="function"?(i--,r):void 0,o&&Tm(e[0],e[1],o)&&(r=i<3?void 0:r,i=1),t=Object(t);++s<i;){var a=e[s];a&&n(t,a,s,r)}return t})}var km=Object.prototype;function hl(n){var t=n&&n.constructor,e=typeof t=="function"&&t.prototype||km;return n===e}function Cm(n,t){for(var e=-1,s=Array(n);++e<n;)s[e]=t(e);return s}var Lm="[object Arguments]";function dc(n){return Ue(n)&&ws(n)==Lm}var ff=Object.prototype,Nm=ff.hasOwnProperty,Mm=ff.propertyIsEnumerable,Ra=dc((function(){return arguments})())?dc:function(n){return Ue(n)&&Nm.call(n,"callee")&&!Mm.call(n,"callee")};function Rm(){return!1}var df=typeof Qt=="object"&&Qt&&!Qt.nodeType&&Qt,gc=df&&typeof te=="object"&&te&&!te.nodeType&&te,Pm=gc&&gc.exports===df,pc=Pm?Le.Buffer:void 0,Dm=pc?pc.isBuffer:void 0,ai=Dm||Rm,Im="[object Arguments]",Bm="[object Array]",qm="[object Boolean]",Fm="[object Date]",jm="[object Error]",zm="[object Function]",$m="[object Map]",Hm="[object Number]",Um="[object Object]",Vm="[object RegExp]",Wm="[object Set]",Km="[object String]",Gm="[object WeakMap]",Ym="[object ArrayBuffer]",Xm="[object DataView]",Zm="[object Float32Array]",Jm="[object Float64Array]",Qm="[object Int8Array]",tb="[object Int16Array]",eb="[object Int32Array]",nb="[object Uint8Array]",sb="[object Uint8ClampedArray]",ib="[object Uint16Array]",rb="[object Uint32Array]",bt={};bt[Zm]=bt[Jm]=bt[Qm]=bt[tb]=bt[eb]=bt[nb]=bt[sb]=bt[ib]=bt[rb]=!0;bt[Im]=bt[Bm]=bt[Ym]=bt[qm]=bt[Xm]=bt[Fm]=bt[jm]=bt[zm]=bt[$m]=bt[Hm]=bt[Um]=bt[Vm]=bt[Wm]=bt[Km]=bt[Gm]=!1;function ob(n){return Ue(n)&&uf(n.length)&&!!bt[ws(n)]}function ul(n){return function(t){return n(t)}}var gf=typeof Qt=="object"&&Qt&&!Qt.nodeType&&Qt,ei=gf&&typeof te=="object"&&te&&!te.nodeType&&te,ab=ei&&ei.exports===gf,ta=ab&&of.process,ps=(function(){try{var n=ei&&ei.require&&ei.require("util").types;return n||ta&&ta.binding&&ta.binding("util")}catch{}})(),mc=ps&&ps.isTypedArray,fl=mc?ul(mc):ob,lb=Object.prototype,cb=lb.hasOwnProperty;function pf(n,t){var e=Rn(n),s=!e&&Ra(n),i=!e&&!s&&ai(n),r=!e&&!s&&!i&&fl(n),o=e||s||i||r,a=o?Cm(n.length,String):[],l=a.length;for(var c in n)(t||cb.call(n,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||r&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||cf(c,l)))&&a.push(c);return a}function mf(n,t){return function(e){return n(t(e))}}var hb=mf(Object.keys,Object),ub=Object.prototype,fb=ub.hasOwnProperty;function db(n){if(!hl(n))return hb(n);var t=[];for(var e in Object(n))fb.call(n,e)&&e!="constructor"&&t.push(e);return t}function gb(n){return Wr(n)?pf(n):db(n)}function pb(n){var t=[];if(n!=null)for(var e in Object(n))t.push(e);return t}var mb=Object.prototype,bb=mb.hasOwnProperty;function yb(n){if(!un(n))return pb(n);var t=hl(n),e=[];for(var s in n)s=="constructor"&&(t||!bb.call(n,s))||e.push(s);return e}function bf(n){return Wr(n)?pf(n,!0):yb(n)}var li=jn(Object,"create");function xb(){this.__data__=li?li(null):{},this.size=0}function _b(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t}var vb="__lodash_hash_undefined__",wb=Object.prototype,Ab=wb.hasOwnProperty;function Sb(n){var t=this.__data__;if(li){var e=t[n];return e===vb?void 0:e}return Ab.call(t,n)?t[n]:void 0}var Eb=Object.prototype,Tb=Eb.hasOwnProperty;function Ob(n){var t=this.__data__;return li?t[n]!==void 0:Tb.call(t,n)}var kb="__lodash_hash_undefined__";function Cb(n,t){var e=this.__data__;return this.size+=this.has(n)?0:1,e[n]=li&&t===void 0?kb:t,this}function Pn(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var s=n[t];this.set(s[0],s[1])}}Pn.prototype.clear=xb;Pn.prototype.delete=_b;Pn.prototype.get=Sb;Pn.prototype.has=Ob;Pn.prototype.set=Cb;function Lb(){this.__data__=[],this.size=0}function Kr(n,t){for(var e=n.length;e--;)if(Si(n[e][0],t))return e;return-1}var Nb=Array.prototype,Mb=Nb.splice;function Rb(n){var t=this.__data__,e=Kr(t,n);if(e<0)return!1;var s=t.length-1;return e==s?t.pop():Mb.call(t,e,1),--this.size,!0}function Pb(n){var t=this.__data__,e=Kr(t,n);return e<0?void 0:t[e][1]}function Db(n){return Kr(this.__data__,n)>-1}function Ib(n,t){var e=this.__data__,s=Kr(e,n);return s<0?(++this.size,e.push([n,t])):e[s][1]=t,this}function We(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var s=n[t];this.set(s[0],s[1])}}We.prototype.clear=Lb;We.prototype.delete=Rb;We.prototype.get=Pb;We.prototype.has=Db;We.prototype.set=Ib;var ci=jn(Le,"Map");function Bb(){this.size=0,this.__data__={hash:new Pn,map:new(ci||We),string:new Pn}}function qb(n){var t=typeof n;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?n!=="__proto__":n===null}function Gr(n,t){var e=n.__data__;return qb(t)?e[typeof t=="string"?"string":"hash"]:e.map}function Fb(n){var t=Gr(this,n).delete(n);return this.size-=t?1:0,t}function jb(n){return Gr(this,n).get(n)}function zb(n){return Gr(this,n).has(n)}function $b(n,t){var e=Gr(this,n),s=e.size;return e.set(n,t),this.size+=e.size==s?0:1,this}function zn(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var s=n[t];this.set(s[0],s[1])}}zn.prototype.clear=Bb;zn.prototype.delete=Fb;zn.prototype.get=jb;zn.prototype.has=zb;zn.prototype.set=$b;function Hb(n,t){for(var e=-1,s=t.length,i=n.length;++e<s;)n[i+e]=t[e];return n}var yf=mf(Object.getPrototypeOf,Object),Ub="[object Object]",Vb=Function.prototype,Wb=Object.prototype,xf=Vb.toString,Kb=Wb.hasOwnProperty,Gb=xf.call(Object);function Yb(n){if(!Ue(n)||ws(n)!=Ub)return!1;var t=yf(n);if(t===null)return!0;var e=Kb.call(t,"constructor")&&t.constructor;return typeof e=="function"&&e instanceof e&&xf.call(e)==Gb}function Xb(){this.__data__=new We,this.size=0}function Zb(n){var t=this.__data__,e=t.delete(n);return this.size=t.size,e}function Jb(n){return this.__data__.get(n)}function Qb(n){return this.__data__.has(n)}var t0=200;function e0(n,t){var e=this.__data__;if(e instanceof We){var s=e.__data__;if(!ci||s.length<t0-1)return s.push([n,t]),this.size=++e.size,this;e=this.__data__=new zn(s)}return e.set(n,t),this.size=e.size,this}function Oe(n){var t=this.__data__=new We(n);this.size=t.size}Oe.prototype.clear=Xb;Oe.prototype.delete=Zb;Oe.prototype.get=Jb;Oe.prototype.has=Qb;Oe.prototype.set=e0;var _f=typeof Qt=="object"&&Qt&&!Qt.nodeType&&Qt,bc=_f&&typeof te=="object"&&te&&!te.nodeType&&te,n0=bc&&bc.exports===_f,yc=n0?Le.Buffer:void 0,xc=yc?yc.allocUnsafe:void 0;function vf(n,t){if(t)return n.slice();var e=n.length,s=xc?xc(e):new n.constructor(e);return n.copy(s),s}function s0(n,t){for(var e=-1,s=n==null?0:n.length,i=0,r=[];++e<s;){var o=n[e];t(o,e,n)&&(r[i++]=o)}return r}function i0(){return[]}var r0=Object.prototype,o0=r0.propertyIsEnumerable,_c=Object.getOwnPropertySymbols,a0=_c?function(n){return n==null?[]:(n=Object(n),s0(_c(n),function(t){return o0.call(n,t)}))}:i0;function l0(n,t,e){var s=t(n);return Rn(n)?s:Hb(s,e(n))}function Pa(n){return l0(n,gb,a0)}var Da=jn(Le,"DataView"),Ia=jn(Le,"Promise"),Ba=jn(Le,"Set"),vc="[object Map]",c0="[object Object]",wc="[object Promise]",Ac="[object Set]",Sc="[object WeakMap]",Ec="[object DataView]",h0=Fn(Da),u0=Fn(ci),f0=Fn(Ia),d0=Fn(Ba),g0=Fn(Ma),ue=ws;(Da&&ue(new Da(new ArrayBuffer(1)))!=Ec||ci&&ue(new ci)!=vc||Ia&&ue(Ia.resolve())!=wc||Ba&&ue(new Ba)!=Ac||Ma&&ue(new Ma)!=Sc)&&(ue=function(n){var t=ws(n),e=t==c0?n.constructor:void 0,s=e?Fn(e):"";if(s)switch(s){case h0:return Ec;case u0:return vc;case f0:return wc;case d0:return Ac;case g0:return Sc}return t});var p0=Object.prototype,m0=p0.hasOwnProperty;function b0(n){var t=n.length,e=new n.constructor(t);return t&&typeof n[0]=="string"&&m0.call(n,"index")&&(e.index=n.index,e.input=n.input),e}var kr=Le.Uint8Array;function dl(n){var t=new n.constructor(n.byteLength);return new kr(t).set(new kr(n)),t}function y0(n,t){var e=dl(n.buffer);return new n.constructor(e,n.byteOffset,n.byteLength)}var x0=/\w*$/;function _0(n){var t=new n.constructor(n.source,x0.exec(n));return t.lastIndex=n.lastIndex,t}var Tc=ln?ln.prototype:void 0,Oc=Tc?Tc.valueOf:void 0;function v0(n){return Oc?Object(Oc.call(n)):{}}function wf(n,t){var e=t?dl(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.length)}var w0="[object Boolean]",A0="[object Date]",S0="[object Map]",E0="[object Number]",T0="[object RegExp]",O0="[object Set]",k0="[object String]",C0="[object Symbol]",L0="[object ArrayBuffer]",N0="[object DataView]",M0="[object Float32Array]",R0="[object Float64Array]",P0="[object Int8Array]",D0="[object Int16Array]",I0="[object Int32Array]",B0="[object Uint8Array]",q0="[object Uint8ClampedArray]",F0="[object Uint16Array]",j0="[object Uint32Array]";function z0(n,t,e){var s=n.constructor;switch(t){case L0:return dl(n);case w0:case A0:return new s(+n);case N0:return y0(n);case M0:case R0:case P0:case D0:case I0:case B0:case q0:case F0:case j0:return wf(n,e);case S0:return new s;case E0:case k0:return new s(n);case T0:return _0(n);case O0:return new s;case C0:return v0(n)}}function Af(n){return typeof n.constructor=="function"&&!hl(n)?am(yf(n)):{}}var $0="[object Map]";function H0(n){return Ue(n)&&ue(n)==$0}var kc=ps&&ps.isMap,U0=kc?ul(kc):H0,V0="[object Set]";function W0(n){return Ue(n)&&ue(n)==V0}var Cc=ps&&ps.isSet,K0=Cc?ul(Cc):W0,G0=1,Sf="[object Arguments]",Y0="[object Array]",X0="[object Boolean]",Z0="[object Date]",J0="[object Error]",Ef="[object Function]",Q0="[object GeneratorFunction]",t1="[object Map]",e1="[object Number]",Tf="[object Object]",n1="[object RegExp]",s1="[object Set]",i1="[object String]",r1="[object Symbol]",o1="[object WeakMap]",a1="[object ArrayBuffer]",l1="[object DataView]",c1="[object Float32Array]",h1="[object Float64Array]",u1="[object Int8Array]",f1="[object Int16Array]",d1="[object Int32Array]",g1="[object Uint8Array]",p1="[object Uint8ClampedArray]",m1="[object Uint16Array]",b1="[object Uint32Array]",pt={};pt[Sf]=pt[Y0]=pt[a1]=pt[l1]=pt[X0]=pt[Z0]=pt[c1]=pt[h1]=pt[u1]=pt[f1]=pt[d1]=pt[t1]=pt[e1]=pt[Tf]=pt[n1]=pt[s1]=pt[i1]=pt[r1]=pt[g1]=pt[p1]=pt[m1]=pt[b1]=!0;pt[J0]=pt[Ef]=pt[o1]=!1;function Ar(n,t,e,s,i,r){var o,a=t&G0;if(o!==void 0)return o;if(!un(n))return n;var l=Rn(n);if(l)o=b0(n);else{var c=ue(n),h=c==Ef||c==Q0;if(ai(n))return vf(n,a);if(c==Tf||c==Sf||h&&!i)o=h?{}:Af(n);else{if(!pt[c])return i?n:{};o=z0(n,c,a)}}r||(r=new Oe);var u=r.get(n);if(u)return u;r.set(n,o),K0(n)?n.forEach(function(p){o.add(Ar(p,t,e,p,n,r))}):U0(n)&&n.forEach(function(p,m){o.set(m,Ar(p,t,e,m,n,r))});var f=Pa,g=l?void 0:f(n);return bm(g||n,function(p,m){g&&(m=p,p=n[m]),hf(o,m,Ar(p,t,e,m,n,r))}),o}var y1=1,x1=4;function hs(n){return Ar(n,y1|x1)}var _1="__lodash_hash_undefined__";function v1(n){return this.__data__.set(n,_1),this}function w1(n){return this.__data__.has(n)}function Cr(n){var t=-1,e=n==null?0:n.length;for(this.__data__=new zn;++t<e;)this.add(n[t])}Cr.prototype.add=Cr.prototype.push=v1;Cr.prototype.has=w1;function A1(n,t){for(var e=-1,s=n==null?0:n.length;++e<s;)if(t(n[e],e,n))return!0;return!1}function S1(n,t){return n.has(t)}var E1=1,T1=2;function Of(n,t,e,s,i,r){var o=e&E1,a=n.length,l=t.length;if(a!=l&&!(o&&l>a))return!1;var c=r.get(n),h=r.get(t);if(c&&h)return c==t&&h==n;var u=-1,f=!0,g=e&T1?new Cr:void 0;for(r.set(n,t),r.set(t,n);++u<a;){var p=n[u],m=t[u];if(s)var b=o?s(m,p,u,t,n,r):s(p,m,u,n,t,r);if(b!==void 0){if(b)continue;f=!1;break}if(g){if(!A1(t,function(x,w){if(!S1(g,w)&&(p===x||i(p,x,e,s,r)))return g.push(w)})){f=!1;break}}else if(!(p===m||i(p,m,e,s,r))){f=!1;break}}return r.delete(n),r.delete(t),f}function O1(n){var t=-1,e=Array(n.size);return n.forEach(function(s,i){e[++t]=[i,s]}),e}function k1(n){var t=-1,e=Array(n.size);return n.forEach(function(s){e[++t]=s}),e}var C1=1,L1=2,N1="[object Boolean]",M1="[object Date]",R1="[object Error]",P1="[object Map]",D1="[object Number]",I1="[object RegExp]",B1="[object Set]",q1="[object String]",F1="[object Symbol]",j1="[object ArrayBuffer]",z1="[object DataView]",Lc=ln?ln.prototype:void 0,ea=Lc?Lc.valueOf:void 0;function $1(n,t,e,s,i,r,o){switch(e){case z1:if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)return!1;n=n.buffer,t=t.buffer;case j1:return!(n.byteLength!=t.byteLength||!r(new kr(n),new kr(t)));case N1:case M1:case D1:return Si(+n,+t);case R1:return n.name==t.name&&n.message==t.message;case I1:case q1:return n==t+"";case P1:var a=O1;case B1:var l=s&C1;if(a||(a=k1),n.size!=t.size&&!l)return!1;var c=o.get(n);if(c)return c==t;s|=L1,o.set(n,t);var h=Of(a(n),a(t),s,i,r,o);return o.delete(n),h;case F1:if(ea)return ea.call(n)==ea.call(t)}return!1}var H1=1,U1=Object.prototype,V1=U1.hasOwnProperty;function W1(n,t,e,s,i,r){var o=e&H1,a=Pa(n),l=a.length,c=Pa(t),h=c.length;if(l!=h&&!o)return!1;for(var u=l;u--;){var f=a[u];if(!(o?f in t:V1.call(t,f)))return!1}var g=r.get(n),p=r.get(t);if(g&&p)return g==t&&p==n;var m=!0;r.set(n,t),r.set(t,n);for(var b=o;++u<l;){f=a[u];var x=n[f],w=t[f];if(s)var S=o?s(w,x,f,t,n,r):s(x,w,f,n,t,r);if(!(S===void 0?x===w||i(x,w,e,s,r):S)){m=!1;break}b||(b=f=="constructor")}if(m&&!b){var T=n.constructor,E=t.constructor;T!=E&&"constructor"in n&&"constructor"in t&&!(typeof T=="function"&&T instanceof T&&typeof E=="function"&&E instanceof E)&&(m=!1)}return r.delete(n),r.delete(t),m}var K1=1,Nc="[object Arguments]",Mc="[object Array]",Zi="[object Object]",G1=Object.prototype,Rc=G1.hasOwnProperty;function Y1(n,t,e,s,i,r){var o=Rn(n),a=Rn(t),l=o?Mc:ue(n),c=a?Mc:ue(t);l=l==Nc?Zi:l,c=c==Nc?Zi:c;var h=l==Zi,u=c==Zi,f=l==c;if(f&&ai(n)){if(!ai(t))return!1;o=!0,h=!1}if(f&&!h)return r||(r=new Oe),o||fl(n)?Of(n,t,e,s,i,r):$1(n,t,l,e,s,i,r);if(!(e&K1)){var g=h&&Rc.call(n,"__wrapped__"),p=u&&Rc.call(t,"__wrapped__");if(g||p){var m=g?n.value():n,b=p?t.value():t;return r||(r=new Oe),i(m,b,e,s,r)}}return f?(r||(r=new Oe),W1(n,t,e,s,i,r)):!1}function kf(n,t,e,s,i){return n===t?!0:n==null||t==null||!Ue(n)&&!Ue(t)?n!==n&&t!==t:Y1(n,t,e,s,kf,i)}function X1(n){return function(t,e,s){for(var i=-1,r=Object(t),o=s(t),a=o.length;a--;){var l=o[++i];if(e(r[l],l,r)===!1)break}return t}}var Z1=X1();function qa(n,t,e){(e!==void 0&&!Si(n[t],e)||e===void 0&&!(t in n))&&cl(n,t,e)}function J1(n){return Ue(n)&&Wr(n)}function Fa(n,t){if(!(t==="constructor"&&typeof n[t]=="function")&&t!="__proto__")return n[t]}function Q1(n){return wm(n,bf(n))}function ty(n,t,e,s,i,r,o){var a=Fa(n,e),l=Fa(t,e),c=o.get(l);if(c){qa(n,e,c);return}var h=r?r(a,l,e+"",n,t,o):void 0,u=h===void 0;if(u){var f=Rn(l),g=!f&&ai(l),p=!f&&!g&&fl(l);h=l,f||g||p?Rn(a)?h=a:J1(a)?h=cm(a):g?(u=!1,h=vf(l,!0)):p?(u=!1,h=wf(l,!0)):h=[]:Yb(l)||Ra(l)?(h=a,Ra(a)?h=Q1(a):(!un(a)||ll(a))&&(h=Af(l))):u=!1}u&&(o.set(l,h),i(h,l,s,r,o),o.delete(l)),qa(n,e,h)}function Cf(n,t,e,s,i){n!==t&&Z1(t,function(r,o){if(i||(i=new Oe),un(r))ty(n,t,o,e,Cf,s,i);else{var a=s?s(Fa(n,o),r,o+"",n,t,i):void 0;a===void 0&&(a=r),qa(n,o,a)}},bf)}function gl(n,t){return kf(n,t)}var rn=Om(function(n,t,e){Cf(n,t,e)}),V=(n=>(n[n.TYPE=3]="TYPE",n[n.LEVEL=12]="LEVEL",n[n.ATTRIBUTE=13]="ATTRIBUTE",n[n.BLOT=14]="BLOT",n[n.INLINE=7]="INLINE",n[n.BLOCK=11]="BLOCK",n[n.BLOCK_BLOT=10]="BLOCK_BLOT",n[n.INLINE_BLOT=6]="INLINE_BLOT",n[n.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",n[n.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",n[n.ANY=15]="ANY",n))(V||{});class Ce{constructor(t,e,s={}){this.attrName=t,this.keyName=e;const i=V.TYPE&V.ATTRIBUTE;this.scope=s.scope!=null?s.scope&V.LEVEL|i:V.ATTRIBUTE,s.whitelist!=null&&(this.whitelist=s.whitelist)}static keys(t){return Array.from(t.attributes).map(e=>e.name)}add(t,e){return this.canAdd(t,e)?(t.setAttribute(this.keyName,e),!0):!1}canAdd(t,e){return this.whitelist==null?!0:typeof e=="string"?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1}remove(t){t.removeAttribute(this.keyName)}value(t){const e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""}}class us extends Error{constructor(t){t="[Parchment] "+t,super(t),this.message=t,this.name=this.constructor.name}}const Lf=class ja{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(t,e=!1){if(t==null)return null;if(this.blots.has(t))return this.blots.get(t)||null;if(e){let s=null;try{s=t.parentNode}catch{return null}return this.find(s,e)}return null}create(t,e,s){const i=this.query(e);if(i==null)throw new us(`Unable to create ${e} blot`);const r=i,o=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:r.create(s),a=new r(t,o,s);return ja.blots.set(a.domNode,a),a}find(t,e=!1){return ja.find(t,e)}query(t,e=V.ANY){let s;return typeof t=="string"?s=this.types[t]||this.attributes[t]:t instanceof Text||t.nodeType===Node.TEXT_NODE?s=this.types.text:typeof t=="number"?t&V.LEVEL&V.BLOCK?s=this.types.block:t&V.LEVEL&V.INLINE&&(s=this.types.inline):t instanceof Element&&((t.getAttribute("class")||"").split(/\s+/).some(i=>(s=this.classes[i],!!s)),s=s||this.tags[t.tagName]),s==null?null:"scope"in s&&e&V.LEVEL&s.scope&&e&V.TYPE&s.scope?s:null}register(...t){return t.map(e=>{const s="blotName"in e,i="attrName"in e;if(!s&&!i)throw new us("Invalid definition");if(s&&e.blotName==="abstract")throw new us("Cannot register abstract class");const r=s?e.blotName:i?e.attrName:void 0;return this.types[r]=e,i?typeof e.keyName=="string"&&(this.attributes[e.keyName]=e):s&&(e.className&&(this.classes[e.className]=e),e.tagName&&(Array.isArray(e.tagName)?e.tagName=e.tagName.map(o=>o.toUpperCase()):e.tagName=e.tagName.toUpperCase(),(Array.isArray(e.tagName)?e.tagName:[e.tagName]).forEach(o=>{(this.tags[o]==null||e.className==null)&&(this.tags[o]=e)}))),e})}};Lf.blots=new WeakMap;let ms=Lf;function Pc(n,t){return(n.getAttribute("class")||"").split(/\s+/).filter(e=>e.indexOf(`${t}-`)===0)}class ey extends Ce{static keys(t){return(t.getAttribute("class")||"").split(/\s+/).map(e=>e.split("-").slice(0,-1).join("-"))}add(t,e){return this.canAdd(t,e)?(this.remove(t),t.classList.add(`${this.keyName}-${e}`),!0):!1}remove(t){Pc(t,this.keyName).forEach(e=>{t.classList.remove(e)}),t.classList.length===0&&t.removeAttribute("class")}value(t){const e=(Pc(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,e)?e:""}}const ye=ey;function na(n){const t=n.split("-"),e=t.slice(1).map(s=>s[0].toUpperCase()+s.slice(1)).join("");return t[0]+e}class ny extends Ce{static keys(t){return(t.getAttribute("style")||"").split(";").map(e=>e.split(":")[0].trim())}add(t,e){return this.canAdd(t,e)?(t.style[na(this.keyName)]=e,!0):!1}remove(t){t.style[na(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")}value(t){const e=t.style[na(this.keyName)];return this.canAdd(t,e)?e:""}}const fn=ny;class sy{constructor(t){this.attributes={},this.domNode=t,this.build()}attribute(t,e){e?t.add(this.domNode,e)&&(t.value(this.domNode)!=null?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])}build(){this.attributes={};const t=ms.find(this.domNode);if(t==null)return;const e=Ce.keys(this.domNode),s=ye.keys(this.domNode),i=fn.keys(this.domNode);e.concat(s).concat(i).forEach(r=>{const o=t.scroll.query(r,V.ATTRIBUTE);o instanceof Ce&&(this.attributes[o.attrName]=o)})}copy(t){Object.keys(this.attributes).forEach(e=>{const s=this.attributes[e].value(this.domNode);t.format(e,s)})}move(t){this.copy(t),Object.keys(this.attributes).forEach(e=>{this.attributes[e].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((t,e)=>(t[e]=this.attributes[e].value(this.domNode),t),{})}}const Yr=sy,Nf=class{constructor(t,e){this.scroll=t,this.domNode=e,ms.blots.set(e,this),this.prev=null,this.next=null}static create(t){if(this.tagName==null)throw new us("Blot definition missing tagName");let e,s;return Array.isArray(this.tagName)?(typeof t=="string"?(s=t.toUpperCase(),parseInt(s,10).toString()===s&&(s=parseInt(s,10))):typeof t=="number"&&(s=t),typeof s=="number"?e=document.createElement(this.tagName[s-1]):s&&this.tagName.indexOf(s)>-1?e=document.createElement(s):e=document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e}get statics(){return this.constructor}attach(){}clone(){const t=this.domNode.cloneNode(!1);return this.scroll.create(t)}detach(){this.parent!=null&&this.parent.removeChild(this),ms.blots.delete(this.domNode)}deleteAt(t,e){this.isolate(t,e).remove()}formatAt(t,e,s,i){const r=this.isolate(t,e);if(this.scroll.query(s,V.BLOT)!=null&&i)r.wrap(s,i);else if(this.scroll.query(s,V.ATTRIBUTE)!=null){const o=this.scroll.create(this.statics.scope);r.wrap(o),o.format(s,i)}}insertAt(t,e,s){const i=s==null?this.scroll.create("text",e):this.scroll.create(e,s),r=this.split(t);this.parent.insertBefore(i,r||void 0)}isolate(t,e){const s=this.split(t);if(s==null)throw new Error("Attempt to isolate at end");return s.split(e),s}length(){return 1}offset(t=this.parent){return this.parent==null||this===t?0:this.parent.children.offset(this)+this.parent.offset(t)}optimize(t){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(t,e){const s=typeof t=="string"?this.scroll.create(t,e):t;return this.parent!=null&&(this.parent.insertBefore(s,this.next||void 0),this.remove()),s}split(t,e){return t===0?this:this.next}update(t,e){}wrap(t,e){const s=typeof t=="string"?this.scroll.create(t,e):t;if(this.parent!=null&&this.parent.insertBefore(s,this.next||void 0),typeof s.appendChild!="function")throw new us(`Cannot wrap ${t}`);return s.appendChild(this),s}};Nf.blotName="abstract";let Mf=Nf;const Rf=class extends Mf{static value(t){return!0}index(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1}position(t,e){let s=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return t>0&&(s+=1),[this.parent.domNode,s]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};Rf.scope=V.INLINE_BLOT;let iy=Rf;const jt=iy;class ry{constructor(){this.head=null,this.tail=null,this.length=0}append(...t){if(this.insertBefore(t[0],null),t.length>1){const e=t.slice(1);this.append(...e)}}at(t){const e=this.iterator();let s=e();for(;s&&t>0;)t-=1,s=e();return s}contains(t){const e=this.iterator();let s=e();for(;s;){if(s===t)return!0;s=e()}return!1}indexOf(t){const e=this.iterator();let s=e(),i=0;for(;s;){if(s===t)return i;i+=1,s=e()}return-1}insertBefore(t,e){t!=null&&(this.remove(t),t.next=e,e!=null?(t.prev=e.prev,e.prev!=null&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):this.tail!=null?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)}offset(t){let e=0,s=this.head;for(;s!=null;){if(s===t)return e;e+=s.length(),s=s.next}return-1}remove(t){this.contains(t)&&(t.prev!=null&&(t.prev.next=t.next),t.next!=null&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)}iterator(t=this.head){return()=>{const e=t;return t!=null&&(t=t.next),e}}find(t,e=!1){const s=this.iterator();let i=s();for(;i;){const r=i.length();if(t<r||e&&t===r&&(i.next==null||i.next.length()!==0))return[i,t];t-=r,i=s()}return[null,0]}forEach(t){const e=this.iterator();let s=e();for(;s;)t(s),s=e()}forEachAt(t,e,s){if(e<=0)return;const[i,r]=this.find(t);let o=t-r;const a=this.iterator(i);let l=a();for(;l&&o<t+e;){const c=l.length();t>o?s(l,t-o,Math.min(e,o+c-t)):s(l,0,Math.min(c,t+e-o)),o+=c,l=a()}}map(t){return this.reduce((e,s)=>(e.push(t(s)),e),[])}reduce(t,e){const s=this.iterator();let i=s();for(;i;)e=t(e,i),i=s();return e}}function Dc(n,t){const e=t.find(n);if(e)return e;try{return t.create(n)}catch{const s=t.create(V.INLINE);return Array.from(n.childNodes).forEach(i=>{s.domNode.appendChild(i)}),n.parentNode&&n.parentNode.replaceChild(s.domNode,n),s.attach(),s}}const Pf=class Ze extends Mf{constructor(t,e){super(t,e),this.uiNode=null,this.build()}appendChild(t){this.insertBefore(t)}attach(){super.attach(),this.children.forEach(t=>{t.attach()})}attachUI(t){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=t,Ze.uiClass&&this.uiNode.classList.add(Ze.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new ry,Array.from(this.domNode.childNodes).filter(t=>t!==this.uiNode).reverse().forEach(t=>{try{const e=Dc(t,this.scroll);this.insertBefore(e,this.children.head||void 0)}catch(e){if(e instanceof us)return;throw e}})}deleteAt(t,e){if(t===0&&e===this.length())return this.remove();this.children.forEachAt(t,e,(s,i,r)=>{s.deleteAt(i,r)})}descendant(t,e=0){const[s,i]=this.children.find(e);return t.blotName==null&&t(s)||t.blotName!=null&&s instanceof t?[s,i]:s instanceof Ze?s.descendant(t,i):[null,-1]}descendants(t,e=0,s=Number.MAX_VALUE){let i=[],r=s;return this.children.forEachAt(e,s,(o,a,l)=>{(t.blotName==null&&t(o)||t.blotName!=null&&o instanceof t)&&i.push(o),o instanceof Ze&&(i=i.concat(o.descendants(t,a,r))),r-=l}),i}detach(){this.children.forEach(t=>{t.detach()}),super.detach()}enforceAllowedChildren(){let t=!1;this.children.forEach(e=>{t||this.statics.allowedChildren.some(s=>e instanceof s)||(e.statics.scope===V.BLOCK_BLOT?(e.next!=null&&this.splitAfter(e),e.prev!=null&&this.splitAfter(e.prev),e.parent.unwrap(),t=!0):e instanceof Ze?e.unwrap():e.remove())})}formatAt(t,e,s,i){this.children.forEachAt(t,e,(r,o,a)=>{r.formatAt(o,a,s,i)})}insertAt(t,e,s){const[i,r]=this.children.find(t);if(i)i.insertAt(r,e,s);else{const o=s==null?this.scroll.create("text",e):this.scroll.create(e,s);this.appendChild(o)}}insertBefore(t,e){t.parent!=null&&t.parent.children.remove(t);let s=null;this.children.insertBefore(t,e||null),t.parent=this,e!=null&&(s=e.domNode),(this.domNode.parentNode!==t.domNode||this.domNode.nextSibling!==s)&&this.domNode.insertBefore(t.domNode,s),t.attach()}length(){return this.children.reduce((t,e)=>t+e.length(),0)}moveChildren(t,e){this.children.forEach(s=>{t.insertBefore(s,e)})}optimize(t){if(super.optimize(t),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const e=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(e)}else this.remove()}path(t,e=!1){const[s,i]=this.children.find(t,e),r=[[this,t]];return s instanceof Ze?r.concat(s.path(i,e)):(s!=null&&r.push([s,i]),r)}removeChild(t){this.children.remove(t)}replaceWith(t,e){const s=typeof t=="string"?this.scroll.create(t,e):t;return s instanceof Ze&&this.moveChildren(s),super.replaceWith(s)}split(t,e=!1){if(!e){if(t===0)return this;if(t===this.length())return this.next}const s=this.clone();return this.parent&&this.parent.insertBefore(s,this.next||void 0),this.children.forEachAt(t,this.length(),(i,r,o)=>{const a=i.split(r,e);a!=null&&s.appendChild(a)}),s}splitAfter(t){const e=this.clone();for(;t.next!=null;)e.appendChild(t.next);return this.parent&&this.parent.insertBefore(e,this.next||void 0),e}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(t,e){const s=[],i=[];t.forEach(r=>{r.target===this.domNode&&r.type==="childList"&&(s.push(...r.addedNodes),i.push(...r.removedNodes))}),i.forEach(r=>{if(r.parentNode!=null&&r.tagName!=="IFRAME"&&document.body.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const o=this.scroll.find(r);o!=null&&(o.domNode.parentNode==null||o.domNode.parentNode===this.domNode)&&o.detach()}),s.filter(r=>r.parentNode===this.domNode&&r!==this.uiNode).sort((r,o)=>r===o?0:r.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(r=>{let o=null;r.nextSibling!=null&&(o=this.scroll.find(r.nextSibling));const a=Dc(r,this.scroll);(a.next!==o||a.next==null)&&(a.parent!=null&&a.parent.removeChild(this),this.insertBefore(a,o||void 0))}),this.enforceAllowedChildren()}};Pf.uiClass="";let oy=Pf;const pe=oy;function ay(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(const e in n)if(n[e]!==t[e])return!1;return!0}const rs=class os extends pe{static create(t){return super.create(t)}static formats(t,e){const s=e.query(os.blotName);if(!(s!=null&&t.tagName===s.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new Yr(this.domNode)}format(t,e){if(t===this.statics.blotName&&!e)this.children.forEach(s=>{s instanceof os||(s=s.wrap(os.blotName,!0)),this.attributes.copy(s)}),this.unwrap();else{const s=this.scroll.query(t,V.INLINE);if(s==null)return;s instanceof Ce?this.attributes.attribute(s,e):e&&(t!==this.statics.blotName||this.formats()[t]!==e)&&this.replaceWith(t,e)}}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return e!=null&&(t[this.statics.blotName]=e),t}formatAt(t,e,s,i){this.formats()[s]!=null||this.scroll.query(s,V.ATTRIBUTE)?this.isolate(t,e).format(s,i):super.formatAt(t,e,s,i)}optimize(t){super.optimize(t);const e=this.formats();if(Object.keys(e).length===0)return this.unwrap();const s=this.next;s instanceof os&&s.prev===this&&ay(e,s.formats())&&(s.moveChildren(this),s.remove())}replaceWith(t,e){const s=super.replaceWith(t,e);return this.attributes.copy(s),s}update(t,e){super.update(t,e),t.some(s=>s.target===this.domNode&&s.type==="attributes")&&this.attributes.build()}wrap(t,e){const s=super.wrap(t,e);return s instanceof os&&this.attributes.move(s),s}};rs.allowedChildren=[rs,jt],rs.blotName="inline",rs.scope=V.INLINE_BLOT,rs.tagName="SPAN";let ly=rs;const pl=ly,as=class za extends pe{static create(t){return super.create(t)}static formats(t,e){const s=e.query(za.blotName);if(!(s!=null&&t.tagName===s.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new Yr(this.domNode)}format(t,e){const s=this.scroll.query(t,V.BLOCK);s!=null&&(s instanceof Ce?this.attributes.attribute(s,e):t===this.statics.blotName&&!e?this.replaceWith(za.blotName):e&&(t!==this.statics.blotName||this.formats()[t]!==e)&&this.replaceWith(t,e))}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return e!=null&&(t[this.statics.blotName]=e),t}formatAt(t,e,s,i){this.scroll.query(s,V.BLOCK)!=null?this.format(s,i):super.formatAt(t,e,s,i)}insertAt(t,e,s){if(s==null||this.scroll.query(e,V.INLINE)!=null)super.insertAt(t,e,s);else{const i=this.split(t);if(i!=null){const r=this.scroll.create(e,s);i.parent.insertBefore(r,i)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(t,e){const s=super.replaceWith(t,e);return this.attributes.copy(s),s}update(t,e){super.update(t,e),t.some(s=>s.target===this.domNode&&s.type==="attributes")&&this.attributes.build()}};as.blotName="block",as.scope=V.BLOCK_BLOT,as.tagName="P",as.allowedChildren=[pl,as,jt];let cy=as;const hi=cy,$a=class extends pe{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(t,e){super.deleteAt(t,e),this.enforceAllowedChildren()}formatAt(t,e,s,i){super.formatAt(t,e,s,i),this.enforceAllowedChildren()}insertAt(t,e,s){super.insertAt(t,e,s),this.enforceAllowedChildren()}optimize(t){super.optimize(t),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};$a.blotName="container",$a.scope=V.BLOCK_BLOT;let hy=$a;const Xr=hy;class uy extends jt{static formats(t,e){}format(t,e){super.formatAt(0,this.length(),t,e)}formatAt(t,e,s,i){t===0&&e===this.length()?this.format(s,i):super.formatAt(t,e,s,i)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const ee=uy,fy={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},dy=100,ls=class extends pe{constructor(t,e){super(null,e),this.registry=t,this.scroll=this,this.build(),this.observer=new MutationObserver(s=>{this.update(s)}),this.observer.observe(this.domNode,fy),this.attach()}create(t,e){return this.registry.create(this,t,e)}find(t,e=!1){const s=this.registry.find(t,e);return s?s.scroll===this?s:e?this.find(s.scroll.domNode.parentNode,!0):null:null}query(t,e=V.ANY){return this.registry.query(t,e)}register(...t){return this.registry.register(...t)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(t,e){this.update(),t===0&&e===this.length()?this.children.forEach(s=>{s.remove()}):super.deleteAt(t,e)}formatAt(t,e,s,i){this.update(),super.formatAt(t,e,s,i)}insertAt(t,e,s){this.update(),super.insertAt(t,e,s)}optimize(t=[],e={}){super.optimize(e);const s=e.mutationsMap||new WeakMap;let i=Array.from(this.observer.takeRecords());for(;i.length>0;)t.push(i.pop());const r=(l,c=!0)=>{l==null||l===this||l.domNode.parentNode!=null&&(s.has(l.domNode)||s.set(l.domNode,[]),c&&r(l.parent))},o=l=>{s.has(l.domNode)&&(l instanceof pe&&l.children.forEach(o),s.delete(l.domNode),l.optimize(e))};let a=t;for(let l=0;a.length>0;l+=1){if(l>=dy)throw new Error("[Parchment] Maximum optimize iterations reached");for(a.forEach(c=>{const h=this.find(c.target,!0);h!=null&&(h.domNode===c.target&&(c.type==="childList"?(r(this.find(c.previousSibling,!1)),Array.from(c.addedNodes).forEach(u=>{const f=this.find(u,!1);r(f,!1),f instanceof pe&&f.children.forEach(g=>{r(g,!1)})})):c.type==="attributes"&&r(h.prev)),r(h))}),this.children.forEach(o),a=Array.from(this.observer.takeRecords()),i=a.slice();i.length>0;)t.push(i.pop())}}update(t,e={}){t=t||this.observer.takeRecords();const s=new WeakMap;t.map(i=>{const r=this.find(i.target,!0);return r==null?null:s.has(r.domNode)?(s.get(r.domNode).push(i),null):(s.set(r.domNode,[i]),r)}).forEach(i=>{i!=null&&i!==this&&s.has(i.domNode)&&i.update(s.get(i.domNode)||[],e)}),e.mutationsMap=s,s.has(this.domNode)&&super.update(s.get(this.domNode),e),this.optimize(t,e)}};ls.blotName="scroll",ls.defaultChild=hi,ls.allowedChildren=[hi,Xr],ls.scope=V.BLOCK_BLOT,ls.tagName="DIV";let gy=ls;const ml=gy,Ha=class Df extends jt{static create(t){return document.createTextNode(t)}static value(t){return t.data}constructor(t,e){super(t,e),this.text=this.statics.value(this.domNode)}deleteAt(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)}index(t,e){return this.domNode===t?e:-1}insertAt(t,e,s){s==null?(this.text=this.text.slice(0,t)+e+this.text.slice(t),this.domNode.data=this.text):super.insertAt(t,e,s)}length(){return this.text.length}optimize(t){super.optimize(t),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof Df&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(t,e=!1){return[this.domNode,t]}split(t,e=!1){if(!e){if(t===0)return this;if(t===this.length())return this.next}const s=this.scroll.create(this.domNode.splitText(t));return this.parent.insertBefore(s,this.next||void 0),this.text=this.statics.value(this.domNode),s}update(t,e){t.some(s=>s.type==="characterData"&&s.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};Ha.blotName="text",Ha.scope=V.INLINE_BLOT;let py=Ha;const Lr=py,my=Object.freeze(Object.defineProperty({__proto__:null,Attributor:Ce,AttributorStore:Yr,BlockBlot:hi,ClassAttributor:ye,ContainerBlot:Xr,EmbedBlot:ee,InlineBlot:pl,LeafBlot:jt,ParentBlot:pe,Registry:ms,Scope:V,ScrollBlot:ml,StyleAttributor:fn,TextBlot:Lr},Symbol.toStringTag,{value:"Module"}));var Je=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function If(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ji={exports:{}},sa,Ic;function by(){if(Ic)return sa;Ic=1;var n=-1,t=1,e=0;function s(_,C,A,I,M){if(_===C)return _?[[e,_]]:[];if(A!=null){var k=z(_,C,A);if(k)return k}var D=a(_,C),q=_.substring(0,D);_=_.substring(D),C=C.substring(D),D=c(_,C);var j=_.substring(_.length-D);_=_.substring(0,_.length-D),C=C.substring(0,C.length-D);var F=i(_,C);return q&&F.unshift([e,q]),j&&F.push([e,j]),w(F,M),I&&u(F),F}function i(_,C){var A;if(!_)return[[t,C]];if(!C)return[[n,_]];var I=_.length>C.length?_:C,M=_.length>C.length?C:_,k=I.indexOf(M);if(k!==-1)return A=[[t,I.substring(0,k)],[e,M],[t,I.substring(k+M.length)]],_.length>C.length&&(A[0][0]=A[2][0]=n),A;if(M.length===1)return[[n,_],[t,C]];var D=h(_,C);if(D){var q=D[0],j=D[1],F=D[2],Y=D[3],W=D[4],Z=s(q,F),X=s(j,Y);return Z.concat([[e,W]],X)}return r(_,C)}function r(_,C){for(var A=_.length,I=C.length,M=Math.ceil((A+I)/2),k=M,D=2*M,q=new Array(D),j=new Array(D),F=0;F<D;F++)q[F]=-1,j[F]=-1;q[k+1]=0,j[k+1]=0;for(var Y=A-I,W=Y%2!==0,Z=0,X=0,H=0,it=0,xt=0;xt<M;xt++){for(var et=-xt+Z;et<=xt-X;et+=2){var ct=k+et,lt;et===-xt||et!==xt&&q[ct-1]<q[ct+1]?lt=q[ct+1]:lt=q[ct-1]+1;for(var ht=lt-et;lt<A&&ht<I&&_.charAt(lt)===C.charAt(ht);)lt++,ht++;if(q[ct]=lt,lt>A)X+=2;else if(ht>I)Z+=2;else if(W){var ft=k+Y-et;if(ft>=0&&ft<D&&j[ft]!==-1){var gt=A-j[ft];if(lt>=gt)return o(_,C,lt,ht)}}}for(var Et=-xt+H;Et<=xt-it;Et+=2){var ft=k+Et,gt;Et===-xt||Et!==xt&&j[ft-1]<j[ft+1]?gt=j[ft+1]:gt=j[ft-1]+1;for(var Rt=gt-Et;gt<A&&Rt<I&&_.charAt(A-gt-1)===C.charAt(I-Rt-1);)gt++,Rt++;if(j[ft]=gt,gt>A)it+=2;else if(Rt>I)H+=2;else if(!W){var ct=k+Y-Et;if(ct>=0&&ct<D&&q[ct]!==-1){var lt=q[ct],ht=k+lt-ct;if(gt=A-gt,lt>=gt)return o(_,C,lt,ht)}}}}return[[n,_],[t,C]]}function o(_,C,A,I){var M=_.substring(0,A),k=C.substring(0,I),D=_.substring(A),q=C.substring(I),j=s(M,k),F=s(D,q);return j.concat(F)}function a(_,C){if(!_||!C||_.charAt(0)!==C.charAt(0))return 0;for(var A=0,I=Math.min(_.length,C.length),M=I,k=0;A<M;)_.substring(k,M)==C.substring(k,M)?(A=M,k=A):I=M,M=Math.floor((I-A)/2+A);return S(_.charCodeAt(M-1))&&M--,M}function l(_,C){var A=_.length,I=C.length;if(A==0||I==0)return 0;A>I?_=_.substring(A-I):A<I&&(C=C.substring(0,A));var M=Math.min(A,I);if(_==C)return M;for(var k=0,D=1;;){var q=_.substring(M-D),j=C.indexOf(q);if(j==-1)return k;D+=j,(j==0||_.substring(M-D)==C.substring(0,D))&&(k=D,D++)}}function c(_,C){if(!_||!C||_.slice(-1)!==C.slice(-1))return 0;for(var A=0,I=Math.min(_.length,C.length),M=I,k=0;A<M;)_.substring(_.length-M,_.length-k)==C.substring(C.length-M,C.length-k)?(A=M,k=A):I=M,M=Math.floor((I-A)/2+A);return T(_.charCodeAt(_.length-M))&&M--,M}function h(_,C){var A=_.length>C.length?_:C,I=_.length>C.length?C:_;if(A.length<4||I.length*2<A.length)return null;function M(X,H,it){for(var xt=X.substring(it,it+Math.floor(X.length/4)),et=-1,ct="",lt,ht,ft,gt;(et=H.indexOf(xt,et+1))!==-1;){var Et=a(X.substring(it),H.substring(et)),Rt=c(X.substring(0,it),H.substring(0,et));ct.length<Rt+Et&&(ct=H.substring(et-Rt,et)+H.substring(et,et+Et),lt=X.substring(0,it-Rt),ht=X.substring(it+Et),ft=H.substring(0,et-Rt),gt=H.substring(et+Et))}return ct.length*2>=X.length?[lt,ht,ft,gt,ct]:null}var k=M(A,I,Math.ceil(A.length/4)),D=M(A,I,Math.ceil(A.length/2)),q;if(!k&&!D)return null;D?k?q=k[4].length>D[4].length?k:D:q=D:q=k;var j,F,Y,W;_.length>C.length?(j=q[0],F=q[1],Y=q[2],W=q[3]):(Y=q[0],W=q[1],j=q[2],F=q[3]);var Z=q[4];return[j,F,Y,W,Z]}function u(_){for(var C=!1,A=[],I=0,M=null,k=0,D=0,q=0,j=0,F=0;k<_.length;)_[k][0]==e?(A[I++]=k,D=j,q=F,j=0,F=0,M=_[k][1]):(_[k][0]==t?j+=_[k][1].length:F+=_[k][1].length,M&&M.length<=Math.max(D,q)&&M.length<=Math.max(j,F)&&(_.splice(A[I-1],0,[n,M]),_[A[I-1]+1][0]=t,I--,I--,k=I>0?A[I-1]:-1,D=0,q=0,j=0,F=0,M=null,C=!0)),k++;for(C&&w(_),x(_),k=1;k<_.length;){if(_[k-1][0]==n&&_[k][0]==t){var Y=_[k-1][1],W=_[k][1],Z=l(Y,W),X=l(W,Y);Z>=X?(Z>=Y.length/2||Z>=W.length/2)&&(_.splice(k,0,[e,W.substring(0,Z)]),_[k-1][1]=Y.substring(0,Y.length-Z),_[k+1][1]=W.substring(Z),k++):(X>=Y.length/2||X>=W.length/2)&&(_.splice(k,0,[e,Y.substring(0,X)]),_[k-1][0]=t,_[k-1][1]=W.substring(0,W.length-X),_[k+1][0]=n,_[k+1][1]=Y.substring(X),k++),k++}k++}}var f=/[^a-zA-Z0-9]/,g=/\s/,p=/[\r\n]/,m=/\n\r?\n$/,b=/^\r?\n\r?\n/;function x(_){function C(X,H){if(!X||!H)return 6;var it=X.charAt(X.length-1),xt=H.charAt(0),et=it.match(f),ct=xt.match(f),lt=et&&it.match(g),ht=ct&&xt.match(g),ft=lt&&it.match(p),gt=ht&&xt.match(p),Et=ft&&X.match(m),Rt=gt&&H.match(b);return Et||Rt?5:ft||gt?4:et&&!lt&&ht?3:lt||ht?2:et||ct?1:0}for(var A=1;A<_.length-1;){if(_[A-1][0]==e&&_[A+1][0]==e){var I=_[A-1][1],M=_[A][1],k=_[A+1][1],D=c(I,M);if(D){var q=M.substring(M.length-D);I=I.substring(0,I.length-D),M=q+M.substring(0,M.length-D),k=q+k}for(var j=I,F=M,Y=k,W=C(I,M)+C(M,k);M.charAt(0)===k.charAt(0);){I+=M.charAt(0),M=M.substring(1)+k.charAt(0),k=k.substring(1);var Z=C(I,M)+C(M,k);Z>=W&&(W=Z,j=I,F=M,Y=k)}_[A-1][1]!=j&&(j?_[A-1][1]=j:(_.splice(A-1,1),A--),_[A][1]=F,Y?_[A+1][1]=Y:(_.splice(A+1,1),A--))}A++}}function w(_,C){_.push([e,""]);for(var A=0,I=0,M=0,k="",D="",q;A<_.length;){if(A<_.length-1&&!_[A][1]){_.splice(A,1);continue}switch(_[A][0]){case t:M++,D+=_[A][1],A++;break;case n:I++,k+=_[A][1],A++;break;case e:var j=A-M-I-1;if(C){if(j>=0&&R(_[j][1])){var F=_[j][1].slice(-1);if(_[j][1]=_[j][1].slice(0,-1),k=F+k,D=F+D,!_[j][1]){_.splice(j,1),A--;var Y=j-1;_[Y]&&_[Y][0]===t&&(M++,D=_[Y][1]+D,Y--),_[Y]&&_[Y][0]===n&&(I++,k=_[Y][1]+k,Y--),j=Y}}if(E(_[A][1])){var F=_[A][1].charAt(0);_[A][1]=_[A][1].slice(1),k+=F,D+=F}}if(A<_.length-1&&!_[A][1]){_.splice(A,1);break}if(k.length>0||D.length>0){k.length>0&&D.length>0&&(q=a(D,k),q!==0&&(j>=0?_[j][1]+=D.substring(0,q):(_.splice(0,0,[e,D.substring(0,q)]),A++),D=D.substring(q),k=k.substring(q)),q=c(D,k),q!==0&&(_[A][1]=D.substring(D.length-q)+_[A][1],D=D.substring(0,D.length-q),k=k.substring(0,k.length-q)));var W=M+I;k.length===0&&D.length===0?(_.splice(A-W,W),A=A-W):k.length===0?(_.splice(A-W,W,[t,D]),A=A-W+1):D.length===0?(_.splice(A-W,W,[n,k]),A=A-W+1):(_.splice(A-W,W,[n,k],[t,D]),A=A-W+2)}A!==0&&_[A-1][0]===e?(_[A-1][1]+=_[A][1],_.splice(A,1)):A++,M=0,I=0,k="",D="";break}}_[_.length-1][1]===""&&_.pop();var Z=!1;for(A=1;A<_.length-1;)_[A-1][0]===e&&_[A+1][0]===e&&(_[A][1].substring(_[A][1].length-_[A-1][1].length)===_[A-1][1]?(_[A][1]=_[A-1][1]+_[A][1].substring(0,_[A][1].length-_[A-1][1].length),_[A+1][1]=_[A-1][1]+_[A+1][1],_.splice(A-1,1),Z=!0):_[A][1].substring(0,_[A+1][1].length)==_[A+1][1]&&(_[A-1][1]+=_[A+1][1],_[A][1]=_[A][1].substring(_[A+1][1].length)+_[A+1][1],_.splice(A+1,1),Z=!0)),A++;Z&&w(_,C)}function S(_){return _>=55296&&_<=56319}function T(_){return _>=56320&&_<=57343}function E(_){return T(_.charCodeAt(0))}function R(_){return S(_.charCodeAt(_.length-1))}function P(_){for(var C=[],A=0;A<_.length;A++)_[A][1].length>0&&C.push(_[A]);return C}function B(_,C,A,I){return R(_)||E(I)?null:P([[e,_],[n,C],[t,A],[e,I]])}function z(_,C,A){var I=typeof A=="number"?{index:A,length:0}:A.oldRange,M=typeof A=="number"?null:A.newRange,k=_.length,D=C.length;if(I.length===0&&(M===null||M.length===0)){var q=I.index,j=_.slice(0,q),F=_.slice(q),Y=M?M.index:null;t:{var W=q+D-k;if(Y!==null&&Y!==W||W<0||W>D)break t;var Z=C.slice(0,W),X=C.slice(W);if(X!==F)break t;var H=Math.min(q,W),it=j.slice(0,H),xt=Z.slice(0,H);if(it!==xt)break t;var et=j.slice(H),ct=Z.slice(H);return B(it,et,ct,F)}t:{if(Y!==null&&Y!==q)break t;var lt=q,Z=C.slice(0,lt),X=C.slice(lt);if(Z!==j)break t;var ht=Math.min(k-lt,D-lt),ft=F.slice(F.length-ht),gt=X.slice(X.length-ht);if(ft!==gt)break t;var et=F.slice(0,F.length-ht),ct=X.slice(0,X.length-ht);return B(j,et,ct,ft)}}if(I.length>0&&M&&M.length===0)t:{var it=_.slice(0,I.index),ft=_.slice(I.index+I.length),H=it.length,ht=ft.length;if(D<H+ht)break t;var xt=C.slice(0,H),gt=C.slice(D-ht);if(it!==xt||ft!==gt)break t;var et=_.slice(H,k-ht),ct=C.slice(H,D-ht);return B(it,et,ct,ft)}return null}function K(_,C,A,I){return s(_,C,A,I,!0)}return K.INSERT=t,K.DELETE=n,K.EQUAL=e,sa=K,sa}var Gs={exports:{}};Gs.exports;var Bc;function Bf(){return Bc||(Bc=1,(function(n,t){var e=200,s="__lodash_hash_undefined__",i=9007199254740991,r="[object Arguments]",o="[object Array]",a="[object Boolean]",l="[object Date]",c="[object Error]",h="[object Function]",u="[object GeneratorFunction]",f="[object Map]",g="[object Number]",p="[object Object]",m="[object Promise]",b="[object RegExp]",x="[object Set]",w="[object String]",S="[object Symbol]",T="[object WeakMap]",E="[object ArrayBuffer]",R="[object DataView]",P="[object Float32Array]",B="[object Float64Array]",z="[object Int8Array]",K="[object Int16Array]",_="[object Int32Array]",C="[object Uint8Array]",A="[object Uint8ClampedArray]",I="[object Uint16Array]",M="[object Uint32Array]",k=/[\\^$.*+?()[\]{}|]/g,D=/\w*$/,q=/^\[object .+?Constructor\]$/,j=/^(?:0|[1-9]\d*)$/,F={};F[r]=F[o]=F[E]=F[R]=F[a]=F[l]=F[P]=F[B]=F[z]=F[K]=F[_]=F[f]=F[g]=F[p]=F[b]=F[x]=F[w]=F[S]=F[C]=F[A]=F[I]=F[M]=!0,F[c]=F[h]=F[T]=!1;var Y=typeof Je=="object"&&Je&&Je.Object===Object&&Je,W=typeof self=="object"&&self&&self.Object===Object&&self,Z=Y||W||Function("return this")(),X=t&&!t.nodeType&&t,H=X&&!0&&n&&!n.nodeType&&n,it=H&&H.exports===X;function xt(d,y){return d.set(y[0],y[1]),d}function et(d,y){return d.add(y),d}function ct(d,y){for(var v=-1,L=d?d.length:0;++v<L&&y(d[v],v,d)!==!1;);return d}function lt(d,y){for(var v=-1,L=y.length,Q=d.length;++v<L;)d[Q+v]=y[v];return d}function ht(d,y,v,L){for(var Q=-1,G=d?d.length:0;++Q<G;)v=y(v,d[Q],Q,d);return v}function ft(d,y){for(var v=-1,L=Array(d);++v<d;)L[v]=y(v);return L}function gt(d,y){return d?.[y]}function Et(d){var y=!1;if(d!=null&&typeof d.toString!="function")try{y=!!(d+"")}catch{}return y}function Rt(d){var y=-1,v=Array(d.size);return d.forEach(function(L,Q){v[++y]=[Q,L]}),v}function Ss(d,y){return function(v){return d(y(v))}}function Ni(d){var y=-1,v=Array(d.size);return d.forEach(function(L){v[++y]=L}),v}var lo=Array.prototype,co=Function.prototype,Wn=Object.prototype,Es=Z["__core-js_shared__"],Mi=(function(){var d=/[^.]+$/.exec(Es&&Es.keys&&Es.keys.IE_PROTO||"");return d?"Symbol(src)_1."+d:""})(),Ri=co.toString,_e=Wn.hasOwnProperty,Kn=Wn.toString,ho=RegExp("^"+Ri.call(_e).replace(k,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),pn=it?Z.Buffer:void 0,Gn=Z.Symbol,Ts=Z.Uint8Array,ne=Ss(Object.getPrototypeOf,Object),Pi=Object.create,Di=Wn.propertyIsEnumerable,uo=lo.splice,Os=Object.getOwnPropertySymbols,Yn=pn?pn.isBuffer:void 0,Ii=Ss(Object.keys,Object),Xn=ce(Z,"DataView"),mn=ce(Z,"Map"),le=ce(Z,"Promise"),Zn=ce(Z,"Set"),ks=ce(Z,"WeakMap"),bn=ce(Object,"create"),Cs=Ht(Xn),yn=Ht(mn),Ls=Ht(le),Ns=Ht(Zn),Ms=Ht(ks),Ye=Gn?Gn.prototype:void 0,Bi=Ye?Ye.valueOf:void 0;function Me(d){var y=-1,v=d?d.length:0;for(this.clear();++y<v;){var L=d[y];this.set(L[0],L[1])}}function fo(){this.__data__=bn?bn(null):{}}function go(d){return this.has(d)&&delete this.__data__[d]}function po(d){var y=this.__data__;if(bn){var v=y[d];return v===s?void 0:v}return _e.call(y,d)?y[d]:void 0}function qi(d){var y=this.__data__;return bn?y[d]!==void 0:_e.call(y,d)}function Rs(d,y){var v=this.__data__;return v[d]=bn&&y===void 0?s:y,this}Me.prototype.clear=fo,Me.prototype.delete=go,Me.prototype.get=po,Me.prototype.has=qi,Me.prototype.set=Rs;function Lt(d){var y=-1,v=d?d.length:0;for(this.clear();++y<v;){var L=d[y];this.set(L[0],L[1])}}function mo(){this.__data__=[]}function bo(d){var y=this.__data__,v=Qn(y,d);if(v<0)return!1;var L=y.length-1;return v==L?y.pop():uo.call(y,v,1),!0}function yo(d){var y=this.__data__,v=Qn(y,d);return v<0?void 0:y[v][1]}function xo(d){return Qn(this.__data__,d)>-1}function _o(d,y){var v=this.__data__,L=Qn(v,d);return L<0?v.push([d,y]):v[L][1]=y,this}Lt.prototype.clear=mo,Lt.prototype.delete=bo,Lt.prototype.get=yo,Lt.prototype.has=xo,Lt.prototype.set=_o;function Pt(d){var y=-1,v=d?d.length:0;for(this.clear();++y<v;){var L=d[y];this.set(L[0],L[1])}}function vo(){this.__data__={hash:new Me,map:new(mn||Lt),string:new Me}}function wo(d){return _n(this,d).delete(d)}function Ao(d){return _n(this,d).get(d)}function So(d){return _n(this,d).has(d)}function Eo(d,y){return _n(this,d).set(d,y),this}Pt.prototype.clear=vo,Pt.prototype.delete=wo,Pt.prototype.get=Ao,Pt.prototype.has=So,Pt.prototype.set=Eo;function Wt(d){this.__data__=new Lt(d)}function To(){this.__data__=new Lt}function Oo(d){return this.__data__.delete(d)}function ko(d){return this.__data__.get(d)}function Co(d){return this.__data__.has(d)}function Lo(d,y){var v=this.__data__;if(v instanceof Lt){var L=v.__data__;if(!mn||L.length<e-1)return L.push([d,y]),this;v=this.__data__=new Pt(L)}return v.set(d,y),this}Wt.prototype.clear=To,Wt.prototype.delete=Oo,Wt.prototype.get=ko,Wt.prototype.has=Co,Wt.prototype.set=Lo;function Jn(d,y){var v=Bs(d)||es(d)?ft(d.length,String):[],L=v.length,Q=!!L;for(var G in d)_e.call(d,G)&&!(Q&&(G=="length"||Uo(G,L)))&&v.push(G);return v}function Fi(d,y,v){var L=d[y];(!(_e.call(d,y)&&Ui(L,v))||v===void 0&&!(y in d))&&(d[y]=v)}function Qn(d,y){for(var v=d.length;v--;)if(Ui(d[v][0],y))return v;return-1}function ve(d,y){return d&&Is(y,Fs(y),d)}function Ps(d,y,v,L,Q,G,ot){var rt;if(L&&(rt=G?L(d,Q,G,ot):L(d)),rt!==void 0)return rt;if(!Ae(d))return d;var Tt=Bs(d);if(Tt){if(rt=$o(d),!y)return Fo(d,rt)}else{var ut=Pe(d),Dt=ut==h||ut==u;if(Vi(d))return ts(d,y);if(ut==p||ut==r||Dt&&!G){if(Et(d))return G?d:{};if(rt=we(Dt?{}:d),!y)return jo(d,ve(rt,d))}else{if(!F[ut])return G?d:{};rt=Ho(d,ut,Ps,y)}}ot||(ot=new Wt);var Kt=ot.get(d);if(Kt)return Kt;if(ot.set(d,rt),!Tt)var Ot=v?zo(d):Fs(d);return ct(Ot||d,function(It,Nt){Ot&&(Nt=It,It=d[Nt]),Fi(rt,Nt,Ps(It,y,v,L,Nt,d,ot))}),rt}function No(d){return Ae(d)?Pi(d):{}}function Mo(d,y,v){var L=y(d);return Bs(d)?L:lt(L,v(d))}function Ro(d){return Kn.call(d)}function Po(d){if(!Ae(d)||Wo(d))return!1;var y=qs(d)||Et(d)?ho:q;return y.test(Ht(d))}function Do(d){if(!$i(d))return Ii(d);var y=[];for(var v in Object(d))_e.call(d,v)&&v!="constructor"&&y.push(v);return y}function ts(d,y){if(y)return d.slice();var v=new d.constructor(d.length);return d.copy(v),v}function Ds(d){var y=new d.constructor(d.byteLength);return new Ts(y).set(new Ts(d)),y}function xn(d,y){var v=y?Ds(d.buffer):d.buffer;return new d.constructor(v,d.byteOffset,d.byteLength)}function ji(d,y,v){var L=y?v(Rt(d),!0):Rt(d);return ht(L,xt,new d.constructor)}function zi(d){var y=new d.constructor(d.source,D.exec(d));return y.lastIndex=d.lastIndex,y}function Io(d,y,v){var L=y?v(Ni(d),!0):Ni(d);return ht(L,et,new d.constructor)}function Bo(d){return Bi?Object(Bi.call(d)):{}}function qo(d,y){var v=y?Ds(d.buffer):d.buffer;return new d.constructor(v,d.byteOffset,d.length)}function Fo(d,y){var v=-1,L=d.length;for(y||(y=Array(L));++v<L;)y[v]=d[v];return y}function Is(d,y,v,L){v||(v={});for(var Q=-1,G=y.length;++Q<G;){var ot=y[Q],rt=void 0;Fi(v,ot,rt===void 0?d[ot]:rt)}return v}function jo(d,y){return Is(d,Re(d),y)}function zo(d){return Mo(d,Fs,Re)}function _n(d,y){var v=d.__data__;return Vo(y)?v[typeof y=="string"?"string":"hash"]:v.map}function ce(d,y){var v=gt(d,y);return Po(v)?v:void 0}var Re=Os?Ss(Os,Object):Go,Pe=Ro;(Xn&&Pe(new Xn(new ArrayBuffer(1)))!=R||mn&&Pe(new mn)!=f||le&&Pe(le.resolve())!=m||Zn&&Pe(new Zn)!=x||ks&&Pe(new ks)!=T)&&(Pe=function(d){var y=Kn.call(d),v=y==p?d.constructor:void 0,L=v?Ht(v):void 0;if(L)switch(L){case Cs:return R;case yn:return f;case Ls:return m;case Ns:return x;case Ms:return T}return y});function $o(d){var y=d.length,v=d.constructor(y);return y&&typeof d[0]=="string"&&_e.call(d,"index")&&(v.index=d.index,v.input=d.input),v}function we(d){return typeof d.constructor=="function"&&!$i(d)?No(ne(d)):{}}function Ho(d,y,v,L){var Q=d.constructor;switch(y){case E:return Ds(d);case a:case l:return new Q(+d);case R:return xn(d,L);case P:case B:case z:case K:case _:case C:case A:case I:case M:return qo(d,L);case f:return ji(d,L,v);case g:case w:return new Q(d);case b:return zi(d);case x:return Io(d,L,v);case S:return Bo(d)}}function Uo(d,y){return y=y??i,!!y&&(typeof d=="number"||j.test(d))&&d>-1&&d%1==0&&d<y}function Vo(d){var y=typeof d;return y=="string"||y=="number"||y=="symbol"||y=="boolean"?d!=="__proto__":d===null}function Wo(d){return!!Mi&&Mi in d}function $i(d){var y=d&&d.constructor,v=typeof y=="function"&&y.prototype||Wn;return d===v}function Ht(d){if(d!=null){try{return Ri.call(d)}catch{}try{return d+""}catch{}}return""}function Hi(d){return Ps(d,!0,!0)}function Ui(d,y){return d===y||d!==d&&y!==y}function es(d){return Ko(d)&&_e.call(d,"callee")&&(!Di.call(d,"callee")||Kn.call(d)==r)}var Bs=Array.isArray;function ns(d){return d!=null&&Wi(d.length)&&!qs(d)}function Ko(d){return Ki(d)&&ns(d)}var Vi=Yn||Yo;function qs(d){var y=Ae(d)?Kn.call(d):"";return y==h||y==u}function Wi(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=i}function Ae(d){var y=typeof d;return!!d&&(y=="object"||y=="function")}function Ki(d){return!!d&&typeof d=="object"}function Fs(d){return ns(d)?Jn(d):Do(d)}function Go(){return[]}function Yo(){return!1}n.exports=Hi})(Gs,Gs.exports)),Gs.exports}var Ys={exports:{}};Ys.exports;var qc;function qf(){return qc||(qc=1,(function(n,t){var e=200,s="__lodash_hash_undefined__",i=1,r=2,o=9007199254740991,a="[object Arguments]",l="[object Array]",c="[object AsyncFunction]",h="[object Boolean]",u="[object Date]",f="[object Error]",g="[object Function]",p="[object GeneratorFunction]",m="[object Map]",b="[object Number]",x="[object Null]",w="[object Object]",S="[object Promise]",T="[object Proxy]",E="[object RegExp]",R="[object Set]",P="[object String]",B="[object Symbol]",z="[object Undefined]",K="[object WeakMap]",_="[object ArrayBuffer]",C="[object DataView]",A="[object Float32Array]",I="[object Float64Array]",M="[object Int8Array]",k="[object Int16Array]",D="[object Int32Array]",q="[object Uint8Array]",j="[object Uint8ClampedArray]",F="[object Uint16Array]",Y="[object Uint32Array]",W=/[\\^$.*+?()[\]{}|]/g,Z=/^\[object .+?Constructor\]$/,X=/^(?:0|[1-9]\d*)$/,H={};H[A]=H[I]=H[M]=H[k]=H[D]=H[q]=H[j]=H[F]=H[Y]=!0,H[a]=H[l]=H[_]=H[h]=H[C]=H[u]=H[f]=H[g]=H[m]=H[b]=H[w]=H[E]=H[R]=H[P]=H[K]=!1;var it=typeof Je=="object"&&Je&&Je.Object===Object&&Je,xt=typeof self=="object"&&self&&self.Object===Object&&self,et=it||xt||Function("return this")(),ct=t&&!t.nodeType&&t,lt=ct&&!0&&n&&!n.nodeType&&n,ht=lt&&lt.exports===ct,ft=ht&&it.process,gt=(function(){try{return ft&&ft.binding&&ft.binding("util")}catch{}})(),Et=gt&&gt.isTypedArray;function Rt(d,y){for(var v=-1,L=d==null?0:d.length,Q=0,G=[];++v<L;){var ot=d[v];y(ot,v,d)&&(G[Q++]=ot)}return G}function Ss(d,y){for(var v=-1,L=y.length,Q=d.length;++v<L;)d[Q+v]=y[v];return d}function Ni(d,y){for(var v=-1,L=d==null?0:d.length;++v<L;)if(y(d[v],v,d))return!0;return!1}function lo(d,y){for(var v=-1,L=Array(d);++v<d;)L[v]=y(v);return L}function co(d){return function(y){return d(y)}}function Wn(d,y){return d.has(y)}function Es(d,y){return d?.[y]}function Mi(d){var y=-1,v=Array(d.size);return d.forEach(function(L,Q){v[++y]=[Q,L]}),v}function Ri(d,y){return function(v){return d(y(v))}}function _e(d){var y=-1,v=Array(d.size);return d.forEach(function(L){v[++y]=L}),v}var Kn=Array.prototype,ho=Function.prototype,pn=Object.prototype,Gn=et["__core-js_shared__"],Ts=ho.toString,ne=pn.hasOwnProperty,Pi=(function(){var d=/[^.]+$/.exec(Gn&&Gn.keys&&Gn.keys.IE_PROTO||"");return d?"Symbol(src)_1."+d:""})(),Di=pn.toString,uo=RegExp("^"+Ts.call(ne).replace(W,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Os=ht?et.Buffer:void 0,Yn=et.Symbol,Ii=et.Uint8Array,Xn=pn.propertyIsEnumerable,mn=Kn.splice,le=Yn?Yn.toStringTag:void 0,Zn=Object.getOwnPropertySymbols,ks=Os?Os.isBuffer:void 0,bn=Ri(Object.keys,Object),Cs=Re(et,"DataView"),yn=Re(et,"Map"),Ls=Re(et,"Promise"),Ns=Re(et,"Set"),Ms=Re(et,"WeakMap"),Ye=Re(Object,"create"),Bi=Ht(Cs),Me=Ht(yn),fo=Ht(Ls),go=Ht(Ns),po=Ht(Ms),qi=Yn?Yn.prototype:void 0,Rs=qi?qi.valueOf:void 0;function Lt(d){var y=-1,v=d==null?0:d.length;for(this.clear();++y<v;){var L=d[y];this.set(L[0],L[1])}}function mo(){this.__data__=Ye?Ye(null):{},this.size=0}function bo(d){var y=this.has(d)&&delete this.__data__[d];return this.size-=y?1:0,y}function yo(d){var y=this.__data__;if(Ye){var v=y[d];return v===s?void 0:v}return ne.call(y,d)?y[d]:void 0}function xo(d){var y=this.__data__;return Ye?y[d]!==void 0:ne.call(y,d)}function _o(d,y){var v=this.__data__;return this.size+=this.has(d)?0:1,v[d]=Ye&&y===void 0?s:y,this}Lt.prototype.clear=mo,Lt.prototype.delete=bo,Lt.prototype.get=yo,Lt.prototype.has=xo,Lt.prototype.set=_o;function Pt(d){var y=-1,v=d==null?0:d.length;for(this.clear();++y<v;){var L=d[y];this.set(L[0],L[1])}}function vo(){this.__data__=[],this.size=0}function wo(d){var y=this.__data__,v=ts(y,d);if(v<0)return!1;var L=y.length-1;return v==L?y.pop():mn.call(y,v,1),--this.size,!0}function Ao(d){var y=this.__data__,v=ts(y,d);return v<0?void 0:y[v][1]}function So(d){return ts(this.__data__,d)>-1}function Eo(d,y){var v=this.__data__,L=ts(v,d);return L<0?(++this.size,v.push([d,y])):v[L][1]=y,this}Pt.prototype.clear=vo,Pt.prototype.delete=wo,Pt.prototype.get=Ao,Pt.prototype.has=So,Pt.prototype.set=Eo;function Wt(d){var y=-1,v=d==null?0:d.length;for(this.clear();++y<v;){var L=d[y];this.set(L[0],L[1])}}function To(){this.size=0,this.__data__={hash:new Lt,map:new(yn||Pt),string:new Lt}}function Oo(d){var y=ce(this,d).delete(d);return this.size-=y?1:0,y}function ko(d){return ce(this,d).get(d)}function Co(d){return ce(this,d).has(d)}function Lo(d,y){var v=ce(this,d),L=v.size;return v.set(d,y),this.size+=v.size==L?0:1,this}Wt.prototype.clear=To,Wt.prototype.delete=Oo,Wt.prototype.get=ko,Wt.prototype.has=Co,Wt.prototype.set=Lo;function Jn(d){var y=-1,v=d==null?0:d.length;for(this.__data__=new Wt;++y<v;)this.add(d[y])}function Fi(d){return this.__data__.set(d,s),this}function Qn(d){return this.__data__.has(d)}Jn.prototype.add=Jn.prototype.push=Fi,Jn.prototype.has=Qn;function ve(d){var y=this.__data__=new Pt(d);this.size=y.size}function Ps(){this.__data__=new Pt,this.size=0}function No(d){var y=this.__data__,v=y.delete(d);return this.size=y.size,v}function Mo(d){return this.__data__.get(d)}function Ro(d){return this.__data__.has(d)}function Po(d,y){var v=this.__data__;if(v instanceof Pt){var L=v.__data__;if(!yn||L.length<e-1)return L.push([d,y]),this.size=++v.size,this;v=this.__data__=new Wt(L)}return v.set(d,y),this.size=v.size,this}ve.prototype.clear=Ps,ve.prototype.delete=No,ve.prototype.get=Mo,ve.prototype.has=Ro,ve.prototype.set=Po;function Do(d,y){var v=es(d),L=!v&&Ui(d),Q=!v&&!L&&ns(d),G=!v&&!L&&!Q&&Ki(d),ot=v||L||Q||G,rt=ot?lo(d.length,String):[],Tt=rt.length;for(var ut in d)ne.call(d,ut)&&!(ot&&(ut=="length"||Q&&(ut=="offset"||ut=="parent")||G&&(ut=="buffer"||ut=="byteLength"||ut=="byteOffset")||Ho(ut,Tt)))&&rt.push(ut);return rt}function ts(d,y){for(var v=d.length;v--;)if(Hi(d[v][0],y))return v;return-1}function Ds(d,y,v){var L=y(d);return es(d)?L:Ss(L,v(d))}function xn(d){return d==null?d===void 0?z:x:le&&le in Object(d)?Pe(d):$i(d)}function ji(d){return Ae(d)&&xn(d)==a}function zi(d,y,v,L,Q){return d===y?!0:d==null||y==null||!Ae(d)&&!Ae(y)?d!==d&&y!==y:Io(d,y,v,L,zi,Q)}function Io(d,y,v,L,Q,G){var ot=es(d),rt=es(y),Tt=ot?l:we(d),ut=rt?l:we(y);Tt=Tt==a?w:Tt,ut=ut==a?w:ut;var Dt=Tt==w,Kt=ut==w,Ot=Tt==ut;if(Ot&&ns(d)){if(!ns(y))return!1;ot=!0,Dt=!1}if(Ot&&!Dt)return G||(G=new ve),ot||Ki(d)?Is(d,y,v,L,Q,G):jo(d,y,Tt,v,L,Q,G);if(!(v&i)){var It=Dt&&ne.call(d,"__wrapped__"),Nt=Kt&&ne.call(y,"__wrapped__");if(It||Nt){var Xe=It?d.value():d,De=Nt?y.value():y;return G||(G=new ve),Q(Xe,De,v,L,G)}}return Ot?(G||(G=new ve),zo(d,y,v,L,Q,G)):!1}function Bo(d){if(!Wi(d)||Vo(d))return!1;var y=Vi(d)?uo:Z;return y.test(Ht(d))}function qo(d){return Ae(d)&&qs(d.length)&&!!H[xn(d)]}function Fo(d){if(!Wo(d))return bn(d);var y=[];for(var v in Object(d))ne.call(d,v)&&v!="constructor"&&y.push(v);return y}function Is(d,y,v,L,Q,G){var ot=v&i,rt=d.length,Tt=y.length;if(rt!=Tt&&!(ot&&Tt>rt))return!1;var ut=G.get(d);if(ut&&G.get(y))return ut==y;var Dt=-1,Kt=!0,Ot=v&r?new Jn:void 0;for(G.set(d,y),G.set(y,d);++Dt<rt;){var It=d[Dt],Nt=y[Dt];if(L)var Xe=ot?L(Nt,It,Dt,y,d,G):L(It,Nt,Dt,d,y,G);if(Xe!==void 0){if(Xe)continue;Kt=!1;break}if(Ot){if(!Ni(y,function(De,vn){if(!Wn(Ot,vn)&&(It===De||Q(It,De,v,L,G)))return Ot.push(vn)})){Kt=!1;break}}else if(!(It===Nt||Q(It,Nt,v,L,G))){Kt=!1;break}}return G.delete(d),G.delete(y),Kt}function jo(d,y,v,L,Q,G,ot){switch(v){case C:if(d.byteLength!=y.byteLength||d.byteOffset!=y.byteOffset)return!1;d=d.buffer,y=y.buffer;case _:return!(d.byteLength!=y.byteLength||!G(new Ii(d),new Ii(y)));case h:case u:case b:return Hi(+d,+y);case f:return d.name==y.name&&d.message==y.message;case E:case P:return d==y+"";case m:var rt=Mi;case R:var Tt=L&i;if(rt||(rt=_e),d.size!=y.size&&!Tt)return!1;var ut=ot.get(d);if(ut)return ut==y;L|=r,ot.set(d,y);var Dt=Is(rt(d),rt(y),L,Q,G,ot);return ot.delete(d),Dt;case B:if(Rs)return Rs.call(d)==Rs.call(y)}return!1}function zo(d,y,v,L,Q,G){var ot=v&i,rt=_n(d),Tt=rt.length,ut=_n(y),Dt=ut.length;if(Tt!=Dt&&!ot)return!1;for(var Kt=Tt;Kt--;){var Ot=rt[Kt];if(!(ot?Ot in y:ne.call(y,Ot)))return!1}var It=G.get(d);if(It&&G.get(y))return It==y;var Nt=!0;G.set(d,y),G.set(y,d);for(var Xe=ot;++Kt<Tt;){Ot=rt[Kt];var De=d[Ot],vn=y[Ot];if(L)var Wl=ot?L(vn,De,Ot,y,d,G):L(De,vn,Ot,d,y,G);if(!(Wl===void 0?De===vn||Q(De,vn,v,L,G):Wl)){Nt=!1;break}Xe||(Xe=Ot=="constructor")}if(Nt&&!Xe){var Gi=d.constructor,Yi=y.constructor;Gi!=Yi&&"constructor"in d&&"constructor"in y&&!(typeof Gi=="function"&&Gi instanceof Gi&&typeof Yi=="function"&&Yi instanceof Yi)&&(Nt=!1)}return G.delete(d),G.delete(y),Nt}function _n(d){return Ds(d,Fs,$o)}function ce(d,y){var v=d.__data__;return Uo(y)?v[typeof y=="string"?"string":"hash"]:v.map}function Re(d,y){var v=Es(d,y);return Bo(v)?v:void 0}function Pe(d){var y=ne.call(d,le),v=d[le];try{d[le]=void 0;var L=!0}catch{}var Q=Di.call(d);return L&&(y?d[le]=v:delete d[le]),Q}var $o=Zn?function(d){return d==null?[]:(d=Object(d),Rt(Zn(d),function(y){return Xn.call(d,y)}))}:Go,we=xn;(Cs&&we(new Cs(new ArrayBuffer(1)))!=C||yn&&we(new yn)!=m||Ls&&we(Ls.resolve())!=S||Ns&&we(new Ns)!=R||Ms&&we(new Ms)!=K)&&(we=function(d){var y=xn(d),v=y==w?d.constructor:void 0,L=v?Ht(v):"";if(L)switch(L){case Bi:return C;case Me:return m;case fo:return S;case go:return R;case po:return K}return y});function Ho(d,y){return y=y??o,!!y&&(typeof d=="number"||X.test(d))&&d>-1&&d%1==0&&d<y}function Uo(d){var y=typeof d;return y=="string"||y=="number"||y=="symbol"||y=="boolean"?d!=="__proto__":d===null}function Vo(d){return!!Pi&&Pi in d}function Wo(d){var y=d&&d.constructor,v=typeof y=="function"&&y.prototype||pn;return d===v}function $i(d){return Di.call(d)}function Ht(d){if(d!=null){try{return Ts.call(d)}catch{}try{return d+""}catch{}}return""}function Hi(d,y){return d===y||d!==d&&y!==y}var Ui=ji((function(){return arguments})())?ji:function(d){return Ae(d)&&ne.call(d,"callee")&&!Xn.call(d,"callee")},es=Array.isArray;function Bs(d){return d!=null&&qs(d.length)&&!Vi(d)}var ns=ks||Yo;function Ko(d,y){return zi(d,y)}function Vi(d){if(!Wi(d))return!1;var y=xn(d);return y==g||y==p||y==c||y==T}function qs(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=o}function Wi(d){var y=typeof d;return d!=null&&(y=="object"||y=="function")}function Ae(d){return d!=null&&typeof d=="object"}var Ki=Et?co(Et):qo;function Fs(d){return Bs(d)?Do(d):Fo(d)}function Go(){return[]}function Yo(){return!1}n.exports=Ko})(Ys,Ys.exports)),Ys.exports}var Qi={},Fc;function yy(){if(Fc)return Qi;Fc=1,Object.defineProperty(Qi,"__esModule",{value:!0});const n=Bf(),t=qf();var e;return(function(s){function i(l={},c={},h=!1){typeof l!="object"&&(l={}),typeof c!="object"&&(c={});let u=n(c);h||(u=Object.keys(u).reduce((f,g)=>(u[g]!=null&&(f[g]=u[g]),f),{}));for(const f in l)l[f]!==void 0&&c[f]===void 0&&(u[f]=l[f]);return Object.keys(u).length>0?u:void 0}s.compose=i;function r(l={},c={}){typeof l!="object"&&(l={}),typeof c!="object"&&(c={});const h=Object.keys(l).concat(Object.keys(c)).reduce((u,f)=>(t(l[f],c[f])||(u[f]=c[f]===void 0?null:c[f]),u),{});return Object.keys(h).length>0?h:void 0}s.diff=r;function o(l={},c={}){l=l||{};const h=Object.keys(c).reduce((u,f)=>(c[f]!==l[f]&&l[f]!==void 0&&(u[f]=c[f]),u),{});return Object.keys(l).reduce((u,f)=>(l[f]!==c[f]&&c[f]===void 0&&(u[f]=null),u),h)}s.invert=o;function a(l,c,h=!1){if(typeof l!="object")return c;if(typeof c!="object")return;if(!h)return c;const u=Object.keys(c).reduce((f,g)=>(l[g]===void 0&&(f[g]=c[g]),f),{});return Object.keys(u).length>0?u:void 0}s.transform=a})(e||(e={})),Qi.default=e,Qi}var tr={},jc;function Ff(){if(jc)return tr;jc=1,Object.defineProperty(tr,"__esModule",{value:!0});var n;return(function(t){function e(s){return typeof s.delete=="number"?s.delete:typeof s.retain=="number"?s.retain:typeof s.retain=="object"&&s.retain!==null?1:typeof s.insert=="string"?s.insert.length:1}t.length=e})(n||(n={})),tr.default=n,tr}var er={},zc;function xy(){if(zc)return er;zc=1,Object.defineProperty(er,"__esModule",{value:!0});const n=Ff();class t{constructor(s){this.ops=s,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(s){s||(s=1/0);const i=this.ops[this.index];if(i){const r=this.offset,o=n.default.length(i);if(s>=o-r?(s=o-r,this.index+=1,this.offset=0):this.offset+=s,typeof i.delete=="number")return{delete:s};{const a={};return i.attributes&&(a.attributes=i.attributes),typeof i.retain=="number"?a.retain=s:typeof i.retain=="object"&&i.retain!==null?a.retain=i.retain:typeof i.insert=="string"?a.insert=i.insert.substr(r,s):a.insert=i.insert,a}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?n.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const s=this.ops[this.index];return s?typeof s.delete=="number"?"delete":typeof s.retain=="number"||typeof s.retain=="object"&&s.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const s=this.offset,i=this.index,r=this.next(),o=this.ops.slice(this.index);return this.offset=s,this.index=i,[r].concat(o)}}else return[]}}return er.default=t,er}var $c;function _y(){return $c||($c=1,(function(n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeMap=t.OpIterator=t.Op=void 0;const e=by(),s=Bf(),i=qf(),r=yy();t.AttributeMap=r.default;const o=Ff();t.Op=o.default;const a=xy();t.OpIterator=a.default;const l="\0",c=(u,f)=>{if(typeof u!="object"||u===null)throw new Error(`cannot retain a ${typeof u}`);if(typeof f!="object"||f===null)throw new Error(`cannot retain a ${typeof f}`);const g=Object.keys(u)[0];if(!g||g!==Object.keys(f)[0])throw new Error(`embed types not matched: ${g} != ${Object.keys(f)[0]}`);return[g,u[g],f[g]]};class h{constructor(f){Array.isArray(f)?this.ops=f:f!=null&&Array.isArray(f.ops)?this.ops=f.ops:this.ops=[]}static registerEmbed(f,g){this.handlers[f]=g}static unregisterEmbed(f){delete this.handlers[f]}static getHandler(f){const g=this.handlers[f];if(!g)throw new Error(`no handlers for embed type "${f}"`);return g}insert(f,g){const p={};return typeof f=="string"&&f.length===0?this:(p.insert=f,g!=null&&typeof g=="object"&&Object.keys(g).length>0&&(p.attributes=g),this.push(p))}delete(f){return f<=0?this:this.push({delete:f})}retain(f,g){if(typeof f=="number"&&f<=0)return this;const p={retain:f};return g!=null&&typeof g=="object"&&Object.keys(g).length>0&&(p.attributes=g),this.push(p)}push(f){let g=this.ops.length,p=this.ops[g-1];if(f=s(f),typeof p=="object"){if(typeof f.delete=="number"&&typeof p.delete=="number")return this.ops[g-1]={delete:p.delete+f.delete},this;if(typeof p.delete=="number"&&f.insert!=null&&(g-=1,p=this.ops[g-1],typeof p!="object"))return this.ops.unshift(f),this;if(i(f.attributes,p.attributes)){if(typeof f.insert=="string"&&typeof p.insert=="string")return this.ops[g-1]={insert:p.insert+f.insert},typeof f.attributes=="object"&&(this.ops[g-1].attributes=f.attributes),this;if(typeof f.retain=="number"&&typeof p.retain=="number")return this.ops[g-1]={retain:p.retain+f.retain},typeof f.attributes=="object"&&(this.ops[g-1].attributes=f.attributes),this}}return g===this.ops.length?this.ops.push(f):this.ops.splice(g,0,f),this}chop(){const f=this.ops[this.ops.length-1];return f&&typeof f.retain=="number"&&!f.attributes&&this.ops.pop(),this}filter(f){return this.ops.filter(f)}forEach(f){this.ops.forEach(f)}map(f){return this.ops.map(f)}partition(f){const g=[],p=[];return this.forEach(m=>{(f(m)?g:p).push(m)}),[g,p]}reduce(f,g){return this.ops.reduce(f,g)}changeLength(){return this.reduce((f,g)=>g.insert?f+o.default.length(g):g.delete?f-g.delete:f,0)}length(){return this.reduce((f,g)=>f+o.default.length(g),0)}slice(f=0,g=1/0){const p=[],m=new a.default(this.ops);let b=0;for(;b<g&&m.hasNext();){let x;b<f?x=m.next(f-b):(x=m.next(g-b),p.push(x)),b+=o.default.length(x)}return new h(p)}compose(f){const g=new a.default(this.ops),p=new a.default(f.ops),m=[],b=p.peek();if(b!=null&&typeof b.retain=="number"&&b.attributes==null){let w=b.retain;for(;g.peekType()==="insert"&&g.peekLength()<=w;)w-=g.peekLength(),m.push(g.next());b.retain-w>0&&p.next(b.retain-w)}const x=new h(m);for(;g.hasNext()||p.hasNext();)if(p.peekType()==="insert")x.push(p.next());else if(g.peekType()==="delete")x.push(g.next());else{const w=Math.min(g.peekLength(),p.peekLength()),S=g.next(w),T=p.next(w);if(T.retain){const E={};if(typeof S.retain=="number")E.retain=typeof T.retain=="number"?w:T.retain;else if(typeof T.retain=="number")S.retain==null?E.insert=S.insert:E.retain=S.retain;else{const P=S.retain==null?"insert":"retain",[B,z,K]=c(S[P],T.retain),_=h.getHandler(B);E[P]={[B]:_.compose(z,K,P==="retain")}}const R=r.default.compose(S.attributes,T.attributes,typeof S.retain=="number");if(R&&(E.attributes=R),x.push(E),!p.hasNext()&&i(x.ops[x.ops.length-1],E)){const P=new h(g.rest());return x.concat(P).chop()}}else typeof T.delete=="number"&&(typeof S.retain=="number"||typeof S.retain=="object"&&S.retain!==null)&&x.push(T)}return x.chop()}concat(f){const g=new h(this.ops.slice());return f.ops.length>0&&(g.push(f.ops[0]),g.ops=g.ops.concat(f.ops.slice(1))),g}diff(f,g){if(this.ops===f.ops)return new h;const p=[this,f].map(S=>S.map(T=>{if(T.insert!=null)return typeof T.insert=="string"?T.insert:l;const E=S===f?"on":"with";throw new Error("diff() called "+E+" non-document")}).join("")),m=new h,b=e(p[0],p[1],g,!0),x=new a.default(this.ops),w=new a.default(f.ops);return b.forEach(S=>{let T=S[1].length;for(;T>0;){let E=0;switch(S[0]){case e.INSERT:E=Math.min(w.peekLength(),T),m.push(w.next(E));break;case e.DELETE:E=Math.min(T,x.peekLength()),x.next(E),m.delete(E);break;case e.EQUAL:E=Math.min(x.peekLength(),w.peekLength(),T);const R=x.next(E),P=w.next(E);i(R.insert,P.insert)?m.retain(E,r.default.diff(R.attributes,P.attributes)):m.push(P).delete(E);break}T-=E}}),m.chop()}eachLine(f,g=`
`){const p=new a.default(this.ops);let m=new h,b=0;for(;p.hasNext();){if(p.peekType()!=="insert")return;const x=p.peek(),w=o.default.length(x)-p.peekLength(),S=typeof x.insert=="string"?x.insert.indexOf(g,w)-w:-1;if(S<0)m.push(p.next());else if(S>0)m.push(p.next(S));else{if(f(m,p.next(1).attributes||{},b)===!1)return;b+=1,m=new h}}m.length()>0&&f(m,{},b)}invert(f){const g=new h;return this.reduce((p,m)=>{if(m.insert)g.delete(o.default.length(m));else{if(typeof m.retain=="number"&&m.attributes==null)return g.retain(m.retain),p+m.retain;if(m.delete||typeof m.retain=="number"){const b=m.delete||m.retain;return f.slice(p,p+b).forEach(w=>{m.delete?g.push(w):m.retain&&m.attributes&&g.retain(o.default.length(w),r.default.invert(m.attributes,w.attributes))}),p+b}else if(typeof m.retain=="object"&&m.retain!==null){const b=f.slice(p,p+1),x=new a.default(b.ops).next(),[w,S,T]=c(m.retain,x.insert),E=h.getHandler(w);return g.retain({[w]:E.invert(S,T)},r.default.invert(m.attributes,x.attributes)),p+1}}return p},0),g.chop()}transform(f,g=!1){if(g=!!g,typeof f=="number")return this.transformPosition(f,g);const p=f,m=new a.default(this.ops),b=new a.default(p.ops),x=new h;for(;m.hasNext()||b.hasNext();)if(m.peekType()==="insert"&&(g||b.peekType()!=="insert"))x.retain(o.default.length(m.next()));else if(b.peekType()==="insert")x.push(b.next());else{const w=Math.min(m.peekLength(),b.peekLength()),S=m.next(w),T=b.next(w);if(S.delete)continue;if(T.delete)x.push(T);else{const E=S.retain,R=T.retain;let P=typeof R=="object"&&R!==null?R:w;if(typeof E=="object"&&E!==null&&typeof R=="object"&&R!==null){const B=Object.keys(E)[0];if(B===Object.keys(R)[0]){const z=h.getHandler(B);z&&(P={[B]:z.transform(E[B],R[B],g)})}}x.retain(P,r.default.transform(S.attributes,T.attributes,g))}}return x.chop()}transformPosition(f,g=!1){g=!!g;const p=new a.default(this.ops);let m=0;for(;p.hasNext()&&m<=f;){const b=p.peekLength(),x=p.peekType();if(p.next(),x==="delete"){f-=Math.min(b,f-m);continue}else x==="insert"&&(m<f||!g)&&(f+=b);m+=b}return f}}h.Op=o.default,h.OpIterator=a.default,h.AttributeMap=r.default,h.handlers={},t.default=h,n.exports=h,n.exports.default=h})(Ji,Ji.exports)),Ji.exports}var ae=_y();const U=If(ae);class xe extends ee{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}xe.blotName="break";xe.tagName="BR";let me=class extends Lr{};const vy={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Zr(n){return n.replace(/[&<>"']/g,t=>vy[t])}class Ut extends pl{static allowedChildren=[Ut,xe,ee,me];static order=["cursor","inline","link","underline","strike","italic","bold","script","code"];static compare(t,e){const s=Ut.order.indexOf(t),i=Ut.order.indexOf(e);return s>=0||i>=0?s-i:t===e?0:t<e?-1:1}formatAt(t,e,s,i){if(Ut.compare(this.statics.blotName,s)<0&&this.scroll.query(s,V.BLOT)){const r=this.isolate(t,e);i&&r.wrap(s,i)}else super.formatAt(t,e,s,i)}optimize(t){if(super.optimize(t),this.parent instanceof Ut&&Ut.compare(this.statics.blotName,this.parent.statics.blotName)>0){const e=this.parent.isolate(this.offset(),this.length());this.moveChildren(e),e.wrap(this)}}}const Hc=1;class Mt extends hi{cache={};delta(){return this.cache.delta==null&&(this.cache.delta=jf(this)),this.cache.delta}deleteAt(t,e){super.deleteAt(t,e),this.cache={}}formatAt(t,e,s,i){e<=0||(this.scroll.query(s,V.BLOCK)?t+e===this.length()&&this.format(s,i):super.formatAt(t,Math.min(e,this.length()-t-1),s,i),this.cache={})}insertAt(t,e,s){if(s!=null){super.insertAt(t,e,s),this.cache={};return}if(e.length===0)return;const i=e.split(`
`),r=i.shift();r.length>0&&(t<this.length()-1||this.children.tail==null?super.insertAt(Math.min(t,this.length()-1),r):this.children.tail.insertAt(this.children.tail.length(),r),this.cache={});let o=this;i.reduce((a,l)=>(o=o.split(a,!0),o.insertAt(0,l),l.length),t+r.length)}insertBefore(t,e){const{head:s}=this.children;super.insertBefore(t,e),s instanceof xe&&s.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+Hc),this.cache.length}moveChildren(t,e){super.moveChildren(t,e),this.cache={}}optimize(t){super.optimize(t),this.cache={}}path(t){return super.path(t,!0)}removeChild(t){super.removeChild(t),this.cache={}}split(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e&&(t===0||t>=this.length()-Hc)){const i=this.clone();return t===0?(this.parent.insertBefore(i,this),this):(this.parent.insertBefore(i,this.next),i)}const s=super.split(t,e);return this.cache={},s}}Mt.blotName="block";Mt.tagName="P";Mt.defaultChild=xe;Mt.allowedChildren=[xe,Ut,ee,me];class oe extends ee{attach(){super.attach(),this.attributes=new Yr(this.domNode)}delta(){return new U().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(t,e){const s=this.scroll.query(t,V.BLOCK_ATTRIBUTE);s!=null&&this.attributes.attribute(s,e)}formatAt(t,e,s,i){this.format(s,i)}insertAt(t,e,s){if(s!=null){super.insertAt(t,e,s);return}const i=e.split(`
`),r=i.pop(),o=i.map(l=>{const c=this.scroll.create(Mt.blotName);return c.insertAt(0,l),c}),a=this.split(t);o.forEach(l=>{this.parent.insertBefore(l,a)}),r&&this.parent.insertBefore(this.scroll.create("text",r),a)}}oe.scope=V.BLOCK_BLOT;function jf(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.descendants(jt).reduce((e,s)=>s.length()===0?e:e.insert(s.value(),ie(s,{},t)),new U).insert(`
`,ie(n))}function ie(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return n==null||("formats"in n&&typeof n.formats=="function"&&(t={...t,...n.formats()},e&&delete t["code-token"]),n.parent==null||n.parent.statics.blotName==="scroll"||n.parent.statics.scope!==n.statics.scope)?t:ie(n.parent,t,e)}class fe extends ee{static blotName="cursor";static className="ql-cursor";static tagName="span";static CONTENTS="\uFEFF";static value(){}constructor(t,e,s){super(t,e),this.selection=s,this.textNode=document.createTextNode(fe.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(t,e){if(this.savedLength!==0){super.format(t,e);return}let s=this,i=0;for(;s!=null&&s.statics.scope!==V.BLOCK_BLOT;)i+=s.offset(s.parent),s=s.parent;s!=null&&(this.savedLength=fe.CONTENTS.length,s.optimize(),s.formatAt(i,fe.CONTENTS.length,t,e),this.savedLength=0)}index(t,e){return t===this.textNode?0:super.index(t,e)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const t=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const e=this.prev instanceof me?this.prev:null,s=e?e.length():0,i=this.next instanceof me?this.next:null,r=i?i.text:"",{textNode:o}=this,a=o.data.split(fe.CONTENTS).join("");o.data=fe.CONTENTS;let l;if(e)l=e,(a||i)&&(e.insertAt(e.length(),a+r),i&&i.remove());else if(i)l=i,i.insertAt(0,a);else{const c=document.createTextNode(a);l=this.scroll.create(c),this.parent.insertBefore(l,this)}if(this.remove(),t){const c=(f,g)=>e&&f===e.domNode?g:f===o?s+g-1:i&&f===i.domNode?s+a.length+g:null,h=c(t.start.node,t.start.offset),u=c(t.end.node,t.end.offset);if(h!==null&&u!==null)return{startNode:l.domNode,startOffset:h,endNode:l.domNode,endOffset:u}}return null}update(t,e){if(t.some(s=>s.type==="characterData"&&s.target===this.textNode)){const s=this.restore();s&&(e.range=s)}}optimize(t){super.optimize(t);let{parent:e}=this;for(;e;){if(e.domNode.tagName==="A"){this.savedLength=fe.CONTENTS.length,e.isolate(this.offset(e),this.length()).unwrap(),this.savedLength=0;break}e=e.parent}}value(){return""}}var ia={exports:{}},Uc;function wy(){return Uc||(Uc=1,(function(n){var t=Object.prototype.hasOwnProperty,e="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(e=!1));function i(l,c,h){this.fn=l,this.context=c,this.once=h||!1}function r(l,c,h,u,f){if(typeof h!="function")throw new TypeError("The listener must be a function");var g=new i(h,u||l,f),p=e?e+c:c;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],g]:l._events[p].push(g):(l._events[p]=g,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new s:delete l._events[c]}function a(){this._events=new s,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],h,u;if(this._eventsCount===0)return c;for(u in h=this._events)t.call(h,u)&&c.push(e?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(h)):c},a.prototype.listeners=function(c){var h=e?e+c:c,u=this._events[h];if(!u)return[];if(u.fn)return[u.fn];for(var f=0,g=u.length,p=new Array(g);f<g;f++)p[f]=u[f].fn;return p},a.prototype.listenerCount=function(c){var h=e?e+c:c,u=this._events[h];return u?u.fn?1:u.length:0},a.prototype.emit=function(c,h,u,f,g,p){var m=e?e+c:c;if(!this._events[m])return!1;var b=this._events[m],x=arguments.length,w,S;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),x){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,h),!0;case 3:return b.fn.call(b.context,h,u),!0;case 4:return b.fn.call(b.context,h,u,f),!0;case 5:return b.fn.call(b.context,h,u,f,g),!0;case 6:return b.fn.call(b.context,h,u,f,g,p),!0}for(S=1,w=new Array(x-1);S<x;S++)w[S-1]=arguments[S];b.fn.apply(b.context,w)}else{var T=b.length,E;for(S=0;S<T;S++)switch(b[S].once&&this.removeListener(c,b[S].fn,void 0,!0),x){case 1:b[S].fn.call(b[S].context);break;case 2:b[S].fn.call(b[S].context,h);break;case 3:b[S].fn.call(b[S].context,h,u);break;case 4:b[S].fn.call(b[S].context,h,u,f);break;default:if(!w)for(E=1,w=new Array(x-1);E<x;E++)w[E-1]=arguments[E];b[S].fn.apply(b[S].context,w)}}return!0},a.prototype.on=function(c,h,u){return r(this,c,h,u,!1)},a.prototype.once=function(c,h,u){return r(this,c,h,u,!0)},a.prototype.removeListener=function(c,h,u,f){var g=e?e+c:c;if(!this._events[g])return this;if(!h)return o(this,g),this;var p=this._events[g];if(p.fn)p.fn===h&&(!f||p.once)&&(!u||p.context===u)&&o(this,g);else{for(var m=0,b=[],x=p.length;m<x;m++)(p[m].fn!==h||f&&!p[m].once||u&&p[m].context!==u)&&b.push(p[m]);b.length?this._events[g]=b.length===1?b[0]:b:o(this,g)}return this},a.prototype.removeAllListeners=function(c){var h;return c?(h=e?e+c:c,this._events[h]&&o(this,h)):(this._events=new s,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=e,a.EventEmitter=a,n.exports=a})(ia)),ia.exports}var Ay=wy();const Sy=If(Ay),Ua=new WeakMap,Va=["error","warn","log","info"];let Wa="warn";function zf(n){if(Wa&&Va.indexOf(n)<=Va.indexOf(Wa)){for(var t=arguments.length,e=new Array(t>1?t-1:0),s=1;s<t;s++)e[s-1]=arguments[s];console[n](...e)}}function Ke(n){return Va.reduce((t,e)=>(t[e]=zf.bind(console,e,n),t),{})}Ke.level=n=>{Wa=n};zf.level=Ke.level;const ra=Ke("quill:events"),Ey=["selectionchange","mousedown","mouseup","click"];Ey.forEach(n=>{document.addEventListener(n,function(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];Array.from(document.querySelectorAll(".ql-container")).forEach(i=>{const r=Ua.get(i);r&&r.emitter&&r.emitter.handleDOM(...e)})})});class $ extends Sy{static events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"};static sources={API:"api",SILENT:"silent",USER:"user"};constructor(){super(),this.domListeners={},this.on("error",ra.error)}emit(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return ra.log.call(ra,...e),super.emit(...e)}handleDOM(t){for(var e=arguments.length,s=new Array(e>1?e-1:0),i=1;i<e;i++)s[i-1]=arguments[i];(this.domListeners[t.type]||[]).forEach(r=>{let{node:o,handler:a}=r;(t.target===o||o.contains(t.target))&&a(t,...s)})}listenDOM(t,e,s){this.domListeners[t]||(this.domListeners[t]=[]),this.domListeners[t].push({node:e,handler:s})}}const oa=Ke("quill:selection");class Dn{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=t,this.length=e}}class Ty{constructor(t,e){this.emitter=e,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new Dn(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,$.sources.USER),1)}),this.emitter.on($.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const s=this.getNativeRange();s!=null&&s.start.node!==this.cursor.textNode&&this.emitter.once($.events.SCROLL_UPDATE,(i,r)=>{try{this.root.contains(s.start.node)&&this.root.contains(s.end.node)&&this.setNativeRange(s.start.node,s.start.offset,s.end.node,s.end.offset);const o=r.some(a=>a.type==="characterData"||a.type==="childList"||a.type==="attributes"&&a.target===this.root);this.update(o?$.sources.SILENT:i)}catch{}})}),this.emitter.on($.events.SCROLL_OPTIMIZE,(s,i)=>{if(i.range){const{startNode:r,startOffset:o,endNode:a,endOffset:l}=i.range;this.setNativeRange(r,o,a,l),this.update($.sources.SILENT)}}),this.update($.sources.SILENT)}handleComposition(){this.emitter.on($.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on($.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const t=this.cursor.restore();if(!t)return;setTimeout(()=>{this.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update($.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(t,e){this.scroll.update();const s=this.getNativeRange();if(!(s==null||!s.native.collapsed||this.scroll.query(t,V.BLOCK))){if(s.start.node!==this.cursor.textNode){const i=this.scroll.find(s.start.node,!1);if(i==null)return;if(i instanceof jt){const r=i.split(s.start.offset);i.parent.insertBefore(this.cursor,r)}else i.insertBefore(this.cursor,s.start.node);this.cursor.attach()}this.cursor.format(t,e),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const s=this.scroll.length();t=Math.min(t,s-1),e=Math.min(t+e,s-1)-t;let i,[r,o]=this.scroll.leaf(t);if(r==null)return null;if(e>0&&o===r.length()){const[h]=this.scroll.leaf(t+1);if(h){const[u]=this.scroll.line(t),[f]=this.scroll.line(t+1);u===f&&(r=h,o=0)}}[i,o]=r.position(o,!0);const a=document.createRange();if(e>0)return a.setStart(i,o),[r,o]=this.scroll.leaf(t+e),r==null?null:([i,o]=r.position(o,!0),a.setEnd(i,o),a.getBoundingClientRect());let l="left",c;if(i instanceof Text){if(!i.data.length)return null;o<i.data.length?(a.setStart(i,o),a.setEnd(i,o+1)):(a.setStart(i,o-1),a.setEnd(i,o),l="right"),c=a.getBoundingClientRect()}else{if(!(r.domNode instanceof Element))return null;c=r.domNode.getBoundingClientRect(),o>0&&(l="right")}return{bottom:c.top+c.height,height:c.height,left:c[l],right:c[l],top:c.top,width:0}}getNativeRange(){const t=document.getSelection();if(t==null||t.rangeCount<=0)return null;const e=t.getRangeAt(0);if(e==null)return null;const s=this.normalizeNative(e);return oa.info("getNativeRange",s),s}getRange(){const t=this.scroll.domNode;if("isConnected"in t&&!t.isConnected)return[null,null];const e=this.getNativeRange();return e==null?[null,null]:[this.normalizedToRange(e),e]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&aa(this.root,document.activeElement)}normalizedToRange(t){const e=[[t.start.node,t.start.offset]];t.native.collapsed||e.push([t.end.node,t.end.offset]);const s=e.map(o=>{const[a,l]=o,c=this.scroll.find(a,!0),h=c.offset(this.scroll);return l===0?h:c instanceof jt?h+c.index(a,l):h+c.length()}),i=Math.min(Math.max(...s),this.scroll.length()-1),r=Math.min(i,...s);return new Dn(r,i-r)}normalizeNative(t){if(!aa(this.root,t.startContainer)||!t.collapsed&&!aa(this.root,t.endContainer))return null;const e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[e.start,e.end].forEach(s=>{let{node:i,offset:r}=s;for(;!(i instanceof Text)&&i.childNodes.length>0;)if(i.childNodes.length>r)i=i.childNodes[r],r=0;else if(i.childNodes.length===r)i=i.lastChild,i instanceof Text?r=i.data.length:i.childNodes.length>0?r=i.childNodes.length:r=i.childNodes.length+1;else break;s.node=i,s.offset=r}),e}rangeToNative(t){const e=this.scroll.length(),s=(i,r)=>{i=Math.min(e-1,i);const[o,a]=this.scroll.leaf(i);return o?o.position(a,r):[null,-1]};return[...s(t.index,!1),...s(t.index+t.length,!0)]}setNativeRange(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:e,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(oa.info("setNativeRange",t,e,s,i),t!=null&&(this.root.parentNode==null||t.parentNode==null||s.parentNode==null))return;const o=document.getSelection();if(o!=null)if(t!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:a}=this.getNativeRange()||{};if(a==null||r||t!==a.startContainer||e!==a.startOffset||s!==a.endContainer||i!==a.endOffset){t instanceof Element&&t.tagName==="BR"&&(e=Array.from(t.parentNode.childNodes).indexOf(t),t=t.parentNode),s instanceof Element&&s.tagName==="BR"&&(i=Array.from(s.parentNode.childNodes).indexOf(s),s=s.parentNode);const l=document.createRange();l.setStart(t,e),l.setEnd(s,i),o.removeAllRanges(),o.addRange(l)}}else o.removeAllRanges(),this.root.blur()}setRange(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:$.sources.API;if(typeof e=="string"&&(s=e,e=!1),oa.info("setRange",t),t!=null){const i=this.rangeToNative(t);this.setNativeRange(...i,e)}else this.setNativeRange(null);this.update(s)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$.sources.USER;const e=this.lastRange,[s,i]=this.getRange();if(this.lastRange=s,this.lastNative=i,this.lastRange!=null&&(this.savedRange=this.lastRange),!gl(e,this.lastRange)){if(!this.composing&&i!=null&&i.native.collapsed&&i.start.node!==this.cursor.textNode){const o=this.cursor.restore();o&&this.setNativeRange(o.startNode,o.startOffset,o.endNode,o.endOffset)}const r=[$.events.SELECTION_CHANGE,hs(this.lastRange),hs(e),t];this.emitter.emit($.events.EDITOR_CHANGE,...r),t!==$.sources.SILENT&&this.emitter.emit(...r)}}}function aa(n,t){try{t.parentNode}catch{return!1}return n.contains(t)}const Oy=/^[ -~]*$/;class ky{constructor(t){this.scroll=t,this.delta=this.getDelta()}applyDelta(t){this.scroll.update();let e=this.scroll.length();this.scroll.batchStart();const s=Vc(t),i=new U;return Ly(s.ops.slice()).reduce((o,a)=>{const l=ae.Op.length(a);let c=a.attributes||{},h=!1,u=!1;if(a.insert!=null){if(i.retain(l),typeof a.insert=="string"){const p=a.insert;u=!p.endsWith(`
`)&&(e<=o||!!this.scroll.descendant(oe,o)[0]),this.scroll.insertAt(o,p);const[m,b]=this.scroll.line(o);let x=rn({},ie(m));if(m instanceof Mt){const[w]=m.descendant(jt,b);w&&(x=rn(x,ie(w)))}c=ae.AttributeMap.diff(x,c)||{}}else if(typeof a.insert=="object"){const p=Object.keys(a.insert)[0];if(p==null)return o;const m=this.scroll.query(p,V.INLINE)!=null;if(m)(e<=o||this.scroll.descendant(oe,o)[0])&&(u=!0);else if(o>0){const[b,x]=this.scroll.descendant(jt,o-1);b instanceof me?b.value()[x]!==`
`&&(h=!0):b instanceof ee&&b.statics.scope===V.INLINE_BLOT&&(h=!0)}if(this.scroll.insertAt(o,p,a.insert[p]),m){const[b]=this.scroll.descendant(jt,o);if(b){const x=rn({},ie(b));c=ae.AttributeMap.diff(x,c)||{}}}}e+=l}else if(i.push(a),a.retain!==null&&typeof a.retain=="object"){const p=Object.keys(a.retain)[0];if(p==null)return o;this.scroll.updateEmbedAt(o,p,a.retain[p])}Object.keys(c).forEach(p=>{this.scroll.formatAt(o,l,p,c[p])});const f=h?1:0,g=u?1:0;return e+=f+g,i.retain(f),i.delete(g),o+l+f+g},0),i.reduce((o,a)=>typeof a.delete=="number"?(this.scroll.deleteAt(o,a.delete),o):o+ae.Op.length(a),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(s)}deleteText(t,e){return this.scroll.deleteAt(t,e),this.update(new U().retain(t).delete(e))}formatLine(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(s).forEach(r=>{this.scroll.lines(t,Math.max(e,1)).forEach(o=>{o.format(r,s[r])})}),this.scroll.optimize();const i=new U().retain(t).retain(e,hs(s));return this.update(i)}formatText(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(s).forEach(r=>{this.scroll.formatAt(t,e,r,s[r])});const i=new U().retain(t).retain(e,hs(s));return this.update(i)}getContents(t,e){return this.delta.slice(t,t+e)}getDelta(){return this.scroll.lines().reduce((t,e)=>t.concat(e.delta()),new U)}getFormat(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=[],i=[];e===0?this.scroll.path(t).forEach(a=>{const[l]=a;l instanceof Mt?s.push(l):l instanceof jt&&i.push(l)}):(s=this.scroll.lines(t,e),i=this.scroll.descendants(jt,t,e));const[r,o]=[s,i].map(a=>{const l=a.shift();if(l==null)return{};let c=ie(l);for(;Object.keys(c).length>0;){const h=a.shift();if(h==null)return c;c=Cy(ie(h),c)}return c});return{...r,...o}}getHTML(t,e){const[s,i]=this.scroll.line(t);if(s){const r=s.length();return s.length()>=i+e&&!(i===0&&e===r)?ui(s,i,e,!0):ui(this.scroll,t,e,!0)}return""}getText(t,e){return this.getContents(t,e).filter(s=>typeof s.insert=="string").map(s=>s.insert).join("")}insertContents(t,e){const s=Vc(e),i=new U().retain(t).concat(s);return this.scroll.insertContents(t,s),this.update(i)}insertEmbed(t,e,s){return this.scroll.insertAt(t,e,s),this.update(new U().retain(t).insert({[e]:s}))}insertText(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e=e.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(t,e),Object.keys(s).forEach(i=>{this.scroll.formatAt(t,e.length,i,s[i])}),this.update(new U().retain(t).insert(e,hs(s)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const t=this.scroll.children.head;if(t?.statics.blotName!==Mt.blotName)return!1;const e=t;return e.children.length>1?!1:e.children.head instanceof xe}removeFormat(t,e){const s=this.getText(t,e),[i,r]=this.scroll.line(t+e);let o=0,a=new U;i!=null&&(o=i.length()-r,a=i.delta().slice(r,r+o-1).insert(`
`));const c=this.getContents(t,e+o).diff(new U().insert(s).concat(a)),h=new U().retain(t).concat(c);return this.applyDelta(h)}update(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const i=this.delta;if(e.length===1&&e[0].type==="characterData"&&e[0].target.data.match(Oy)&&this.scroll.find(e[0].target)){const r=this.scroll.find(e[0].target),o=ie(r),a=r.offset(this.scroll),l=e[0].oldValue.replace(fe.CONTENTS,""),c=new U().insert(l),h=new U().insert(r.value()),u=s&&{oldRange:Wc(s.oldRange,-a),newRange:Wc(s.newRange,-a)};t=new U().retain(a).concat(c.diff(h,u)).reduce((g,p)=>p.insert?g.insert(p.insert,o):g.push(p),new U),this.delta=i.compose(t)}else this.delta=this.getDelta(),(!t||!gl(i.compose(t),this.delta))&&(t=i.diff(this.delta,s));return t}}function cs(n,t,e){if(n.length===0){const[g]=la(e.pop());return t<=0?`</li></${g}>`:`</li></${g}>${cs([],t-1,e)}`}const[{child:s,offset:i,length:r,indent:o,type:a},...l]=n,[c,h]=la(a);if(o>t)return e.push(a),o===t+1?`<${c}><li${h}>${ui(s,i,r)}${cs(l,o,e)}`:`<${c}><li>${cs(n,t+1,e)}`;const u=e[e.length-1];if(o===t&&a===u)return`</li><li${h}>${ui(s,i,r)}${cs(l,o,e)}`;const[f]=la(e.pop());return`</li></${f}>${cs(n,t-1,e)}`}function ui(n,t,e){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in n&&typeof n.html=="function")return n.html(t,e);if(n instanceof me)return Zr(n.value().slice(t,t+e)).replaceAll(" ","&nbsp;");if(n instanceof pe){if(n.statics.blotName==="list-container"){const c=[];return n.children.forEachAt(t,e,(h,u,f)=>{const g="formats"in h&&typeof h.formats=="function"?h.formats():{};c.push({child:h,offset:u,length:f,indent:g.indent||0,type:g.list})}),cs(c,-1,[])}const i=[];if(n.children.forEachAt(t,e,(c,h,u)=>{i.push(ui(c,h,u))}),s||n.statics.blotName==="list")return i.join("");const{outerHTML:r,innerHTML:o}=n.domNode,[a,l]=r.split(`>${o}<`);return a==="<table"?`<table style="border: 1px solid #000;">${i.join("")}<${l}`:`${a}>${i.join("")}<${l}`}return n.domNode instanceof Element?n.domNode.outerHTML:""}function Cy(n,t){return Object.keys(t).reduce((e,s)=>{if(n[s]==null)return e;const i=t[s];return i===n[s]?e[s]=i:Array.isArray(i)?i.indexOf(n[s])<0?e[s]=i.concat([n[s]]):e[s]=i:e[s]=[i,n[s]],e},{})}function la(n){const t=n==="ordered"?"ol":"ul";switch(n){case"checked":return[t,' data-list="checked"'];case"unchecked":return[t,' data-list="unchecked"'];default:return[t,""]}}function Vc(n){return n.reduce((t,e)=>{if(typeof e.insert=="string"){const s=e.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return t.insert(s,e.attributes)}return t.push(e)},new U)}function Wc(n,t){let{index:e,length:s}=n;return new Dn(e+t,s)}function Ly(n){const t=[];return n.forEach(e=>{typeof e.insert=="string"?e.insert.split(`
`).forEach((i,r)=>{r&&t.push({insert:`
`,attributes:e.attributes}),i&&t.push({insert:i,attributes:e.attributes})}):t.push(e)}),t}class Ne{static DEFAULTS={};constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=t,this.options=e}}const nr="\uFEFF";class bl extends ee{constructor(t,e){super(t,e),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(s=>{this.contentNode.appendChild(s)}),this.leftGuard=document.createTextNode(nr),this.rightGuard=document.createTextNode(nr),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(t,e){return t===this.leftGuard?0:t===this.rightGuard?1:super.index(t,e)}restore(t){let e=null,s;const i=t.data.split(nr).join("");if(t===this.leftGuard)if(this.prev instanceof me){const r=this.prev.length();this.prev.insertAt(r,i),e={startNode:this.prev.domNode,startOffset:r+i.length}}else s=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(s),this),e={startNode:s,startOffset:i.length};else t===this.rightGuard&&(this.next instanceof me?(this.next.insertAt(0,i),e={startNode:this.next.domNode,startOffset:i.length}):(s=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(s),this.next),e={startNode:s,startOffset:i.length}));return t.data=nr,e}update(t,e){t.forEach(s=>{if(s.type==="characterData"&&(s.target===this.leftGuard||s.target===this.rightGuard)){const i=this.restore(s.target);i&&(e.range=i)}})}}class Ny{isComposing=!1;constructor(t,e){this.scroll=t,this.emitter=e,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",t=>{this.isComposing||this.handleCompositionStart(t)}),this.scroll.domNode.addEventListener("compositionend",t=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(t)})})}handleCompositionStart(t){const e=t.target instanceof Node?this.scroll.find(t.target,!0):null;e&&!(e instanceof bl)&&(this.emitter.emit($.events.COMPOSITION_BEFORE_START,t),this.scroll.batchStart(),this.emitter.emit($.events.COMPOSITION_START,t),this.isComposing=!0)}handleCompositionEnd(t){this.emitter.emit($.events.COMPOSITION_BEFORE_END,t),this.scroll.batchEnd(),this.emitter.emit($.events.COMPOSITION_END,t),this.isComposing=!1}}class As{static DEFAULTS={modules:{}};static themes={default:As};modules={};constructor(t,e){this.quill=t,this.options=e}init(){Object.keys(this.options.modules).forEach(t=>{this.modules[t]==null&&this.addModule(t)})}addModule(t){const e=this.quill.constructor.import(`modules/${t}`);return this.modules[t]=new e(this.quill,this.options.modules[t]||{}),this.modules[t]}}const My=n=>n.parentElement||n.getRootNode().host||null,Ry=n=>{const t=n.getBoundingClientRect(),e="offsetWidth"in n&&Math.abs(t.width)/n.offsetWidth||1,s="offsetHeight"in n&&Math.abs(t.height)/n.offsetHeight||1;return{top:t.top,right:t.left+n.clientWidth*e,bottom:t.top+n.clientHeight*s,left:t.left}},sr=n=>{const t=parseInt(n,10);return Number.isNaN(t)?0:t},Kc=(n,t,e,s,i,r)=>n<e&&t>s?0:n<e?-(e-n+i):t>s?t-n>s-e?n+i-e:t-s+r:0,Py=(n,t)=>{const e=n.ownerDocument;let s=t,i=n;for(;i;){const r=i===e.body,o=r?{top:0,right:window.visualViewport?.width??e.documentElement.clientWidth,bottom:window.visualViewport?.height??e.documentElement.clientHeight,left:0}:Ry(i),a=getComputedStyle(i),l=Kc(s.left,s.right,o.left,o.right,sr(a.scrollPaddingLeft),sr(a.scrollPaddingRight)),c=Kc(s.top,s.bottom,o.top,o.bottom,sr(a.scrollPaddingTop),sr(a.scrollPaddingBottom));if(l||c)if(r)e.defaultView?.scrollBy(l,c);else{const{scrollLeft:h,scrollTop:u}=i;c&&(i.scrollTop+=c),l&&(i.scrollLeft+=l);const f=i.scrollLeft-h,g=i.scrollTop-u;s={left:s.left-f,top:s.top-g,right:s.right-f,bottom:s.bottom-g}}i=r||a.position==="fixed"?null:My(i)}},Dy=100,Iy=["block","break","cursor","inline","scroll","text"],By=(n,t,e)=>{const s=new ms;return Iy.forEach(i=>{const r=t.query(i);r&&s.register(r)}),n.forEach(i=>{let r=t.query(i);r||e.error(`Cannot register "${i}" specified in "formats" config. Are you sure it was registered?`);let o=0;for(;r;)if(s.register(r),r="blotName"in r?r.requiredContainer??null:null,o+=1,o>Dy){e.error(`Cycle detected in registering blot requiredContainer: "${i}"`);break}}),s},fs=Ke("quill"),ir=new ms;pe.uiClass="ql-ui";class N{static DEFAULTS={bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:ir,theme:"default"};static events=$.events;static sources=$.sources;static version="2.0.3";static imports={delta:U,parchment:my,"core/module":Ne,"core/theme":As};static debug(t){t===!0&&(t="log"),Ke.level(t)}static find(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Ua.get(t)||ir.find(t,e)}static import(t){return this.imports[t]==null&&fs.error(`Cannot import ${t}. Are you sure it was registered?`),this.imports[t]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const t=arguments.length<=0?void 0:arguments[0],e=!!(!(arguments.length<=1)&&arguments[1]),s="attrName"in t?t.attrName:t.blotName;typeof s=="string"?this.register(`formats/${s}`,t,e):Object.keys(t).forEach(i=>{this.register(i,t[i],e)})}else{const t=arguments.length<=0?void 0:arguments[0],e=arguments.length<=1?void 0:arguments[1],s=!!(!(arguments.length<=2)&&arguments[2]);this.imports[t]!=null&&!s&&fs.warn(`Overwriting ${t} with`,e),this.imports[t]=e,(t.startsWith("blots/")||t.startsWith("formats/"))&&e&&typeof e!="boolean"&&e.blotName!=="abstract"&&ir.register(e),typeof e.register=="function"&&e.register(ir)}}constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=qy(t,e),this.container=this.options.container,this.container==null){fs.error("Invalid Quill container",t);return}this.options.debug&&N.debug(this.options.debug);const s=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",Ua.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new $;const i=ml.blotName,r=this.options.registry.query(i);if(!r||!("blotName"in r))throw new Error(`Cannot initialize Quill without "${i}" blot`);if(this.scroll=new r(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new ky(this.scroll),this.selection=new Ty(this.scroll,this.emitter),this.composition=new Ny(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on($.events.EDITOR_CHANGE,o=>{o===$.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on($.events.SCROLL_UPDATE,(o,a)=>{const l=this.selection.lastRange,[c]=this.selection.getRange(),h=l&&c?{oldRange:l,newRange:c}:void 0;he.call(this,()=>this.editor.update(null,a,h),o)}),this.emitter.on($.events.SCROLL_EMBED_UPDATE,(o,a)=>{const l=this.selection.lastRange,[c]=this.selection.getRange(),h=l&&c?{oldRange:l,newRange:c}:void 0;he.call(this,()=>{const u=new U().retain(o.offset(this)).retain({[o.statics.blotName]:a});return this.editor.update(u,[],h)},N.sources.USER)}),s){const o=this.clipboard.convert({html:`${s}<p><br></p>`,text:`
`});this.setContents(o)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof t=="string"){const s=t;t=document.createElement("div"),t.classList.add(s)}return this.container.insertBefore(t,e),t}blur(){this.selection.setRange(null)}deleteText(t,e,s){return[t,e,,s]=Ie(t,e,s),he.call(this,()=>this.editor.deleteText(t,e),s,t,-1*e)}disable(){this.enable(!1)}editReadOnly(t){this.allowReadOnlyEdits=!0;const e=t();return this.allowReadOnlyEdits=!1,e}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}focus(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),t.preventScroll||this.scrollSelectionIntoView()}format(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:$.sources.API;return he.call(this,()=>{const i=this.getSelection(!0);let r=new U;if(i==null)return r;if(this.scroll.query(t,V.BLOCK))r=this.editor.formatLine(i.index,i.length,{[t]:e});else{if(i.length===0)return this.selection.format(t,e),r;r=this.editor.formatText(i.index,i.length,{[t]:e})}return this.setSelection(i,$.sources.SILENT),r},s)}formatLine(t,e,s,i,r){let o;return[t,e,o,r]=Ie(t,e,s,i,r),he.call(this,()=>this.editor.formatLine(t,e,o),r,t,0)}formatText(t,e,s,i,r){let o;return[t,e,o,r]=Ie(t,e,s,i,r),he.call(this,()=>this.editor.formatText(t,e,o),r,t,0)}getBounds(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=null;if(typeof t=="number"?s=this.selection.getBounds(t,e):s=this.selection.getBounds(t.index,t.length),!s)return null;const i=this.container.getBoundingClientRect();return{bottom:s.bottom-i.top,height:s.height,left:s.left-i.left,right:s.right-i.left,top:s.top-i.top,width:s.width}}getContents(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-t;return[t,e]=Ie(t,e),this.editor.getContents(t,e)}getFormat(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof t=="number"?this.editor.getFormat(t,e):this.editor.getFormat(t.index,t.length)}getIndex(t){return t.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(t){return this.scroll.leaf(t)}getLine(t){return this.scroll.line(t)}getLines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof t!="number"?this.scroll.lines(t.index,t.length):this.scroll.lines(t,e)}getModule(t){return this.theme.modules[t]}getSelection(){return arguments.length>0&&arguments[0]!==void 0&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(e=e??this.getLength()-t),[t,e]=Ie(t,e),this.editor.getHTML(t,e)}getText(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(e=e??this.getLength()-t),[t,e]=Ie(t,e),this.editor.getText(t,e)}hasFocus(){return this.selection.hasFocus()}insertEmbed(t,e,s){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:N.sources.API;return he.call(this,()=>this.editor.insertEmbed(t,e,s),i,t)}insertText(t,e,s,i,r){let o;return[t,,o,r]=Ie(t,0,s,i,r),he.call(this,()=>this.editor.insertText(t,e,o),r,t,e.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(t,e,s){return[t,e,,s]=Ie(t,e,s),he.call(this,()=>this.editor.removeFormat(t,e),s,t)}scrollRectIntoView(t){Py(this.root,t)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const t=this.selection.lastRange,e=t&&this.selection.getBounds(t.index,t.length);e&&this.scrollRectIntoView(e)}setContents(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$.sources.API;return he.call(this,()=>{t=new U(t);const s=this.getLength(),i=this.editor.deleteText(0,s),r=this.editor.insertContents(0,t),o=this.editor.deleteText(this.getLength()-1,1);return i.compose(r).compose(o)},e)}setSelection(t,e,s){t==null?this.selection.setRange(null,e||N.sources.API):([t,e,,s]=Ie(t,e,s),this.selection.setRange(new Dn(Math.max(0,t),e),s),s!==$.sources.SILENT&&this.scrollSelectionIntoView())}setText(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$.sources.API;const s=new U().insert(t);return this.setContents(s,e)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$.sources.USER;const e=this.scroll.update(t);return this.selection.update(t),e}updateContents(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$.sources.API;return he.call(this,()=>(t=new U(t),this.editor.applyDelta(t)),e,!0)}}function Gc(n){return typeof n=="string"?document.querySelector(n):n}function ca(n){return Object.entries(n??{}).reduce((t,e)=>{let[s,i]=e;return{...t,[s]:i===!0?{}:i}},{})}function Yc(n){return Object.fromEntries(Object.entries(n).filter(t=>t[1]!==void 0))}function qy(n,t){const e=Gc(n);if(!e)throw new Error("Invalid Quill container");const i=!t.theme||t.theme===N.DEFAULTS.theme?As:N.import(`themes/${t.theme}`);if(!i)throw new Error(`Invalid theme ${t.theme}. Did you register it?`);const{modules:r,...o}=N.DEFAULTS,{modules:a,...l}=i.DEFAULTS;let c=ca(t.modules);c!=null&&c.toolbar&&c.toolbar.constructor!==Object&&(c={...c,toolbar:{container:c.toolbar}});const h=rn({},ca(r),ca(a),c),u={...o,...Yc(l),...Yc(t)};let f=t.registry;return f?t.formats&&fs.warn('Ignoring "formats" option because "registry" is specified'):f=t.formats?By(t.formats,u.registry,fs):u.registry,{...u,registry:f,container:e,theme:i,modules:Object.entries(h).reduce((g,p)=>{let[m,b]=p;if(!b)return g;const x=N.import(`modules/${m}`);return x==null?(fs.error(`Cannot load ${m} module. Are you sure you registered it?`),g):{...g,[m]:rn({},x.DEFAULTS||{},b)}},{}),bounds:Gc(u.bounds)}}function he(n,t,e,s){if(!this.isEnabled()&&t===$.sources.USER&&!this.allowReadOnlyEdits)return new U;let i=e==null?null:this.getSelection();const r=this.editor.delta,o=n();if(i!=null&&(e===!0&&(e=i.index),s==null?i=Xc(i,o,t):s!==0&&(i=Xc(i,e,s,t)),this.setSelection(i,$.sources.SILENT)),o.length()>0){const a=[$.events.TEXT_CHANGE,o,r,t];this.emitter.emit($.events.EDITOR_CHANGE,...a),t!==$.sources.SILENT&&this.emitter.emit(...a)}return o}function Ie(n,t,e,s,i){let r={};return typeof n.index=="number"&&typeof n.length=="number"?typeof t!="number"?(i=s,s=e,e=t,t=n.length,n=n.index):(t=n.length,n=n.index):typeof t!="number"&&(i=s,s=e,e=t,t=0),typeof e=="object"?(r=e,i=s):typeof e=="string"&&(s!=null?r[e]=s:i=e),i=i||$.sources.API,[n,t,r,i]}function Xc(n,t,e,s){const i=typeof e=="number"?e:0;if(n==null)return null;let r,o;return t&&typeof t.transformPosition=="function"?[r,o]=[n.index,n.index+n.length].map(a=>t.transformPosition(a,s!==$.sources.USER)):[r,o]=[n.index,n.index+n.length].map(a=>a<t||a===t&&s===$.sources.USER?a:i>=0?a+i:Math.max(t,a+i)),new Dn(r,o-r)}class $n extends Xr{}function Zc(n){return n instanceof Mt||n instanceof oe}function Jc(n){return typeof n.updateContent=="function"}class Fy extends ml{static blotName="scroll";static className="ql-editor";static tagName="DIV";static defaultChild=Mt;static allowedChildren=[Mt,oe,$n];constructor(t,e,s){let{emitter:i}=s;super(t,e),this.emitter=i,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",r=>this.handleDragStart(r))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const t=this.batch;this.batch=!1,this.update(t)}emitMount(t){this.emitter.emit($.events.SCROLL_BLOT_MOUNT,t)}emitUnmount(t){this.emitter.emit($.events.SCROLL_BLOT_UNMOUNT,t)}emitEmbedUpdate(t,e){this.emitter.emit($.events.SCROLL_EMBED_UPDATE,t,e)}deleteAt(t,e){const[s,i]=this.line(t),[r]=this.line(t+e);if(super.deleteAt(t,e),r!=null&&s!==r&&i>0){if(s instanceof oe||r instanceof oe){this.optimize();return}const o=r.children.head instanceof xe?null:r.children.head;s.moveChildren(r,o),s.remove()}this.optimize()}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",t?"true":"false")}formatAt(t,e,s,i){super.formatAt(t,e,s,i),this.optimize()}insertAt(t,e,s){if(t>=this.length())if(s==null||this.scroll.query(e,V.BLOCK)==null){const i=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(i),s==null&&e.endsWith(`
`)?i.insertAt(0,e.slice(0,-1),s):i.insertAt(0,e,s)}else{const i=this.scroll.create(e,s);this.appendChild(i)}else super.insertAt(t,e,s);this.optimize()}insertBefore(t,e){if(t.statics.scope===V.INLINE_BLOT){const s=this.scroll.create(this.statics.defaultChild.blotName);s.appendChild(t),super.insertBefore(s,e)}else super.insertBefore(t,e)}insertContents(t,e){const s=this.deltaToRenderBlocks(e.concat(new U().insert(`
`))),i=s.pop();if(i==null)return;this.batchStart();const r=s.shift();if(r){const l=r.type==="block"&&(r.delta.length()===0||!this.descendant(oe,t)[0]&&t<this.length()),c=r.type==="block"?r.delta:new U().insert({[r.key]:r.value});ha(this,t,c);const h=r.type==="block"?1:0,u=t+c.length()+h;l&&this.insertAt(u-1,`
`);const f=ie(this.line(t)[0]),g=ae.AttributeMap.diff(f,r.attributes)||{};Object.keys(g).forEach(p=>{this.formatAt(u-1,1,p,g[p])}),t=u}let[o,a]=this.children.find(t);if(s.length&&(o&&(o=o.split(a),a=0),s.forEach(l=>{if(l.type==="block"){const c=this.createBlock(l.attributes,o||void 0);ha(c,0,l.delta)}else{const c=this.create(l.key,l.value);this.insertBefore(c,o||void 0),Object.keys(l.attributes).forEach(h=>{c.format(h,l.attributes[h])})}})),i.type==="block"&&i.delta.length()){const l=o?o.offset(o.scroll)+a:this.length();ha(this,l,i.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(t){const e=this.path(t).pop();if(!e)return[null,-1];const[s,i]=e;return s instanceof jt?[s,i]:[null,-1]}line(t){return t===this.length()?this.line(t-1):this.descendant(Zc,t)}lines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const s=(i,r,o)=>{let a=[],l=o;return i.children.forEachAt(r,o,(c,h,u)=>{Zc(c)?a.push(c):c instanceof Xr&&(a=a.concat(s(c,h,l))),l-=u}),a};return s(this,t,e)}optimize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(t,e),t.length>0&&this.emitter.emit($.events.SCROLL_OPTIMIZE,t,e))}path(t){return super.path(t).slice(1)}remove(){}update(t){if(this.batch){Array.isArray(t)&&(this.batch=this.batch.concat(t));return}let e=$.sources.USER;typeof t=="string"&&(e=t),Array.isArray(t)||(t=this.observer.takeRecords()),t=t.filter(s=>{let{target:i}=s;const r=this.find(i,!0);return r&&!Jc(r)}),t.length>0&&this.emitter.emit($.events.SCROLL_BEFORE_UPDATE,e,t),super.update(t.concat([])),t.length>0&&this.emitter.emit($.events.SCROLL_UPDATE,e,t)}updateEmbedAt(t,e,s){const[i]=this.descendant(r=>r instanceof oe,t);i&&i.statics.blotName===e&&Jc(i)&&i.updateContent(s)}handleDragStart(t){t.preventDefault()}deltaToRenderBlocks(t){const e=[];let s=new U;return t.forEach(i=>{const r=i?.insert;if(r)if(typeof r=="string"){const o=r.split(`
`);o.slice(0,-1).forEach(l=>{s.insert(l,i.attributes),e.push({type:"block",delta:s,attributes:i.attributes??{}}),s=new U});const a=o[o.length-1];a&&s.insert(a,i.attributes)}else{const o=Object.keys(r)[0];if(!o)return;this.query(o,V.INLINE)?s.push(i):(s.length()&&e.push({type:"block",delta:s,attributes:{}}),s=new U,e.push({type:"blockEmbed",key:o,value:r[o],attributes:i.attributes??{}}))}}),s.length()&&e.push({type:"block",delta:s,attributes:{}}),e}createBlock(t,e){let s;const i={};Object.entries(t).forEach(a=>{let[l,c]=a;this.query(l,V.BLOCK&V.BLOT)!=null?s=l:i[l]=c});const r=this.create(s||this.statics.defaultChild.blotName,s?t[s]:void 0);this.insertBefore(r,e||void 0);const o=r.length();return Object.entries(i).forEach(a=>{let[l,c]=a;r.formatAt(0,o,l,c)}),r}}function ha(n,t,e){e.reduce((s,i)=>{const r=ae.Op.length(i);let o=i.attributes||{};if(i.insert!=null){if(typeof i.insert=="string"){const a=i.insert;n.insertAt(s,a);const[l]=n.descendant(jt,s),c=ie(l);o=ae.AttributeMap.diff(c,o)||{}}else if(typeof i.insert=="object"){const a=Object.keys(i.insert)[0];if(a==null)return s;if(n.insertAt(s,a,i.insert[a]),n.scroll.query(a,V.INLINE)!=null){const[c]=n.descendant(jt,s),h=ie(c);o=ae.AttributeMap.diff(h,o)||{}}}}return Object.keys(o).forEach(a=>{n.formatAt(s,r,a,o[a])}),s+r},t)}const yl={scope:V.BLOCK,whitelist:["right","center","justify"]},jy=new Ce("align","align",yl),$f=new ye("align","ql-align",yl),Hf=new fn("align","text-align",yl);class Uf extends fn{value(t){let e=super.value(t);return e.startsWith("rgb(")?(e=e.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${e.split(",").map(i=>`00${parseInt(i,10).toString(16)}`.slice(-2)).join("")}`):e}}const zy=new ye("color","ql-color",{scope:V.INLINE}),xl=new Uf("color","color",{scope:V.INLINE}),$y=new ye("background","ql-bg",{scope:V.INLINE}),_l=new Uf("background","background-color",{scope:V.INLINE});class Hn extends $n{static create(t){const e=super.create(t);return e.setAttribute("spellcheck","false"),e}code(t,e){return this.children.map(s=>s.length()<=1?"":s.domNode.innerText).join(`
`).slice(t,t+e)}html(t,e){return`<pre>
${Zr(this.code(t,e))}
</pre>`}}class Vt extends Mt{static TAB="  ";static register(){N.register(Hn)}}class vl extends Ut{}vl.blotName="code";vl.tagName="CODE";Vt.blotName="code-block";Vt.className="ql-code-block";Vt.tagName="DIV";Hn.blotName="code-block-container";Hn.className="ql-code-block-container";Hn.tagName="DIV";Hn.allowedChildren=[Vt];Vt.allowedChildren=[me,xe,fe];Vt.requiredContainer=Hn;const wl={scope:V.BLOCK,whitelist:["rtl"]},Vf=new Ce("direction","dir",wl),Wf=new ye("direction","ql-direction",wl),Kf=new fn("direction","direction",wl),Gf={scope:V.INLINE,whitelist:["serif","monospace"]},Yf=new ye("font","ql-font",Gf);class Hy extends fn{value(t){return super.value(t).replace(/["']/g,"")}}const Xf=new Hy("font","font-family",Gf),Zf=new ye("size","ql-size",{scope:V.INLINE,whitelist:["small","large","huge"]}),Jf=new fn("size","font-size",{scope:V.INLINE,whitelist:["10px","18px","32px"]}),Uy=Ke("quill:keyboard"),Vy=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class Jr extends Ne{static match(t,e){return["altKey","ctrlKey","metaKey","shiftKey"].some(s=>!!e[s]!==t[s]&&e[s]!==null)?!1:e.key===t.key||e.key===t.which}constructor(t,e){super(t,e),this.bindings={},Object.keys(this.options.bindings).forEach(s=>{this.options.bindings[s]&&this.addBinding(this.options.bindings[s])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=Ky(t);if(i==null){Uy.warn("Attempted to add invalid keyboard binding",i);return}typeof e=="function"&&(e={handler:e}),typeof s=="function"&&(s={handler:s}),(Array.isArray(i.key)?i.key:[i.key]).forEach(o=>{const a={...i,key:o,...e,...s};this.bindings[a.key]=this.bindings[a.key]||[],this.bindings[a.key].push(a)})}listen(){this.quill.root.addEventListener("keydown",t=>{if(t.defaultPrevented||t.isComposing||t.keyCode===229&&(t.key==="Enter"||t.key==="Backspace"))return;const i=(this.bindings[t.key]||[]).concat(this.bindings[t.which]||[]).filter(x=>Jr.match(t,x));if(i.length===0)return;const r=N.find(t.target,!0);if(r&&r.scroll!==this.quill.scroll)return;const o=this.quill.getSelection();if(o==null||!this.quill.hasFocus())return;const[a,l]=this.quill.getLine(o.index),[c,h]=this.quill.getLeaf(o.index),[u,f]=o.length===0?[c,h]:this.quill.getLeaf(o.index+o.length),g=c instanceof Lr?c.value().slice(0,h):"",p=u instanceof Lr?u.value().slice(f):"",m={collapsed:o.length===0,empty:o.length===0&&a.length()<=1,format:this.quill.getFormat(o),line:a,offset:l,prefix:g,suffix:p,event:t};i.some(x=>{if(x.collapsed!=null&&x.collapsed!==m.collapsed||x.empty!=null&&x.empty!==m.empty||x.offset!=null&&x.offset!==m.offset)return!1;if(Array.isArray(x.format)){if(x.format.every(w=>m.format[w]==null))return!1}else if(typeof x.format=="object"&&!Object.keys(x.format).every(w=>x.format[w]===!0?m.format[w]!=null:x.format[w]===!1?m.format[w]==null:gl(x.format[w],m.format[w])))return!1;return x.prefix!=null&&!x.prefix.test(m.prefix)||x.suffix!=null&&!x.suffix.test(m.suffix)?!1:x.handler.call(this,o,m,x)!==!0})&&t.preventDefault()})}handleBackspace(t,e){const s=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;if(t.index===0||this.quill.getLength()<=1)return;let i={};const[r]=this.quill.getLine(t.index);let o=new U().retain(t.index-s).delete(s);if(e.offset===0){const[a]=this.quill.getLine(t.index-1);if(a&&!(a.statics.blotName==="block"&&a.length()<=1)){const c=r.formats(),h=this.quill.getFormat(t.index-1,1);if(i=ae.AttributeMap.diff(c,h)||{},Object.keys(i).length>0){const u=new U().retain(t.index+r.length()-2).retain(1,i);o=o.compose(u)}}}this.quill.updateContents(o,N.sources.USER),this.quill.focus()}handleDelete(t,e){const s=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(t.index>=this.quill.getLength()-s)return;let i={};const[r]=this.quill.getLine(t.index);let o=new U().retain(t.index).delete(s);if(e.offset>=r.length()-1){const[a]=this.quill.getLine(t.index+1);if(a){const l=r.formats(),c=this.quill.getFormat(t.index,1);i=ae.AttributeMap.diff(l,c)||{},Object.keys(i).length>0&&(o=o.retain(a.length()-1).retain(1,i))}}this.quill.updateContents(o,N.sources.USER),this.quill.focus()}handleDeleteRange(t){Al({range:t,quill:this.quill}),this.quill.focus()}handleEnter(t,e){const s=Object.keys(e.format).reduce((r,o)=>(this.quill.scroll.query(o,V.BLOCK)&&!Array.isArray(e.format[o])&&(r[o]=e.format[o]),r),{}),i=new U().retain(t.index).delete(t.length).insert(`
`,s);this.quill.updateContents(i,N.sources.USER),this.quill.setSelection(t.index+1,N.sources.SILENT),this.quill.focus()}}const Wy={bindings:{bold:ua("bold"),italic:ua("italic"),underline:ua("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(n,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","+1",N.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(n,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","-1",N.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(n,t){t.format.indent!=null?this.quill.format("indent","-1",N.sources.USER):t.format.list!=null&&this.quill.format("list",!1,N.sources.USER)}},"indent code-block":Qc(!0),"outdent code-block":Qc(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(n){this.quill.deleteText(n.index-1,1,N.sources.USER)}},tab:{key:"Tab",handler(n,t){if(t.format.table)return!0;this.quill.history.cutoff();const e=new U().retain(n.index).delete(n.length).insert("	");return this.quill.updateContents(e,N.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index+1,N.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,N.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(n,t){const e={list:!1};t.format.indent&&(e.indent=!1),this.quill.formatLine(n.index,n.length,e,N.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(n){const[t,e]=this.quill.getLine(n.index),s={...t.formats(),list:"checked"},i=new U().retain(n.index).insert(`
`,s).retain(t.length()-e-1).retain(1,{list:"unchecked"});this.quill.updateContents(i,N.sources.USER),this.quill.setSelection(n.index+1,N.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(n,t){const[e,s]=this.quill.getLine(n.index),i=new U().retain(n.index).insert(`
`,t.format).retain(e.length()-s-1).retain(1,{header:null});this.quill.updateContents(i,N.sources.USER),this.quill.setSelection(n.index+1,N.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(n){const t=this.quill.getModule("table");if(t){const[e,s,i,r]=t.getTable(n),o=Gy(e,s,i,r);if(o==null)return;let a=e.offset();if(o<0){const l=new U().retain(a).insert(`
`);this.quill.updateContents(l,N.sources.USER),this.quill.setSelection(n.index+1,n.length,N.sources.SILENT)}else if(o>0){a+=e.length();const l=new U().retain(a).insert(`
`);this.quill.updateContents(l,N.sources.USER),this.quill.setSelection(a,N.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(n,t){const{event:e,line:s}=t,i=s.offset(this.quill.scroll);e.shiftKey?this.quill.setSelection(i-1,N.sources.USER):this.quill.setSelection(i+s.length(),N.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(n,t){if(this.quill.scroll.query("list")==null)return!0;const{length:e}=t.prefix,[s,i]=this.quill.getLine(n.index);if(i>e)return!0;let r;switch(t.prefix.trim()){case"[]":case"[ ]":r="unchecked";break;case"[x]":r="checked";break;case"-":case"*":r="bullet";break;default:r="ordered"}this.quill.insertText(n.index," ",N.sources.USER),this.quill.history.cutoff();const o=new U().retain(n.index-i).delete(e+1).retain(s.length()-2-i).retain(1,{list:r});return this.quill.updateContents(o,N.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index-e,N.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(n){const[t,e]=this.quill.getLine(n.index);let s=2,i=t;for(;i!=null&&i.length()<=1&&i.formats()["code-block"];)if(i=i.prev,s-=1,s<=0){const r=new U().retain(n.index+t.length()-e-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(r,N.sources.USER),this.quill.setSelection(n.index-1,N.sources.SILENT),!1}return!0}},"embed left":rr("ArrowLeft",!1),"embed left shift":rr("ArrowLeft",!0),"embed right":rr("ArrowRight",!1),"embed right shift":rr("ArrowRight",!0),"table down":th(!1),"table up":th(!0)}};Jr.DEFAULTS=Wy;function Qc(n){return{key:"Tab",shiftKey:!n,format:{"code-block":!0},handler(t,e){let{event:s}=e;const i=this.quill.scroll.query("code-block"),{TAB:r}=i;if(t.length===0&&!s.shiftKey){this.quill.insertText(t.index,r,N.sources.USER),this.quill.setSelection(t.index+r.length,N.sources.SILENT);return}const o=t.length===0?this.quill.getLines(t.index,1):this.quill.getLines(t);let{index:a,length:l}=t;o.forEach((c,h)=>{n?(c.insertAt(0,r),h===0?a+=r.length:l+=r.length):c.domNode.textContent.startsWith(r)&&(c.deleteAt(0,r.length),h===0?a-=r.length:l-=r.length)}),this.quill.update(N.sources.USER),this.quill.setSelection(a,l,N.sources.SILENT)}}}function rr(n,t){return{key:n,shiftKey:t,altKey:null,[n==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(s){let{index:i}=s;n==="ArrowRight"&&(i+=s.length+1);const[r]=this.quill.getLeaf(i);return r instanceof ee?(n==="ArrowLeft"?t?this.quill.setSelection(s.index-1,s.length+1,N.sources.USER):this.quill.setSelection(s.index-1,N.sources.USER):t?this.quill.setSelection(s.index,s.length+1,N.sources.USER):this.quill.setSelection(s.index+s.length+1,N.sources.USER),!1):!0}}}function ua(n){return{key:n[0],shortKey:!0,handler(t,e){this.quill.format(n,!e.format[n],N.sources.USER)}}}function th(n){return{key:n?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(t,e){const s=n?"prev":"next",i=e.line,r=i.parent[s];if(r!=null){if(r.statics.blotName==="table-row"){let o=r.children.head,a=i;for(;a.prev!=null;)a=a.prev,o=o.next;const l=o.offset(this.quill.scroll)+Math.min(e.offset,o.length()-1);this.quill.setSelection(l,0,N.sources.USER)}}else{const o=i.table()[s];o!=null&&(n?this.quill.setSelection(o.offset(this.quill.scroll)+o.length()-1,0,N.sources.USER):this.quill.setSelection(o.offset(this.quill.scroll),0,N.sources.USER))}return!1}}}function Ky(n){if(typeof n=="string"||typeof n=="number")n={key:n};else if(typeof n=="object")n=hs(n);else return null;return n.shortKey&&(n[Vy]=n.shortKey,delete n.shortKey),n}function Al(n){let{quill:t,range:e}=n;const s=t.getLines(e);let i={};if(s.length>1){const r=s[0].formats(),o=s[s.length-1].formats();i=ae.AttributeMap.diff(o,r)||{}}t.deleteText(e,N.sources.USER),Object.keys(i).length>0&&t.formatLine(e.index,1,i,N.sources.USER),t.setSelection(e.index,N.sources.SILENT)}function Gy(n,t,e,s){return t.prev==null&&t.next==null?e.prev==null&&e.next==null?s===0?-1:1:e.prev==null?-1:1:t.prev==null?-1:t.next==null?1:null}const Yy=/font-weight:\s*normal/,Xy=["P","OL","UL"],eh=n=>n&&Xy.includes(n.tagName),Zy=n=>{Array.from(n.querySelectorAll("br")).filter(t=>eh(t.previousElementSibling)&&eh(t.nextElementSibling)).forEach(t=>{t.parentNode?.removeChild(t)})},Jy=n=>{Array.from(n.querySelectorAll('b[style*="font-weight"]')).filter(t=>t.getAttribute("style")?.match(Yy)).forEach(t=>{const e=n.createDocumentFragment();e.append(...t.childNodes),t.parentNode?.replaceChild(e,t)})};function Qy(n){n.querySelector('[id^="docs-internal-guid-"]')&&(Jy(n),Zy(n))}const tx=/\bmso-list:[^;]*ignore/i,ex=/\bmso-list:[^;]*\bl(\d+)/i,nx=/\bmso-list:[^;]*\blevel(\d+)/i,sx=(n,t)=>{const e=n.getAttribute("style"),s=e?.match(ex);if(!s)return null;const i=Number(s[1]),r=e?.match(nx),o=r?Number(r[1]):1,a=new RegExp(`@list l${i}:level${o}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),l=t.match(a),c=l&&l[1]==="bullet"?"bullet":"ordered";return{id:i,indent:o,type:c,element:n}},ix=n=>{const t=Array.from(n.querySelectorAll("[style*=mso-list]")),e=[],s=[];t.forEach(o=>{(o.getAttribute("style")||"").match(tx)?e.push(o):s.push(o)}),e.forEach(o=>o.parentNode?.removeChild(o));const i=n.documentElement.innerHTML,r=s.map(o=>sx(o,i)).filter(o=>o);for(;r.length;){const o=[];let a=r.shift();for(;a;)o.push(a),a=r.length&&r[0]?.element===a.element.nextElementSibling&&r[0].id===a.id?r.shift():null;const l=document.createElement("ul");o.forEach(u=>{const f=document.createElement("li");f.setAttribute("data-list",u.type),u.indent>1&&f.setAttribute("class",`ql-indent-${u.indent-1}`),f.innerHTML=u.element.innerHTML,l.appendChild(f)});const c=o[0]?.element,{parentNode:h}=c??{};c&&h?.replaceChild(l,c),o.slice(1).forEach(u=>{let{element:f}=u;h?.removeChild(f)})}};function rx(n){n.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&ix(n)}const ox=[rx,Qy],ax=n=>{n.documentElement&&ox.forEach(t=>{t(n)})},lx=Ke("quill:clipboard"),cx=[[Node.TEXT_NODE,wx],[Node.TEXT_NODE,sh],["br",px],[Node.ELEMENT_NODE,sh],[Node.ELEMENT_NODE,gx],[Node.ELEMENT_NODE,dx],[Node.ELEMENT_NODE,_x],["li",yx],["ol, ul",xx],["pre",mx],["tr",vx],["b",fa("bold")],["i",fa("italic")],["strike",fa("strike")],["style",bx]],hx=[jy,Vf].reduce((n,t)=>(n[t.keyName]=t,n),{}),nh=[Hf,_l,xl,Kf,Xf,Jf].reduce((n,t)=>(n[t.keyName]=t,n),{});class ux extends Ne{static DEFAULTS={matchers:[]};constructor(t,e){super(t,e),this.quill.root.addEventListener("copy",s=>this.onCaptureCopy(s,!1)),this.quill.root.addEventListener("cut",s=>this.onCaptureCopy(s,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],cx.concat(this.options.matchers??[]).forEach(s=>{let[i,r]=s;this.addMatcher(i,r)})}addMatcher(t,e){this.matchers.push([t,e])}convert(t){let{html:e,text:s}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(i[Vt.blotName])return new U().insert(s||"",{[Vt.blotName]:i[Vt.blotName]});if(!e)return new U().insert(s||"",i);const r=this.convertHTML(e);return Ei(r,`
`)&&(r.ops[r.ops.length-1].attributes==null||i.table)?r.compose(new U().retain(r.length()-1).delete(1)):r}normalizeHTML(t){ax(t)}convertHTML(t){const e=new DOMParser().parseFromString(t,"text/html");this.normalizeHTML(e);const s=e.body,i=new WeakMap,[r,o]=this.prepareMatching(s,i);return Sl(this.quill.scroll,s,r,o,i)}dangerouslyPasteHTML(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:N.sources.API;if(typeof t=="string"){const i=this.convert({html:t,text:""});this.quill.setContents(i,e),this.quill.setSelection(0,N.sources.SILENT)}else{const i=this.convert({html:e,text:""});this.quill.updateContents(new U().retain(t).concat(i),s),this.quill.setSelection(t+i.length(),N.sources.SILENT)}}onCaptureCopy(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t.defaultPrevented)return;t.preventDefault();const[s]=this.quill.selection.getRange();if(s==null)return;const{html:i,text:r}=this.onCopy(s,e);t.clipboardData?.setData("text/plain",r),t.clipboardData?.setData("text/html",i),e&&Al({range:s,quill:this.quill})}normalizeURIList(t){return t.split(/\r?\n/).filter(e=>e[0]!=="#").join(`
`)}onCapturePaste(t){if(t.defaultPrevented||!this.quill.isEnabled())return;t.preventDefault();const e=this.quill.getSelection(!0);if(e==null)return;const s=t.clipboardData?.getData("text/html");let i=t.clipboardData?.getData("text/plain");if(!s&&!i){const o=t.clipboardData?.getData("text/uri-list");o&&(i=this.normalizeURIList(o))}const r=Array.from(t.clipboardData?.files||[]);if(!s&&r.length>0){this.quill.uploader.upload(e,r);return}if(s&&r.length>0){const o=new DOMParser().parseFromString(s,"text/html");if(o.body.childElementCount===1&&o.body.firstElementChild?.tagName==="IMG"){this.quill.uploader.upload(e,r);return}}this.onPaste(e,{html:s,text:i})}onCopy(t){const e=this.quill.getText(t);return{html:this.quill.getSemanticHTML(t),text:e}}onPaste(t,e){let{text:s,html:i}=e;const r=this.quill.getFormat(t.index),o=this.convert({text:s,html:i},r);lx.log("onPaste",o,{text:s,html:i});const a=new U().retain(t.index).delete(t.length).concat(o);this.quill.updateContents(a,N.sources.USER),this.quill.setSelection(a.length()-t.length,N.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(t,e){const s=[],i=[];return this.matchers.forEach(r=>{const[o,a]=r;switch(o){case Node.TEXT_NODE:i.push(a);break;case Node.ELEMENT_NODE:s.push(a);break;default:Array.from(t.querySelectorAll(o)).forEach(l=>{e.has(l)?e.get(l)?.push(a):e.set(l,[a])});break}}),[s,i]}}function Un(n,t,e,s){return s.query(t)?n.reduce((i,r)=>{if(!r.insert)return i;if(r.attributes&&r.attributes[t])return i.push(r);const o=e?{[t]:e}:{};return i.insert(r.insert,{...o,...r.attributes})},new U):n}function Ei(n,t){let e="";for(let s=n.ops.length-1;s>=0&&e.length<t.length;--s){const i=n.ops[s];if(typeof i.insert!="string")break;e=i.insert+e}return e.slice(-1*t.length)===t}function Qe(n,t){if(!(n instanceof Element))return!1;const e=t.query(n);return e&&e.prototype instanceof ee?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(n.tagName.toLowerCase())}function fx(n,t){return n.previousElementSibling&&n.nextElementSibling&&!Qe(n.previousElementSibling,t)&&!Qe(n.nextElementSibling,t)}const or=new WeakMap;function Qf(n){return n==null?!1:(or.has(n)||(n.tagName==="PRE"?or.set(n,!0):or.set(n,Qf(n.parentNode))),or.get(n))}function Sl(n,t,e,s,i){return t.nodeType===t.TEXT_NODE?s.reduce((r,o)=>o(t,r,n),new U):t.nodeType===t.ELEMENT_NODE?Array.from(t.childNodes||[]).reduce((r,o)=>{let a=Sl(n,o,e,s,i);return o.nodeType===t.ELEMENT_NODE&&(a=e.reduce((l,c)=>c(o,l,n),a),a=(i.get(o)||[]).reduce((l,c)=>c(o,l,n),a)),r.concat(a)},new U):new U}function fa(n){return(t,e,s)=>Un(e,n,!0,s)}function dx(n,t,e){const s=Ce.keys(n),i=ye.keys(n),r=fn.keys(n),o={};return s.concat(i).concat(r).forEach(a=>{let l=e.query(a,V.ATTRIBUTE);l!=null&&(o[l.attrName]=l.value(n),o[l.attrName])||(l=hx[a],l!=null&&(l.attrName===a||l.keyName===a)&&(o[l.attrName]=l.value(n)||void 0),l=nh[a],l!=null&&(l.attrName===a||l.keyName===a)&&(l=nh[a],o[l.attrName]=l.value(n)||void 0))}),Object.entries(o).reduce((a,l)=>{let[c,h]=l;return Un(a,c,h,e)},t)}function gx(n,t,e){const s=e.query(n);if(s==null)return t;if(s.prototype instanceof ee){const i={},r=s.value(n);if(r!=null)return i[s.blotName]=r,new U().insert(i,s.formats(n,e))}else if(s.prototype instanceof hi&&!Ei(t,`
`)&&t.insert(`
`),"blotName"in s&&"formats"in s&&typeof s.formats=="function")return Un(t,s.blotName,s.formats(n,e),e);return t}function px(n,t){return Ei(t,`
`)||t.insert(`
`),t}function mx(n,t,e){const s=e.query("code-block"),i=s&&"formats"in s&&typeof s.formats=="function"?s.formats(n,e):!0;return Un(t,"code-block",i,e)}function bx(){return new U}function yx(n,t,e){const s=e.query(n);if(s==null||s.blotName!=="list"||!Ei(t,`
`))return t;let i=-1,r=n.parentNode;for(;r!=null;)["OL","UL"].includes(r.tagName)&&(i+=1),r=r.parentNode;return i<=0?t:t.reduce((o,a)=>a.insert?a.attributes&&typeof a.attributes.indent=="number"?o.push(a):o.insert(a.insert,{indent:i,...a.attributes||{}}):o,new U)}function xx(n,t,e){const s=n;let i=s.tagName==="OL"?"ordered":"bullet";const r=s.getAttribute("data-checked");return r&&(i=r==="true"?"checked":"unchecked"),Un(t,"list",i,e)}function sh(n,t,e){if(!Ei(t,`
`)){if(Qe(n,e)&&(n.childNodes.length>0||n instanceof HTMLParagraphElement))return t.insert(`
`);if(t.length()>0&&n.nextSibling){let s=n.nextSibling;for(;s!=null;){if(Qe(s,e))return t.insert(`
`);const i=e.query(s);if(i&&i.prototype instanceof oe)return t.insert(`
`);s=s.firstChild}}}return t}function _x(n,t,e){const s={},i=n.style||{};return i.fontStyle==="italic"&&(s.italic=!0),i.textDecoration==="underline"&&(s.underline=!0),i.textDecoration==="line-through"&&(s.strike=!0),(i.fontWeight?.startsWith("bold")||parseInt(i.fontWeight,10)>=700)&&(s.bold=!0),t=Object.entries(s).reduce((r,o)=>{let[a,l]=o;return Un(r,a,l,e)},t),parseFloat(i.textIndent||0)>0?new U().insert("	").concat(t):t}function vx(n,t,e){const s=n.parentElement?.tagName==="TABLE"?n.parentElement:n.parentElement?.parentElement;if(s!=null){const r=Array.from(s.querySelectorAll("tr")).indexOf(n)+1;return Un(t,"table",r,e)}return t}function wx(n,t,e){let s=n.data;if(n.parentElement?.tagName==="O:P")return t.insert(s.trim());if(!Qf(n)){if(s.trim().length===0&&s.includes(`
`)&&!fx(n,e))return t;s=s.replace(/[^\S\u00a0]/g," "),s=s.replace(/ {2,}/g," "),(n.previousSibling==null&&n.parentElement!=null&&Qe(n.parentElement,e)||n.previousSibling instanceof Element&&Qe(n.previousSibling,e))&&(s=s.replace(/^ /,"")),(n.nextSibling==null&&n.parentElement!=null&&Qe(n.parentElement,e)||n.nextSibling instanceof Element&&Qe(n.nextSibling,e))&&(s=s.replace(/ $/,"")),s=s.replaceAll(""," ")}return t.insert(s)}class Ax extends Ne{static DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};lastRecorded=0;ignoreChange=!1;stack={undo:[],redo:[]};currentRange=null;constructor(t,e){super(t,e),this.quill.on(N.events.EDITOR_CHANGE,(s,i,r,o)=>{s===N.events.SELECTION_CHANGE?i&&o!==N.sources.SILENT&&(this.currentRange=i):s===N.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||o===N.sources.USER?this.record(i,r):this.transform(i)),this.currentRange=Ka(this.currentRange,i))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",s=>{s.inputType==="historyUndo"?(this.undo(),s.preventDefault()):s.inputType==="historyRedo"&&(this.redo(),s.preventDefault())})}change(t,e){if(this.stack[t].length===0)return;const s=this.stack[t].pop();if(!s)return;const i=this.quill.getContents(),r=s.delta.invert(i);this.stack[e].push({delta:r,range:Ka(s.range,r)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(s.delta,N.sources.USER),this.ignoreChange=!1,this.restoreSelection(s)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(t,e){if(t.ops.length===0)return;this.stack.redo=[];let s=t.invert(e),i=this.currentRange;const r=Date.now();if(this.lastRecorded+this.options.delay>r&&this.stack.undo.length>0){const o=this.stack.undo.pop();o&&(s=s.compose(o.delta),i=o.range)}else this.lastRecorded=r;s.length()!==0&&(this.stack.undo.push({delta:s,range:i}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(t){ih(this.stack.undo,t),ih(this.stack.redo,t)}undo(){this.change("undo","redo")}restoreSelection(t){if(t.range)this.quill.setSelection(t.range,N.sources.USER);else{const e=Ex(this.quill.scroll,t.delta);this.quill.setSelection(e,N.sources.USER)}}}function ih(n,t){let e=t;for(let s=n.length-1;s>=0;s-=1){const i=n[s];n[s]={delta:e.transform(i.delta,!0),range:i.range&&Ka(i.range,e)},e=i.delta.transform(e),n[s].delta.length()===0&&n.splice(s,1)}}function Sx(n,t){const e=t.ops[t.ops.length-1];return e==null?!1:e.insert!=null?typeof e.insert=="string"&&e.insert.endsWith(`
`):e.attributes!=null?Object.keys(e.attributes).some(s=>n.query(s,V.BLOCK)!=null):!1}function Ex(n,t){const e=t.reduce((i,r)=>i+(r.delete||0),0);let s=t.length()-e;return Sx(n,t)&&(s-=1),s}function Ka(n,t){if(!n)return n;const e=t.transformPosition(n.index),s=t.transformPosition(n.index+n.length);return{index:e,length:s-e}}class td extends Ne{constructor(t,e){super(t,e),t.root.addEventListener("drop",s=>{s.preventDefault();let i=null;if(document.caretRangeFromPoint)i=document.caretRangeFromPoint(s.clientX,s.clientY);else if(document.caretPositionFromPoint){const o=document.caretPositionFromPoint(s.clientX,s.clientY);i=document.createRange(),i.setStart(o.offsetNode,o.offset),i.setEnd(o.offsetNode,o.offset)}const r=i&&t.selection.normalizeNative(i);if(r){const o=t.selection.normalizedToRange(r);s.dataTransfer?.files&&this.upload(o,s.dataTransfer.files)}})}upload(t,e){const s=[];Array.from(e).forEach(i=>{i&&this.options.mimetypes?.includes(i.type)&&s.push(i)}),s.length>0&&this.options.handler.call(this,t,s)}}td.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(n,t){if(!this.quill.scroll.query("image"))return;const e=t.map(s=>new Promise(i=>{const r=new FileReader;r.onload=()=>{i(r.result)},r.readAsDataURL(s)}));Promise.all(e).then(s=>{const i=s.reduce((r,o)=>r.insert({image:o}),new U().retain(n.index).delete(n.length));this.quill.updateContents(i,$.sources.USER),this.quill.setSelection(n.index+s.length,$.sources.SILENT)})}};const Tx=["insertText","insertReplacementText"];class Ox extends Ne{constructor(t,e){super(t,e),t.root.addEventListener("beforeinput",s=>{this.handleBeforeInput(s)}),/Android/i.test(navigator.userAgent)||t.on(N.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(t){Al({range:t,quill:this.quill})}replaceText(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(t.length===0)return!1;if(e){const s=this.quill.getFormat(t.index,1);this.deleteRange(t),this.quill.updateContents(new U().retain(t.index).insert(e,s),N.sources.USER)}else this.deleteRange(t);return this.quill.setSelection(t.index+e.length,0,N.sources.SILENT),!0}handleBeforeInput(t){if(this.quill.composition.isComposing||t.defaultPrevented||!Tx.includes(t.inputType))return;const e=t.getTargetRanges?t.getTargetRanges()[0]:null;if(!e||e.collapsed===!0)return;const s=kx(t);if(s==null)return;const i=this.quill.selection.normalizeNative(e),r=i?this.quill.selection.normalizedToRange(i):null;r&&this.replaceText(r,s)&&t.preventDefault()}handleCompositionStart(){const t=this.quill.getSelection();t&&this.replaceText(t)}}function kx(n){return typeof n.data=="string"?n.data:n.dataTransfer?.types.includes("text/plain")?n.dataTransfer.getData("text/plain"):null}const Cx=/Mac/i.test(navigator.platform),Lx=100,Nx=n=>!!(n.key==="ArrowLeft"||n.key==="ArrowRight"||n.key==="ArrowUp"||n.key==="ArrowDown"||n.key==="Home"||Cx&&n.key==="a"&&n.ctrlKey===!0);class Mx extends Ne{isListening=!1;selectionChangeDeadline=0;constructor(t,e){super(t,e),this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(t,e){let{line:s,event:i}=e;if(!(s instanceof pe)||!s.uiNode)return!0;const r=getComputedStyle(s.domNode).direction==="rtl";return r&&i.key!=="ArrowRight"||!r&&i.key!=="ArrowLeft"?!0:(this.quill.setSelection(t.index-1,t.length+(i.shiftKey?1:0),N.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",t=>{!t.defaultPrevented&&Nx(t)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+Lx,this.isListening)return;this.isListening=!0;const t=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",t,{once:!0})}handleSelectionChange(){const t=document.getSelection();if(!t)return;const e=t.getRangeAt(0);if(e.collapsed!==!0||e.startOffset!==0)return;const s=this.quill.scroll.find(e.startContainer);if(!(s instanceof pe)||!s.uiNode)return;const i=document.createRange();i.setStartAfter(s.uiNode),i.setEndAfter(s.uiNode),t.removeAllRanges(),t.addRange(i)}}N.register({"blots/block":Mt,"blots/block/embed":oe,"blots/break":xe,"blots/container":$n,"blots/cursor":fe,"blots/embed":bl,"blots/inline":Ut,"blots/scroll":Fy,"blots/text":me,"modules/clipboard":ux,"modules/history":Ax,"modules/keyboard":Jr,"modules/uploader":td,"modules/input":Ox,"modules/uiNode":Mx});class Rx extends ye{add(t,e){let s=0;if(e==="+1"||e==="-1"){const i=this.value(t)||0;s=e==="+1"?i+1:i-1}else typeof e=="number"&&(s=e);return s===0?(this.remove(t),!0):super.add(t,s.toString())}canAdd(t,e){return super.canAdd(t,e)||super.canAdd(t,parseInt(e,10))}value(t){return parseInt(super.value(t),10)||void 0}}const Px=new Rx("indent","ql-indent",{scope:V.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class Dx extends Mt{static blotName="blockquote";static tagName="blockquote"}class Ix extends Mt{static blotName="header";static tagName=["H1","H2","H3","H4","H5","H6"];static formats(t){return this.tagName.indexOf(t.tagName)+1}}class Ti extends $n{}Ti.blotName="list-container";Ti.tagName="OL";class Oi extends Mt{static create(t){const e=super.create();return e.setAttribute("data-list",t),e}static formats(t){return t.getAttribute("data-list")||void 0}static register(){N.register(Ti)}constructor(t,e){super(t,e);const s=e.ownerDocument.createElement("span"),i=r=>{if(!t.isEnabled())return;const o=this.statics.formats(e,t);o==="checked"?(this.format("list","unchecked"),r.preventDefault()):o==="unchecked"&&(this.format("list","checked"),r.preventDefault())};s.addEventListener("mousedown",i),s.addEventListener("touchstart",i),this.attachUI(s)}format(t,e){t===this.statics.blotName&&e?this.domNode.setAttribute("data-list",e):super.format(t,e)}}Oi.blotName="list";Oi.tagName="LI";Ti.allowedChildren=[Oi];Oi.requiredContainer=Ti;class El extends Ut{static blotName="bold";static tagName=["STRONG","B"];static create(){return super.create()}static formats(){return!0}optimize(t){super.optimize(t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}class Bx extends El{static blotName="italic";static tagName=["EM","I"]}class Nr extends Ut{static blotName="link";static tagName="A";static SANITIZED_URL="about:blank";static PROTOCOL_WHITELIST=["http","https","mailto","tel","sms"];static create(t){const e=super.create(t);return e.setAttribute("href",this.sanitize(t)),e.setAttribute("rel","noopener noreferrer"),e.setAttribute("target","_blank"),e}static formats(t){return t.getAttribute("href")}static sanitize(t){return ed(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}format(t,e){t!==this.statics.blotName||!e?super.format(t,e):this.domNode.setAttribute("href",this.constructor.sanitize(e))}}function ed(n,t){const e=document.createElement("a");e.href=n;const s=e.href.slice(0,e.href.indexOf(":"));return t.indexOf(s)>-1}class qx extends Ut{static blotName="script";static tagName=["SUB","SUP"];static create(t){return t==="super"?document.createElement("sup"):t==="sub"?document.createElement("sub"):super.create(t)}static formats(t){if(t.tagName==="SUB")return"sub";if(t.tagName==="SUP")return"super"}}class Fx extends El{static blotName="strike";static tagName=["S","STRIKE"]}class jx extends Ut{static blotName="underline";static tagName="U"}class zx extends bl{static blotName="formula";static className="ql-formula";static tagName="SPAN";static create(t){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const e=super.create(t);return typeof t=="string"&&(window.katex.render(t,e,{throwOnError:!1,errorColor:"#f00"}),e.setAttribute("data-value",t)),e}static value(t){return t.getAttribute("data-value")}html(){const{formula:t}=this.value();return`<span>${t}</span>`}}const rh=["alt","height","width"];class $x extends ee{static blotName="image";static tagName="IMG";static create(t){const e=super.create(t);return typeof t=="string"&&e.setAttribute("src",this.sanitize(t)),e}static formats(t){return rh.reduce((e,s)=>(t.hasAttribute(s)&&(e[s]=t.getAttribute(s)),e),{})}static match(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}static sanitize(t){return ed(t,["http","https","data"])?t:"//:0"}static value(t){return t.getAttribute("src")}format(t,e){rh.indexOf(t)>-1?e?this.domNode.setAttribute(t,e):this.domNode.removeAttribute(t):super.format(t,e)}}const oh=["height","width"];class Hx extends oe{static blotName="video";static className="ql-video";static tagName="IFRAME";static create(t){const e=super.create(t);return e.setAttribute("frameborder","0"),e.setAttribute("allowfullscreen","true"),e.setAttribute("src",this.sanitize(t)),e}static formats(t){return oh.reduce((e,s)=>(t.hasAttribute(s)&&(e[s]=t.getAttribute(s)),e),{})}static sanitize(t){return Nr.sanitize(t)}static value(t){return t.getAttribute("src")}format(t,e){oh.indexOf(t)>-1?e?this.domNode.setAttribute(t,e):this.domNode.removeAttribute(t):super.format(t,e)}html(){const{video:t}=this.value();return`<a href="${t}">${t}</a>`}}const Xs=new ye("code-token","hljs",{scope:V.INLINE});class Ve extends Ut{static formats(t,e){for(;t!=null&&t!==e.domNode;){if(t.classList&&t.classList.contains(Vt.className))return super.formats(t,e);t=t.parentNode}}constructor(t,e,s){super(t,e,s),Xs.add(this.domNode,s)}format(t,e){t!==Ve.blotName?super.format(t,e):e?Xs.add(this.domNode,e):(Xs.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),Xs.value(this.domNode)||this.unwrap()}}Ve.blotName="code-token";Ve.className="ql-token";class re extends Vt{static create(t){const e=super.create(t);return typeof t=="string"&&e.setAttribute("data-language",t),e}static formats(t){return t.getAttribute("data-language")||"plain"}static register(){}format(t,e){t===this.statics.blotName&&e?this.domNode.setAttribute("data-language",e):super.format(t,e)}replaceWith(t,e){return this.formatAt(0,this.length(),Ve.blotName,!1),super.replaceWith(t,e)}}class ni extends Hn{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(t,e){t===re.blotName&&(this.forceNext=!0,this.children.forEach(s=>{s.format(t,e)}))}formatAt(t,e,s,i){s===re.blotName&&(this.forceNext=!0),super.formatAt(t,e,s,i)}highlight(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const i=`${Array.from(this.domNode.childNodes).filter(o=>o!==this.uiNode).map(o=>o.textContent).join(`
`)}
`,r=re.formats(this.children.head.domNode);if(e||this.forceNext||this.cachedText!==i){if(i.trim().length>0||this.cachedText==null){const o=this.children.reduce((l,c)=>l.concat(jf(c,!1)),new U),a=t(i,r);o.diff(a).reduce((l,c)=>{let{retain:h,attributes:u}=c;return h?(u&&Object.keys(u).forEach(f=>{[re.blotName,Ve.blotName].includes(f)&&this.formatAt(l,h,f,u[f])}),l+h):l},0)}this.cachedText=i,this.forceNext=!1}}html(t,e){const[s]=this.children.find(t);return`<pre data-language="${s?re.formats(s.domNode):"plain"}">
${Zr(this.code(t,e))}
</pre>`}optimize(t){if(super.optimize(t),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const e=re.formats(this.children.head.domNode);e!==this.uiNode.value&&(this.uiNode.value=e)}}}ni.allowedChildren=[re];re.requiredContainer=ni;re.allowedChildren=[Ve,fe,me,xe];const Ux=(n,t,e)=>{if(typeof n.versionString=="string"){const s=n.versionString.split(".")[0];if(parseInt(s,10)>=11)return n.highlight(e,{language:t}).value}return n.highlight(t,e).value};class nd extends Ne{static register(){N.register(Ve,!0),N.register(re,!0),N.register(ni,!0)}constructor(t,e){if(super(t,e),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((s,i)=>{let{key:r}=i;return s[r]=!0,s},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(N.events.SCROLL_BLOT_MOUNT,t=>{if(!(t instanceof ni))return;const e=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(s=>{let{key:i,label:r}=s;const o=e.ownerDocument.createElement("option");o.textContent=r,o.setAttribute("value",i),e.appendChild(o)}),e.addEventListener("change",()=>{t.format(re.blotName,e.value),this.quill.root.focus(),this.highlight(t,!0)}),t.uiNode==null&&(t.attachUI(e),t.children.head&&(e.value=re.formats(t.children.head.domNode)))})}initTimer(){let t=null;this.quill.on(N.events.SCROLL_OPTIMIZE,()=>{t&&clearTimeout(t),t=setTimeout(()=>{this.highlight(),t=null},this.options.interval)})}highlight(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(N.sources.USER);const s=this.quill.getSelection();(t==null?this.quill.scroll.descendants(ni):[t]).forEach(r=>{r.highlight(this.highlightBlot,e)}),this.quill.update(N.sources.SILENT),s!=null&&this.quill.setSelection(s,N.sources.SILENT)}highlightBlot(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(e=this.languages[e]?e:"plain",e==="plain")return Zr(t).split(`
`).reduce((i,r,o)=>(o!==0&&i.insert(`
`,{[Vt.blotName]:e}),i.insert(r)),new U);const s=this.quill.root.ownerDocument.createElement("div");return s.classList.add(Vt.className),s.innerHTML=Ux(this.options.hljs,e,t),Sl(this.quill.scroll,s,[(i,r)=>{const o=Xs.value(i);return o?r.compose(new U().retain(r.length(),{[Ve.blotName]:o})):r}],[(i,r)=>i.data.split(`
`).reduce((o,a,l)=>(l!==0&&o.insert(`
`,{[Vt.blotName]:e}),o.insert(a)),r)],new WeakMap)}}nd.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};class de extends Mt{static blotName="table";static tagName="TD";static create(t){const e=super.create();return t?e.setAttribute("data-row",t):e.setAttribute("data-row",Tl()),e}static formats(t){if(t.hasAttribute("data-row"))return t.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(t,e){t===de.blotName&&e?this.domNode.setAttribute("data-row",e):super.format(t,e)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}}class In extends $n{static blotName="table-row";static tagName="TR";checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const t=this.children.head.formats(),e=this.children.tail.formats(),s=this.next.children.head.formats(),i=this.next.children.tail.formats();return t.table===e.table&&t.table===s.table&&t.table===i.table}return!1}optimize(t){super.optimize(t),this.children.forEach(e=>{if(e.next==null)return;const s=e.formats(),i=e.next.formats();if(s.table!==i.table){const r=this.splitAfter(e);r&&r.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}class on extends $n{static blotName="table-body";static tagName="TBODY"}class Mr extends $n{static blotName="table-container";static tagName="TABLE";balanceCells(){const t=this.descendants(In),e=t.reduce((s,i)=>Math.max(i.children.length,s),0);t.forEach(s=>{new Array(e-s.children.length).fill(0).forEach(()=>{let i;s.children.head!=null&&(i=de.formats(s.children.head.domNode));const r=this.scroll.create(de.blotName,i);s.appendChild(r),r.optimize()})})}cells(t){return this.rows().map(e=>e.children.at(t))}deleteColumn(t){const[e]=this.descendant(on);e==null||e.children.head==null||e.children.forEach(s=>{const i=s.children.at(t);i?.remove()})}insertColumn(t){const[e]=this.descendant(on);e==null||e.children.head==null||e.children.forEach(s=>{const i=s.children.at(t),r=de.formats(s.children.head.domNode),o=this.scroll.create(de.blotName,r);s.insertBefore(o,i)})}insertRow(t){const[e]=this.descendant(on);if(e==null||e.children.head==null)return;const s=Tl(),i=this.scroll.create(In.blotName);e.children.head.children.forEach(()=>{const o=this.scroll.create(de.blotName,s);i.appendChild(o)});const r=e.children.at(t);e.insertBefore(i,r)}rows(){const t=this.children.head;return t==null?[]:t.children.map(e=>e)}}Mr.allowedChildren=[on];on.requiredContainer=Mr;on.allowedChildren=[In];In.requiredContainer=on;In.allowedChildren=[de];de.requiredContainer=In;function Tl(){return`row-${Math.random().toString(36).slice(2,6)}`}class Vx extends Ne{static register(){N.register(de),N.register(In),N.register(on),N.register(Mr)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(Mr).forEach(t=>{t.balanceCells()})}deleteColumn(){const[t,,e]=this.getTable();e!=null&&(t.deleteColumn(e.cellOffset()),this.quill.update(N.sources.USER))}deleteRow(){const[,t]=this.getTable();t!=null&&(t.remove(),this.quill.update(N.sources.USER))}deleteTable(){const[t]=this.getTable();if(t==null)return;const e=t.offset();t.remove(),this.quill.update(N.sources.USER),this.quill.setSelection(e,N.sources.SILENT)}getTable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(t==null)return[null,null,null,-1];const[e,s]=this.quill.getLine(t.index);if(e==null||e.statics.blotName!==de.blotName)return[null,null,null,-1];const i=e.parent;return[i.parent.parent,i,e,s]}insertColumn(t){const e=this.quill.getSelection();if(!e)return;const[s,i,r]=this.getTable(e);if(r==null)return;const o=r.cellOffset();s.insertColumn(o+t),this.quill.update(N.sources.USER);let a=i.rowOffset();t===0&&(a+=1),this.quill.setSelection(e.index+a,e.length,N.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(t){const e=this.quill.getSelection();if(!e)return;const[s,i,r]=this.getTable(e);if(r==null)return;const o=i.rowOffset();s.insertRow(o+t),this.quill.update(N.sources.USER),t>0?this.quill.setSelection(e,N.sources.SILENT):this.quill.setSelection(e.index+i.children.length,e.length,N.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(t,e){const s=this.quill.getSelection();if(s==null)return;const i=new Array(t).fill(0).reduce(r=>{const o=new Array(e).fill(`
`).join("");return r.insert(o,{table:Tl()})},new U().retain(s.index));this.quill.updateContents(i,N.sources.USER),this.quill.setSelection(s.index,N.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(N.events.SCROLL_OPTIMIZE,t=>{t.some(e=>["TD","TR","TBODY","TABLE"].includes(e.target.tagName)?(this.quill.once(N.events.TEXT_CHANGE,(s,i,r)=>{r===N.sources.USER&&this.balanceTables()}),!0):!1)})}}const ah=Ke("quill:toolbar");class Ol extends Ne{constructor(t,e){if(super(t,e),Array.isArray(this.options.container)){const s=document.createElement("div");s.setAttribute("role","toolbar"),Wx(s,this.options.container),t.container?.parentNode?.insertBefore(s,t.container),this.container=s}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){ah.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(s=>{const i=this.options.handlers?.[s];i&&this.addHandler(s,i)}),Array.from(this.container.querySelectorAll("button, select")).forEach(s=>{this.attach(s)}),this.quill.on(N.events.EDITOR_CHANGE,()=>{const[s]=this.quill.selection.getRange();this.update(s)})}addHandler(t,e){this.handlers[t]=e}attach(t){let e=Array.from(t.classList).find(i=>i.indexOf("ql-")===0);if(!e)return;if(e=e.slice(3),t.tagName==="BUTTON"&&t.setAttribute("type","button"),this.handlers[e]==null&&this.quill.scroll.query(e)==null){ah.warn("ignoring attaching to nonexistent format",e,t);return}const s=t.tagName==="SELECT"?"change":"click";t.addEventListener(s,i=>{let r;if(t.tagName==="SELECT"){if(t.selectedIndex<0)return;const a=t.options[t.selectedIndex];a.hasAttribute("selected")?r=!1:r=a.value||!1}else t.classList.contains("ql-active")?r=!1:r=t.value||!t.hasAttribute("value"),i.preventDefault();this.quill.focus();const[o]=this.quill.selection.getRange();if(this.handlers[e]!=null)this.handlers[e].call(this,r);else if(this.quill.scroll.query(e).prototype instanceof ee){if(r=prompt(`Enter ${e}`),!r)return;this.quill.updateContents(new U().retain(o.index).delete(o.length).insert({[e]:r}),N.sources.USER)}else this.quill.format(e,r,N.sources.USER);this.update(o)}),this.controls.push([e,t])}update(t){const e=t==null?{}:this.quill.getFormat(t);this.controls.forEach(s=>{const[i,r]=s;if(r.tagName==="SELECT"){let o=null;if(t==null)o=null;else if(e[i]==null)o=r.querySelector("option[selected]");else if(!Array.isArray(e[i])){let a=e[i];typeof a=="string"&&(a=a.replace(/"/g,'\\"')),o=r.querySelector(`option[value="${a}"]`)}o==null?(r.value="",r.selectedIndex=-1):o.selected=!0}else if(t==null)r.classList.remove("ql-active"),r.setAttribute("aria-pressed","false");else if(r.hasAttribute("value")){const o=e[i],a=o===r.getAttribute("value")||o!=null&&o.toString()===r.getAttribute("value")||o==null&&!r.getAttribute("value");r.classList.toggle("ql-active",a),r.setAttribute("aria-pressed",a.toString())}else{const o=e[i]!=null;r.classList.toggle("ql-active",o),r.setAttribute("aria-pressed",o.toString())}})}}Ol.DEFAULTS={};function lh(n,t,e){const s=document.createElement("button");s.setAttribute("type","button"),s.classList.add(`ql-${t}`),s.setAttribute("aria-pressed","false"),e!=null?(s.value=e,s.setAttribute("aria-label",`${t}: ${e}`)):s.setAttribute("aria-label",t),n.appendChild(s)}function Wx(n,t){Array.isArray(t[0])||(t=[t]),t.forEach(e=>{const s=document.createElement("span");s.classList.add("ql-formats"),e.forEach(i=>{if(typeof i=="string")lh(s,i);else{const r=Object.keys(i)[0],o=i[r];Array.isArray(o)?Kx(s,r,o):lh(s,r,o)}}),n.appendChild(s)})}function Kx(n,t,e){const s=document.createElement("select");s.classList.add(`ql-${t}`),e.forEach(i=>{const r=document.createElement("option");i!==!1?r.setAttribute("value",String(i)):r.setAttribute("selected","selected"),s.appendChild(r)}),n.appendChild(s)}Ol.DEFAULTS={container:null,handlers:{clean(){const n=this.quill.getSelection();if(n!=null)if(n.length===0){const t=this.quill.getFormat();Object.keys(t).forEach(e=>{this.quill.scroll.query(e,V.INLINE)!=null&&this.quill.format(e,!1,N.sources.USER)})}else this.quill.removeFormat(n.index,n.length,N.sources.USER)},direction(n){const{align:t}=this.quill.getFormat();n==="rtl"&&t==null?this.quill.format("align","right",N.sources.USER):!n&&t==="right"&&this.quill.format("align",!1,N.sources.USER),this.quill.format("direction",n,N.sources.USER)},indent(n){const t=this.quill.getSelection(),e=this.quill.getFormat(t),s=parseInt(e.indent||0,10);if(n==="+1"||n==="-1"){let i=n==="+1"?1:-1;e.direction==="rtl"&&(i*=-1),this.quill.format("indent",s+i,N.sources.USER)}},link(n){n===!0&&(n=prompt("Enter link URL:")),this.quill.format("link",n,N.sources.USER)},list(n){const t=this.quill.getSelection(),e=this.quill.getFormat(t);n==="check"?e.list==="checked"||e.list==="unchecked"?this.quill.format("list",!1,N.sources.USER):this.quill.format("list","unchecked",N.sources.USER):this.quill.format("list",n,N.sources.USER)}}};const Gx='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',Yx='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',Xx='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',Zx='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',Jx='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',Qx='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',t_='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',e_='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',ch='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',n_='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',s_='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',i_='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',r_='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',o_='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',a_='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',l_='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',c_='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',h_='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',u_='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',f_='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',d_='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',g_='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',p_='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',m_='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',b_='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',y_='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',x_='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',__='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',v_='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',w_='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',A_='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',S_='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',E_='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',fi={align:{"":Gx,center:Yx,right:Xx,justify:Zx},background:Jx,blockquote:Qx,bold:t_,clean:e_,code:ch,"code-block":ch,color:n_,direction:{"":s_,rtl:i_},formula:r_,header:{1:o_,2:a_,3:l_,4:c_,5:h_,6:u_},italic:f_,image:d_,indent:{"+1":g_,"-1":p_},link:m_,list:{bullet:b_,check:y_,ordered:x_},script:{sub:__,super:v_},strike:w_,table:A_,underline:S_,video:E_},T_='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let hh=0;function uh(n,t){n.setAttribute(t,`${n.getAttribute(t)!=="true"}`)}class Qr{constructor(t){this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",e=>{switch(e.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),e.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),uh(this.label,"aria-expanded"),uh(this.options,"aria-hidden")}buildItem(t){const e=document.createElement("span");e.tabIndex="0",e.setAttribute("role","button"),e.classList.add("ql-picker-item");const s=t.getAttribute("value");return s&&e.setAttribute("data-value",s),t.textContent&&e.setAttribute("data-label",t.textContent),e.addEventListener("click",()=>{this.selectItem(e,!0)}),e.addEventListener("keydown",i=>{switch(i.key){case"Enter":this.selectItem(e,!0),i.preventDefault();break;case"Escape":this.escape(),i.preventDefault();break}}),e}buildLabel(){const t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=T_,t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}buildOptions(){const t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id=`ql-picker-options-${hh}`,hh+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,Array.from(this.select.options).forEach(e=>{const s=this.buildItem(e);t.appendChild(s),e.selected===!0&&this.selectItem(s)}),this.container.appendChild(t)}buildPicker(){Array.from(this.select.attributes).forEach(t=>{this.container.setAttribute(t.name,t.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const s=this.container.querySelector(".ql-selected");t!==s&&(s?.classList.remove("ql-selected"),t!=null&&(t.classList.add("ql-selected"),this.select.selectedIndex=Array.from(t.parentNode.children).indexOf(t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),e&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let t;if(this.select.selectedIndex>-1){const s=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(s)}else this.selectItem(null);const e=t!=null&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",e)}}class sd extends Qr{constructor(t,e){super(t),this.label.innerHTML=e,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(s=>{s.classList.add("ql-primary")})}buildItem(t){const e=super.buildItem(t);return e.style.backgroundColor=t.getAttribute("value")||"",e}selectItem(t,e){super.selectItem(t,e);const s=this.label.querySelector(".ql-color-label"),i=t&&t.getAttribute("data-value")||"";s&&(s.tagName==="line"?s.style.stroke=i:s.style.fill=i)}}class id extends Qr{constructor(t,e){super(t),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(s=>{s.innerHTML=e[s.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(t,e){super.selectItem(t,e);const s=t||this.defaultItem;if(s!=null){if(this.label.innerHTML===s.innerHTML)return;this.label.innerHTML=s.innerHTML}}}const O_=n=>{const{overflowY:t}=getComputedStyle(n,null);return t!=="visible"&&t!=="clip"};let rd=class{constructor(t,e){this.quill=t,this.boundsContainer=e||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,O_(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(t){const e=t.left+t.width/2-this.root.offsetWidth/2,s=t.bottom+this.quill.root.scrollTop;this.root.style.left=`${e}px`,this.root.style.top=`${s}px`,this.root.classList.remove("ql-flip");const i=this.boundsContainer.getBoundingClientRect(),r=this.root.getBoundingClientRect();let o=0;if(r.right>i.right&&(o=i.right-r.right,this.root.style.left=`${e+o}px`),r.left<i.left&&(o=i.left-r.left,this.root.style.left=`${e+o}px`),r.bottom>i.bottom){const a=r.bottom-r.top,l=t.bottom-t.top+a;this.root.style.top=`${s-l}px`,this.root.classList.add("ql-flip")}return o}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}};const k_=[!1,"center","right","justify"],C_=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],L_=[!1,"serif","monospace"],N_=["1","2","3",!1],M_=["small",!1,"large","huge"];class ki extends As{constructor(t,e){super(t,e);const s=i=>{if(!document.body.contains(t.root)){document.body.removeEventListener("click",s);return}this.tooltip!=null&&!this.tooltip.root.contains(i.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(r=>{r.container.contains(i.target)||r.close()})};t.emitter.listenDOM("click",document.body,s)}addModule(t){const e=super.addModule(t);return t==="toolbar"&&this.extendToolbar(e),e}buildButtons(t,e){Array.from(t).forEach(s=>{(s.getAttribute("class")||"").split(/\s+/).forEach(r=>{if(r.startsWith("ql-")&&(r=r.slice(3),e[r]!=null))if(r==="direction")s.innerHTML=e[r][""]+e[r].rtl;else if(typeof e[r]=="string")s.innerHTML=e[r];else{const o=s.value||"";o!=null&&e[r][o]&&(s.innerHTML=e[r][o])}})})}buildPickers(t,e){this.pickers=Array.from(t).map(i=>{if(i.classList.contains("ql-align")&&(i.querySelector("option")==null&&$s(i,k_),typeof e.align=="object"))return new id(i,e.align);if(i.classList.contains("ql-background")||i.classList.contains("ql-color")){const r=i.classList.contains("ql-background")?"background":"color";return i.querySelector("option")==null&&$s(i,C_,r==="background"?"#ffffff":"#000000"),new sd(i,e[r])}return i.querySelector("option")==null&&(i.classList.contains("ql-font")?$s(i,L_):i.classList.contains("ql-header")?$s(i,N_):i.classList.contains("ql-size")&&$s(i,M_)),new Qr(i)});const s=()=>{this.pickers.forEach(i=>{i.update()})};this.quill.on($.events.EDITOR_CHANGE,s)}}ki.DEFAULTS=rn({},As.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let n=this.container.querySelector("input.ql-image[type=file]");n==null&&(n=document.createElement("input"),n.setAttribute("type","file"),n.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),n.classList.add("ql-image"),n.addEventListener("change",()=>{const t=this.quill.getSelection(!0);this.quill.uploader.upload(t,n.files),n.value=""}),this.container.appendChild(n)),n.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class od extends rd{constructor(t,e){super(t,e),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",t=>{t.key==="Enter"?(this.save(),t.preventDefault()):t.key==="Escape"&&(this.cancel(),t.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;e!=null?this.textbox.value=e:t!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const s=this.quill.getBounds(this.quill.selection.savedRange);s!=null&&this.position(s),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${t}`)||""),this.root.setAttribute("data-mode",t)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:t}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:e}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",t,$.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",t,$.sources.USER)),this.quill.root.scrollTop=e;break}case"video":t=R_(t);case"formula":{if(!t)break;const e=this.quill.getSelection(!0);if(e!=null){const s=e.index+e.length;this.quill.insertEmbed(s,this.root.getAttribute("data-mode"),t,$.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(s+1," ",$.sources.USER),this.quill.setSelection(s+2,$.sources.USER)}break}}this.textbox.value="",this.hide()}}function R_(n){let t=n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return t?`${t[1]||"https"}://www.youtube.com/embed/${t[2]}?showinfo=0`:(t=n.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${t[1]||"https"}://player.vimeo.com/video/${t[2]}/`:n}function $s(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;t.forEach(s=>{const i=document.createElement("option");s===e?i.setAttribute("selected","selected"):i.setAttribute("value",String(s)),n.appendChild(i)})}const P_=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class D_ extends od{static TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join("");constructor(t,e){super(t,e),this.quill.on($.events.EDITOR_CHANGE,(s,i,r,o)=>{if(s===$.events.SELECTION_CHANGE)if(i!=null&&i.length>0&&o===$.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const a=this.quill.getLines(i.index,i.length);if(a.length===1){const l=this.quill.getBounds(i);l!=null&&this.position(l)}else{const l=a[a.length-1],c=this.quill.getIndex(l),h=Math.min(l.length()-1,i.index+i.length-c),u=this.quill.getBounds(new Dn(c,h));u!=null&&this.position(u)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on($.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const t=this.quill.getSelection();if(t!=null){const e=this.quill.getBounds(t);e!=null&&this.position(e)}},1)})}cancel(){this.show()}position(t){const e=super.position(t),s=this.root.querySelector(".ql-tooltip-arrow");return s.style.marginLeft="",e!==0&&(s.style.marginLeft=`${-1*e-s.offsetWidth/2}px`),e}}class ad extends ki{constructor(t,e){e.modules.toolbar!=null&&e.modules.toolbar.container==null&&(e.modules.toolbar.container=P_),super(t,e),this.quill.container.classList.add("ql-bubble")}extendToolbar(t){this.tooltip=new D_(this.quill,this.options.bounds),t.container!=null&&(this.tooltip.root.appendChild(t.container),this.buildButtons(t.container.querySelectorAll("button"),fi),this.buildPickers(t.container.querySelectorAll("select"),fi))}}ad.DEFAULTS=rn({},ki.DEFAULTS,{modules:{toolbar:{handlers:{link(n){n?this.quill.theme.tooltip.edit():this.quill.format("link",!1,N.sources.USER)}}}}});const I_=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class B_ extends od{static TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join("");preview=this.root.querySelector("a.ql-preview");listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",t=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),t.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",t=>{if(this.linkRange!=null){const e=this.linkRange;this.restoreFocus(),this.quill.formatText(e,"link",!1,$.sources.USER),delete this.linkRange}t.preventDefault(),this.hide()}),this.quill.on($.events.SELECTION_CHANGE,(t,e,s)=>{if(t!=null){if(t.length===0&&s===$.sources.USER){const[i,r]=this.quill.scroll.descendant(Nr,t.index);if(i!=null){this.linkRange=new Dn(t.index-r,i.length());const o=Nr.formats(i.domNode);this.preview.textContent=o,this.preview.setAttribute("href",o),this.show();const a=this.quill.getBounds(this.linkRange);a!=null&&this.position(a);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}class ld extends ki{constructor(t,e){e.modules.toolbar!=null&&e.modules.toolbar.container==null&&(e.modules.toolbar.container=I_),super(t,e),this.quill.container.classList.add("ql-snow")}extendToolbar(t){t.container!=null&&(t.container.classList.add("ql-snow"),this.buildButtons(t.container.querySelectorAll("button"),fi),this.buildPickers(t.container.querySelectorAll("select"),fi),this.tooltip=new B_(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(e,s)=>{t.handlers.link.call(t,!s.format.link)}))}}ld.DEFAULTS=rn({},ki.DEFAULTS,{modules:{toolbar:{handlers:{link(n){if(n){const t=this.quill.getSelection();if(t==null||t.length===0)return;let e=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(e)&&e.indexOf("mailto:")!==0&&(e=`mailto:${e}`);const{tooltip:s}=this.quill.theme;s.edit("link",e)}else this.quill.format("link",!1,N.sources.USER)}}}}});N.register({"attributors/attribute/direction":Vf,"attributors/class/align":$f,"attributors/class/background":$y,"attributors/class/color":zy,"attributors/class/direction":Wf,"attributors/class/font":Yf,"attributors/class/size":Zf,"attributors/style/align":Hf,"attributors/style/background":_l,"attributors/style/color":xl,"attributors/style/direction":Kf,"attributors/style/font":Xf,"attributors/style/size":Jf},!0);N.register({"formats/align":$f,"formats/direction":Wf,"formats/indent":Px,"formats/background":_l,"formats/color":xl,"formats/font":Yf,"formats/size":Zf,"formats/blockquote":Dx,"formats/code-block":Vt,"formats/header":Ix,"formats/list":Oi,"formats/bold":El,"formats/code":vl,"formats/italic":Bx,"formats/link":Nr,"formats/script":qx,"formats/strike":Fx,"formats/underline":jx,"formats/formula":zx,"formats/image":$x,"formats/video":Hx,"modules/syntax":nd,"modules/table":Vx,"modules/toolbar":Ol,"themes/bubble":ad,"themes/snow":ld,"ui/icons":fi,"ui/picker":Qr,"ui/icon-picker":id,"ui/color-picker":sd,"ui/tooltip":rd},!0);function Ci(n){return n+.5|0}const tn=(n,t,e)=>Math.max(Math.min(n,e),t);function Zs(n){return tn(Ci(n*2.55),0,255)}function an(n){return tn(Ci(n*255),0,255)}function je(n){return tn(Ci(n/2.55)/100,0,1)}function fh(n){return tn(Ci(n*100),0,100)}const se={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ga=[..."0123456789ABCDEF"],q_=n=>Ga[n&15],F_=n=>Ga[(n&240)>>4]+Ga[n&15],ar=n=>(n&240)>>4===(n&15),j_=n=>ar(n.r)&&ar(n.g)&&ar(n.b)&&ar(n.a);function z_(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&se[n[1]]*17,g:255&se[n[2]]*17,b:255&se[n[3]]*17,a:t===5?se[n[4]]*17:255}:(t===7||t===9)&&(e={r:se[n[1]]<<4|se[n[2]],g:se[n[3]]<<4|se[n[4]],b:se[n[5]]<<4|se[n[6]],a:t===9?se[n[7]]<<4|se[n[8]]:255})),e}const $_=(n,t)=>n<255?t(n):"";function H_(n){var t=j_(n)?q_:F_;return n?"#"+t(n.r)+t(n.g)+t(n.b)+$_(n.a,t):void 0}const U_=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function cd(n,t,e){const s=t*Math.min(e,1-e),i=(r,o=(r+n/30)%12)=>e-s*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function V_(n,t,e){const s=(i,r=(i+n/60)%6)=>e-e*t*Math.max(Math.min(r,4-r,1),0);return[s(5),s(3),s(1)]}function W_(n,t,e){const s=cd(n,1,.5);let i;for(t+e>1&&(i=1/(t+e),t*=i,e*=i),i=0;i<3;i++)s[i]*=1-t-e,s[i]+=t;return s}function K_(n,t,e,s,i){return n===i?(t-e)/s+(t<e?6:0):t===i?(e-n)/s+2:(n-t)/s+4}function kl(n){const e=n.r/255,s=n.g/255,i=n.b/255,r=Math.max(e,s,i),o=Math.min(e,s,i),a=(r+o)/2;let l,c,h;return r!==o&&(h=r-o,c=a>.5?h/(2-r-o):h/(r+o),l=K_(e,s,i,h,r),l=l*60+.5),[l|0,c||0,a]}function Cl(n,t,e,s){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,s)).map(an)}function Ll(n,t,e){return Cl(cd,n,t,e)}function G_(n,t,e){return Cl(W_,n,t,e)}function Y_(n,t,e){return Cl(V_,n,t,e)}function hd(n){return(n%360+360)%360}function X_(n){const t=U_.exec(n);let e=255,s;if(!t)return;t[5]!==s&&(e=t[6]?Zs(+t[5]):an(+t[5]));const i=hd(+t[2]),r=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?s=G_(i,r,o):t[1]==="hsv"?s=Y_(i,r,o):s=Ll(i,r,o),{r:s[0],g:s[1],b:s[2],a:e}}function Z_(n,t){var e=kl(n);e[0]=hd(e[0]+t),e=Ll(e),n.r=e[0],n.g=e[1],n.b=e[2]}function J_(n){if(!n)return;const t=kl(n),e=t[0],s=fh(t[1]),i=fh(t[2]);return n.a<255?`hsla(${e}, ${s}%, ${i}%, ${je(n.a)})`:`hsl(${e}, ${s}%, ${i}%)`}const dh={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},gh={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Q_(){const n={},t=Object.keys(gh),e=Object.keys(dh);let s,i,r,o,a;for(s=0;s<t.length;s++){for(o=a=t[s],i=0;i<e.length;i++)r=e[i],a=a.replace(r,dh[r]);r=parseInt(gh[o],16),n[a]=[r>>16&255,r>>8&255,r&255]}return n}let lr;function tv(n){lr||(lr=Q_(),lr.transparent=[0,0,0,0]);const t=lr[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const ev=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function nv(n){const t=ev.exec(n);let e=255,s,i,r;if(t){if(t[7]!==s){const o=+t[7];e=t[8]?Zs(o):tn(o*255,0,255)}return s=+t[1],i=+t[3],r=+t[5],s=255&(t[2]?Zs(s):tn(s,0,255)),i=255&(t[4]?Zs(i):tn(i,0,255)),r=255&(t[6]?Zs(r):tn(r,0,255)),{r:s,g:i,b:r,a:e}}}function sv(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${je(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const da=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,ss=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function iv(n,t,e){const s=ss(je(n.r)),i=ss(je(n.g)),r=ss(je(n.b));return{r:an(da(s+e*(ss(je(t.r))-s))),g:an(da(i+e*(ss(je(t.g))-i))),b:an(da(r+e*(ss(je(t.b))-r))),a:n.a+e*(t.a-n.a)}}function cr(n,t,e){if(n){let s=kl(n);s[t]=Math.max(0,Math.min(s[t]+s[t]*e,t===0?360:1)),s=Ll(s),n.r=s[0],n.g=s[1],n.b=s[2]}}function ud(n,t){return n&&Object.assign(t||{},n)}function ph(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=an(n[3]))):(t=ud(n,{r:0,g:0,b:0,a:1}),t.a=an(t.a)),t}function rv(n){return n.charAt(0)==="r"?nv(n):X_(n)}class di{constructor(t){if(t instanceof di)return t;const e=typeof t;let s;e==="object"?s=ph(t):e==="string"&&(s=z_(t)||tv(t)||rv(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=ud(this._rgb);return t&&(t.a=je(t.a)),t}set rgb(t){this._rgb=ph(t)}rgbString(){return this._valid?sv(this._rgb):void 0}hexString(){return this._valid?H_(this._rgb):void 0}hslString(){return this._valid?J_(this._rgb):void 0}mix(t,e){if(t){const s=this.rgb,i=t.rgb;let r;const o=e===r?.5:e,a=2*o-1,l=s.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,s.r=255&c*s.r+r*i.r+.5,s.g=255&c*s.g+r*i.g+.5,s.b=255&c*s.b+r*i.b+.5,s.a=o*s.a+(1-o)*i.a,this.rgb=s}return this}interpolate(t,e){return t&&(this._rgb=iv(this._rgb,t._rgb,e)),this}clone(){return new di(this.rgb)}alpha(t){return this._rgb.a=an(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Ci(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return cr(this._rgb,2,t),this}darken(t){return cr(this._rgb,2,-t),this}saturate(t){return cr(this._rgb,1,t),this}desaturate(t){return cr(this._rgb,1,-t),this}rotate(t){return Z_(this._rgb,t),this}}function Be(){}const ov=(()=>{let n=0;return()=>n++})();function nt(n){return n==null}function _t(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function st(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function wt(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Jt(n,t){return wt(n)?n:t}function J(n,t){return typeof n>"u"?t:n}const av=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,fd=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function mt(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function dt(n,t,e,s){let i,r,o;if(_t(n))for(r=n.length,i=0;i<r;i++)t.call(e,n[i],i);else if(st(n))for(o=Object.keys(n),r=o.length,i=0;i<r;i++)t.call(e,n[o[i]],o[i])}function Rr(n,t){let e,s,i,r;if(!n||!t||n.length!==t.length)return!1;for(e=0,s=n.length;e<s;++e)if(i=n[e],r=t[e],i.datasetIndex!==r.datasetIndex||i.index!==r.index)return!1;return!0}function Pr(n){if(_t(n))return n.map(Pr);if(st(n)){const t=Object.create(null),e=Object.keys(n),s=e.length;let i=0;for(;i<s;++i)t[e[i]]=Pr(n[e[i]]);return t}return n}function dd(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function lv(n,t,e,s){if(!dd(n))return;const i=t[n],r=e[n];st(i)&&st(r)?gi(i,r,s):t[n]=Pr(r)}function gi(n,t,e){const s=_t(t)?t:[t],i=s.length;if(!st(n))return n;e=e||{};const r=e.merger||lv;let o;for(let a=0;a<i;++a){if(o=s[a],!st(o))continue;const l=Object.keys(o);for(let c=0,h=l.length;c<h;++c)r(l[c],n,o,e)}return n}function si(n,t){return gi(n,t,{merger:cv})}function cv(n,t,e){if(!dd(n))return;const s=t[n],i=e[n];st(s)&&st(i)?si(s,i):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Pr(i))}const mh={"":n=>n,x:n=>n.x,y:n=>n.y};function hv(n){const t=n.split("."),e=[];let s="";for(const i of t)s+=i,s.endsWith("\\")?s=s.slice(0,-1)+".":(e.push(s),s="");return e}function uv(n){const t=hv(n);return e=>{for(const s of t){if(s==="")break;e=e&&e[s]}return e}}function cn(n,t){return(mh[t]||(mh[t]=uv(t)))(n)}function Nl(n){return n.charAt(0).toUpperCase()+n.slice(1)}const pi=n=>typeof n<"u",hn=n=>typeof n=="function",bh=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function fv(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const at=Math.PI,yt=2*at,dv=yt+at,Dr=Number.POSITIVE_INFINITY,gv=at/180,At=at/2,wn=at/4,yh=at*2/3,en=Math.log10,ke=Math.sign;function ii(n,t,e){return Math.abs(n-t)<e}function xh(n){const t=Math.round(n);n=ii(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(en(n))),s=n/e;return(s<=1?1:s<=2?2:s<=5?5:10)*e}function pv(n){const t=[],e=Math.sqrt(n);let s;for(s=1;s<e;s++)n%s===0&&(t.push(s),t.push(n/s));return e===(e|0)&&t.push(e),t.sort((i,r)=>i-r).pop(),t}function mv(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function bs(n){return!mv(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function bv(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function gd(n,t,e){let s,i,r;for(s=0,i=n.length;s<i;s++)r=n[s][e],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function ge(n){return n*(at/180)}function Ml(n){return n*(180/at)}function _h(n){if(!wt(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function pd(n,t){const e=t.x-n.x,s=t.y-n.y,i=Math.sqrt(e*e+s*s);let r=Math.atan2(s,e);return r<-.5*at&&(r+=yt),{angle:r,distance:i}}function Ya(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function yv(n,t){return(n-t+dv)%yt-at}function qt(n){return(n%yt+yt)%yt}function mi(n,t,e,s){const i=qt(n),r=qt(t),o=qt(e),a=qt(r-i),l=qt(o-i),c=qt(i-r),h=qt(i-o);return i===r||i===o||s&&r===o||a>l&&c<h}function Ct(n,t,e){return Math.max(t,Math.min(e,n))}function xv(n){return Ct(n,-32768,32767)}function ze(n,t,e,s=1e-6){return n>=Math.min(t,e)-s&&n<=Math.max(t,e)+s}function Rl(n,t,e){e=e||(o=>n[o]<t);let s=n.length-1,i=0,r;for(;s-i>1;)r=i+s>>1,e(r)?i=r:s=r;return{lo:i,hi:s}}const $e=(n,t,e,s)=>Rl(n,e,s?i=>{const r=n[i][t];return r<e||r===e&&n[i+1][t]===e}:i=>n[i][t]<e),_v=(n,t,e)=>Rl(n,e,s=>n[s][t]>=e);function vv(n,t,e){let s=0,i=n.length;for(;s<i&&n[s]<t;)s++;for(;i>s&&n[i-1]>e;)i--;return s>0||i<n.length?n.slice(s,i):n}const md=["push","pop","shift","splice","unshift"];function wv(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),md.forEach(e=>{const s="_onData"+Nl(e),i=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...r){const o=i.apply(this,r);return n._chartjs.listeners.forEach(a=>{typeof a[s]=="function"&&a[s](...r)}),o}})})}function vh(n,t){const e=n._chartjs;if(!e)return;const s=e.listeners,i=s.indexOf(t);i!==-1&&s.splice(i,1),!(s.length>0)&&(md.forEach(r=>{delete n[r]}),delete n._chartjs)}function bd(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const yd=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function xd(n,t){let e=[],s=!1;return function(...i){e=i,s||(s=!0,yd.call(window,()=>{s=!1,n.apply(t,e)}))}}function Av(n,t){let e;return function(...s){return t?(clearTimeout(e),e=setTimeout(n,t,s)):n.apply(this,s),t}}const Pl=n=>n==="start"?"left":n==="end"?"right":"center",Bt=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,Sv=(n,t,e,s)=>n===(s?"left":"right")?e:n==="center"?(t+e)/2:t;function _d(n,t,e){const s=t.length;let i=0,r=s;if(n._sorted){const{iScale:o,vScale:a,_parsed:l}=n,c=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,h=o.axis,{min:u,max:f,minDefined:g,maxDefined:p}=o.getUserBounds();if(g){if(i=Math.min($e(l,h,u).lo,e?s:$e(t,h,o.getPixelForValue(u)).lo),c){const m=l.slice(0,i+1).reverse().findIndex(b=>!nt(b[a.axis]));i-=Math.max(0,m)}i=Ct(i,0,s-1)}if(p){let m=Math.max($e(l,o.axis,f,!0).hi+1,e?0:$e(t,h,o.getPixelForValue(f),!0).hi+1);if(c){const b=l.slice(m-1).findIndex(x=>!nt(x[a.axis]));m+=Math.max(0,b)}r=Ct(m,i,s)-i}else r=s-i}return{start:i,count:r}}function vd(n){const{xScale:t,yScale:e,_scaleRanges:s}=n,i={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!s)return n._scaleRanges=i,!0;const r=s.xmin!==t.min||s.xmax!==t.max||s.ymin!==e.min||s.ymax!==e.max;return Object.assign(s,i),r}const hr=n=>n===0||n===1,wh=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*yt/e)),Ah=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*yt/e)+1,ri={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*At)+1,easeOutSine:n=>Math.sin(n*At),easeInOutSine:n=>-.5*(Math.cos(at*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>hr(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>hr(n)?n:wh(n,.075,.3),easeOutElastic:n=>hr(n)?n:Ah(n,.075,.3),easeInOutElastic(n){return hr(n)?n:n<.5?.5*wh(n*2,.1125,.45):.5+.5*Ah(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-ri.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?ri.easeInBounce(n*2)*.5:ri.easeOutBounce(n*2-1)*.5+.5};function Dl(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Sh(n){return Dl(n)?n:new di(n)}function ga(n){return Dl(n)?n:new di(n).saturate(.5).darken(.1).hexString()}const Ev=["x","y","borderWidth","radius","tension"],Tv=["color","borderColor","backgroundColor"];function Ov(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:Tv},numbers:{type:"number",properties:Ev}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function kv(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Eh=new Map;function Cv(n,t){t=t||{};const e=n+JSON.stringify(t);let s=Eh.get(e);return s||(s=new Intl.NumberFormat(n,t),Eh.set(e,s)),s}function Li(n,t,e){return Cv(t,e).format(n)}const wd={values(n){return _t(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const s=this.chart.options.locale;let i,r=n;if(e.length>1){const c=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),r=Lv(n,e)}const o=en(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Li(n,s,l)},logarithmic(n,t,e){if(n===0)return"0";const s=e[t].significand||n/Math.pow(10,Math.floor(en(n)));return[1,2,3,5,10,15].includes(s)||t>.8*e.length?wd.numeric.call(this,n,t,e):""}};function Lv(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var to={formatters:wd};function Nv(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:to.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Bn=Object.create(null),Xa=Object.create(null);function oi(n,t){if(!t)return n;const e=t.split(".");for(let s=0,i=e.length;s<i;++s){const r=e[s];n=n[r]||(n[r]=Object.create(null))}return n}function pa(n,t,e){return typeof t=="string"?gi(oi(n,t),e):gi(oi(n,""),t)}class Mv{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,i)=>ga(i.backgroundColor),this.hoverBorderColor=(s,i)=>ga(i.borderColor),this.hoverColor=(s,i)=>ga(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return pa(this,t,e)}get(t){return oi(this,t)}describe(t,e){return pa(Xa,t,e)}override(t,e){return pa(Bn,t,e)}route(t,e,s,i){const r=oi(this,t),o=oi(this,s),a="_"+e;Object.defineProperties(r,{[a]:{value:r[e],writable:!0},[e]:{enumerable:!0,get(){const l=this[a],c=o[i];return st(l)?Object.assign({},c,l):J(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(e=>e(this))}}var vt=new Mv({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Ov,kv,Nv]);function Rv(n){return!n||nt(n.size)||nt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Ir(n,t,e,s,i){let r=t[i];return r||(r=t[i]=n.measureText(i).width,e.push(i)),r>s&&(s=r),s}function Pv(n,t,e,s){s=s||{};let i=s.data=s.data||{},r=s.garbageCollect=s.garbageCollect||[];s.font!==t&&(i=s.data={},r=s.garbageCollect=[],s.font=t),n.save(),n.font=t;let o=0;const a=e.length;let l,c,h,u,f;for(l=0;l<a;l++)if(u=e[l],u!=null&&!_t(u))o=Ir(n,i,r,o,u);else if(_t(u))for(c=0,h=u.length;c<h;c++)f=u[c],f!=null&&!_t(f)&&(o=Ir(n,i,r,o,f));n.restore();const g=r.length/2;if(g>e.length){for(l=0;l<g;l++)delete i[r[l]];r.splice(0,g)}return o}function An(n,t,e){const s=n.currentDevicePixelRatio,i=e!==0?Math.max(e/2,.5):0;return Math.round((t-i)*s)/s+i}function Th(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function Za(n,t,e,s){Ad(n,t,e,s,null)}function Ad(n,t,e,s,i){let r,o,a,l,c,h,u,f;const g=t.pointStyle,p=t.rotation,m=t.radius;let b=(p||0)*gv;if(g&&typeof g=="object"&&(r=g.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){n.save(),n.translate(e,s),n.rotate(b),n.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),n.restore();return}if(!(isNaN(m)||m<=0)){switch(n.beginPath(),g){default:i?n.ellipse(e,s,i/2,m,0,0,yt):n.arc(e,s,m,0,yt),n.closePath();break;case"triangle":h=i?i/2:m,n.moveTo(e+Math.sin(b)*h,s-Math.cos(b)*m),b+=yh,n.lineTo(e+Math.sin(b)*h,s-Math.cos(b)*m),b+=yh,n.lineTo(e+Math.sin(b)*h,s-Math.cos(b)*m),n.closePath();break;case"rectRounded":c=m*.516,l=m-c,o=Math.cos(b+wn)*l,u=Math.cos(b+wn)*(i?i/2-c:l),a=Math.sin(b+wn)*l,f=Math.sin(b+wn)*(i?i/2-c:l),n.arc(e-u,s-a,c,b-at,b-At),n.arc(e+f,s-o,c,b-At,b),n.arc(e+u,s+a,c,b,b+At),n.arc(e-f,s+o,c,b+At,b+at),n.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*m,h=i?i/2:l,n.rect(e-h,s-l,2*h,2*l);break}b+=wn;case"rectRot":u=Math.cos(b)*(i?i/2:m),o=Math.cos(b)*m,a=Math.sin(b)*m,f=Math.sin(b)*(i?i/2:m),n.moveTo(e-u,s-a),n.lineTo(e+f,s-o),n.lineTo(e+u,s+a),n.lineTo(e-f,s+o),n.closePath();break;case"crossRot":b+=wn;case"cross":u=Math.cos(b)*(i?i/2:m),o=Math.cos(b)*m,a=Math.sin(b)*m,f=Math.sin(b)*(i?i/2:m),n.moveTo(e-u,s-a),n.lineTo(e+u,s+a),n.moveTo(e+f,s-o),n.lineTo(e-f,s+o);break;case"star":u=Math.cos(b)*(i?i/2:m),o=Math.cos(b)*m,a=Math.sin(b)*m,f=Math.sin(b)*(i?i/2:m),n.moveTo(e-u,s-a),n.lineTo(e+u,s+a),n.moveTo(e+f,s-o),n.lineTo(e-f,s+o),b+=wn,u=Math.cos(b)*(i?i/2:m),o=Math.cos(b)*m,a=Math.sin(b)*m,f=Math.sin(b)*(i?i/2:m),n.moveTo(e-u,s-a),n.lineTo(e+u,s+a),n.moveTo(e+f,s-o),n.lineTo(e-f,s+o);break;case"line":o=i?i/2:Math.cos(b)*m,a=Math.sin(b)*m,n.moveTo(e-o,s-a),n.lineTo(e+o,s+a);break;case"dash":n.moveTo(e,s),n.lineTo(e+Math.cos(b)*(i?i/2:m),s+Math.sin(b)*m);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function He(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function eo(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function no(n){n.restore()}function Dv(n,t,e,s,i){if(!t)return n.lineTo(e.x,e.y);if(i==="middle"){const r=(t.x+e.x)/2;n.lineTo(r,t.y),n.lineTo(r,e.y)}else i==="after"!=!!s?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function Iv(n,t,e,s){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(s?t.cp1x:t.cp2x,s?t.cp1y:t.cp2y,s?e.cp2x:e.cp1x,s?e.cp2y:e.cp1y,e.x,e.y)}function Bv(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),nt(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function qv(n,t,e,s,i){if(i.strikethrough||i.underline){const r=n.measureText(s),o=t-r.actualBoundingBoxLeft,a=t+r.actualBoundingBoxRight,l=e-r.actualBoundingBoxAscent,c=e+r.actualBoundingBoxDescent,h=i.strikethrough?(l+c)/2:c;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(o,h),n.lineTo(a,h),n.stroke()}}function Fv(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function qn(n,t,e,s,i,r={}){const o=_t(t)?t:[t],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(n.save(),n.font=i.string,Bv(n,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&Fv(n,r.backdrop),a&&(r.strokeColor&&(n.strokeStyle=r.strokeColor),nt(r.strokeWidth)||(n.lineWidth=r.strokeWidth),n.strokeText(c,e,s,r.maxWidth)),n.fillText(c,e,s,r.maxWidth),qv(n,e,s,c,r),s+=Number(i.lineHeight);n.restore()}function bi(n,t){const{x:e,y:s,w:i,h:r,radius:o}=t;n.arc(e+o.topLeft,s+o.topLeft,o.topLeft,1.5*at,at,!0),n.lineTo(e,s+r-o.bottomLeft),n.arc(e+o.bottomLeft,s+r-o.bottomLeft,o.bottomLeft,at,At,!0),n.lineTo(e+i-o.bottomRight,s+r),n.arc(e+i-o.bottomRight,s+r-o.bottomRight,o.bottomRight,At,0,!0),n.lineTo(e+i,s+o.topRight),n.arc(e+i-o.topRight,s+o.topRight,o.topRight,0,-At,!0),n.lineTo(e+o.topLeft,s)}const jv=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,zv=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function $v(n,t){const e=(""+n).match(jv);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const Hv=n=>+n||0;function Il(n,t){const e={},s=st(t),i=s?Object.keys(t):t,r=st(n)?s?o=>J(n[o],n[t[o]]):o=>n[o]:()=>n;for(const o of i)e[o]=Hv(r(o));return e}function Sd(n){return Il(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Ln(n){return Il(n,["topLeft","topRight","bottomLeft","bottomRight"])}function $t(n){const t=Sd(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function kt(n,t){n=n||{},t=t||vt.font;let e=J(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let s=J(n.style,t.style);s&&!(""+s).match(zv)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const i={family:J(n.family,t.family),lineHeight:$v(J(n.lineHeight,t.lineHeight),e),size:e,style:s,weight:J(n.weight,t.weight),string:""};return i.string=Rv(i),i}function Js(n,t,e,s){let i,r,o;for(i=0,r=n.length;i<r;++i)if(o=n[i],o!==void 0&&o!==void 0)return o}function Uv(n,t,e){const{min:s,max:i}=n,r=fd(t,(i-s)/2),o=(a,l)=>e&&a===0?0:a+l;return{min:o(s,-Math.abs(r)),max:o(i,r)}}function dn(n,t){return Object.assign(Object.create(n),t)}function Bl(n,t=[""],e,s,i=()=>n[0]){const r=e||n;typeof s>"u"&&(s=kd("_fallback",n));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:r,_fallback:s,_getTarget:i,override:a=>Bl([a,...n],t,r,s)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete n[0][l],!0},get(a,l){return Td(a,l,()=>Jv(l,t,n,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(a,l){return kh(a).includes(l)},ownKeys(a){return kh(a)},set(a,l,c){const h=a._storage||(a._storage=i());return a[l]=h[l]=c,delete a._keys,!0}})}function ys(n,t,e,s){const i={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:Ed(n,s),setContext:r=>ys(n,r,e,s),override:r=>ys(n.override(r),t,e,s)};return new Proxy(i,{deleteProperty(r,o){return delete r[o],delete n[o],!0},get(r,o,a){return Td(r,o,()=>Wv(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(r,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(r,o,a){return n[o]=a,delete r[o],!0}})}function Ed(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:s=t.indexable,_allKeys:i=t.allKeys}=n;return{allKeys:i,scriptable:e,indexable:s,isScriptable:hn(e)?e:()=>e,isIndexable:hn(s)?s:()=>s}}const Vv=(n,t)=>n?n+Nl(t):t,ql=(n,t)=>st(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Td(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const s=e();return n[t]=s,s}function Wv(n,t,e){const{_proxy:s,_context:i,_subProxy:r,_descriptors:o}=n;let a=s[t];return hn(a)&&o.isScriptable(t)&&(a=Kv(t,a,n,e)),_t(a)&&a.length&&(a=Gv(t,a,n,o.isIndexable)),ql(t,a)&&(a=ys(a,i,r&&r[t],o)),a}function Kv(n,t,e,s){const{_proxy:i,_context:r,_subProxy:o,_stack:a}=e;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);a.add(n);let l=t(r,o||s);return a.delete(n),ql(n,l)&&(l=Fl(i._scopes,i,n,l)),l}function Gv(n,t,e,s){const{_proxy:i,_context:r,_subProxy:o,_descriptors:a}=e;if(typeof r.index<"u"&&s(n))return t[r.index%t.length];if(st(t[0])){const l=t,c=i._scopes.filter(h=>h!==l);t=[];for(const h of l){const u=Fl(c,i,n,h);t.push(ys(u,r,o&&o[n],a))}}return t}function Od(n,t,e){return hn(n)?n(t,e):n}const Yv=(n,t)=>n===!0?t:typeof n=="string"?cn(t,n):void 0;function Xv(n,t,e,s,i){for(const r of t){const o=Yv(e,r);if(o){n.add(o);const a=Od(o._fallback,e,i);if(typeof a<"u"&&a!==e&&a!==s)return a}else if(o===!1&&typeof s<"u"&&e!==s)return null}return!1}function Fl(n,t,e,s){const i=t._rootScopes,r=Od(t._fallback,e,s),o=[...n,...i],a=new Set;a.add(s);let l=Oh(a,o,e,r||e,s);return l===null||typeof r<"u"&&r!==e&&(l=Oh(a,o,r,l,s),l===null)?!1:Bl(Array.from(a),[""],i,r,()=>Zv(t,e,s))}function Oh(n,t,e,s,i){for(;e;)e=Xv(n,t,e,s,i);return e}function Zv(n,t,e){const s=n._getTarget();t in s||(s[t]={});const i=s[t];return _t(i)&&st(e)?e:i||{}}function Jv(n,t,e,s){let i;for(const r of t)if(i=kd(Vv(r,n),e),typeof i<"u")return ql(n,i)?Fl(e,s,n,i):i}function kd(n,t){for(const e of t){if(!e)continue;const s=e[n];if(typeof s<"u")return s}}function kh(n){let t=n._keys;return t||(t=n._keys=Qv(n._scopes)),t}function Qv(n){const t=new Set;for(const e of n)for(const s of Object.keys(e).filter(i=>!i.startsWith("_")))t.add(s);return Array.from(t)}function Cd(n,t,e,s){const{iScale:i}=n,{key:r="r"}=this._parsing,o=new Array(s);let a,l,c,h;for(a=0,l=s;a<l;++a)c=a+e,h=t[c],o[a]={r:i.parse(cn(h,r),c)};return o}const tw=Number.EPSILON||1e-14,xs=(n,t)=>t<n.length&&!n[t].skip&&n[t],Ld=n=>n==="x"?"y":"x";function ew(n,t,e,s){const i=n.skip?t:n,r=t,o=e.skip?t:e,a=Ya(r,i),l=Ya(o,r);let c=a/(a+l),h=l/(a+l);c=isNaN(c)?0:c,h=isNaN(h)?0:h;const u=s*c,f=s*h;return{previous:{x:r.x-u*(o.x-i.x),y:r.y-u*(o.y-i.y)},next:{x:r.x+f*(o.x-i.x),y:r.y+f*(o.y-i.y)}}}function nw(n,t,e){const s=n.length;let i,r,o,a,l,c=xs(n,0);for(let h=0;h<s-1;++h)if(l=c,c=xs(n,h+1),!(!l||!c)){if(ii(t[h],0,tw)){e[h]=e[h+1]=0;continue}i=e[h]/t[h],r=e[h+1]/t[h],a=Math.pow(i,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),e[h]=i*o*t[h],e[h+1]=r*o*t[h])}}function sw(n,t,e="x"){const s=Ld(e),i=n.length;let r,o,a,l=xs(n,0);for(let c=0;c<i;++c){if(o=a,a=l,l=xs(n,c+1),!a)continue;const h=a[e],u=a[s];o&&(r=(h-o[e])/3,a[`cp1${e}`]=h-r,a[`cp1${s}`]=u-r*t[c]),l&&(r=(l[e]-h)/3,a[`cp2${e}`]=h+r,a[`cp2${s}`]=u+r*t[c])}}function iw(n,t="x"){const e=Ld(t),s=n.length,i=Array(s).fill(0),r=Array(s);let o,a,l,c=xs(n,0);for(o=0;o<s;++o)if(a=l,l=c,c=xs(n,o+1),!!l){if(c){const h=c[t]-l[t];i[o]=h!==0?(c[e]-l[e])/h:0}r[o]=a?c?ke(i[o-1])!==ke(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}nw(n,i,r),sw(n,r,t)}function ur(n,t,e){return Math.max(Math.min(n,e),t)}function rw(n,t){let e,s,i,r,o,a=He(n[0],t);for(e=0,s=n.length;e<s;++e)o=r,r=a,a=e<s-1&&He(n[e+1],t),r&&(i=n[e],o&&(i.cp1x=ur(i.cp1x,t.left,t.right),i.cp1y=ur(i.cp1y,t.top,t.bottom)),a&&(i.cp2x=ur(i.cp2x,t.left,t.right),i.cp2y=ur(i.cp2y,t.top,t.bottom)))}function ow(n,t,e,s,i){let r,o,a,l;if(t.spanGaps&&(n=n.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")iw(n,i);else{let c=s?n[n.length-1]:n[0];for(r=0,o=n.length;r<o;++r)a=n[r],l=ew(c,a,n[Math.min(r+1,o-(s?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&rw(n,e)}function jl(){return typeof window<"u"&&typeof document<"u"}function zl(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Br(n,t,e){let s;return typeof n=="string"?(s=parseInt(n,10),n.indexOf("%")!==-1&&(s=s/100*t.parentNode[e])):s=n,s}const so=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function aw(n,t){return so(n).getPropertyValue(t)}const lw=["top","right","bottom","left"];function Nn(n,t,e){const s={};e=e?"-"+e:"";for(let i=0;i<4;i++){const r=lw[i];s[r]=parseFloat(n[t+"-"+r+e])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const cw=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function hw(n,t){const e=n.touches,s=e&&e.length?e[0]:n,{offsetX:i,offsetY:r}=s;let o=!1,a,l;if(cw(i,r,n.target))a=i,l=r;else{const c=t.getBoundingClientRect();a=s.clientX-c.left,l=s.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Tn(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:s}=t,i=so(e),r=i.boxSizing==="border-box",o=Nn(i,"padding"),a=Nn(i,"border","width"),{x:l,y:c,box:h}=hw(n,e),u=o.left+(h&&a.left),f=o.top+(h&&a.top);let{width:g,height:p}=t;return r&&(g-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-u)/g*e.width/s),y:Math.round((c-f)/p*e.height/s)}}function uw(n,t,e){let s,i;if(t===void 0||e===void 0){const r=n&&zl(n);if(!r)t=n.clientWidth,e=n.clientHeight;else{const o=r.getBoundingClientRect(),a=so(r),l=Nn(a,"border","width"),c=Nn(a,"padding");t=o.width-c.width-l.width,e=o.height-c.height-l.height,s=Br(a.maxWidth,r,"clientWidth"),i=Br(a.maxHeight,r,"clientHeight")}}return{width:t,height:e,maxWidth:s||Dr,maxHeight:i||Dr}}const nn=n=>Math.round(n*10)/10;function fw(n,t,e,s){const i=so(n),r=Nn(i,"margin"),o=Br(i.maxWidth,n,"clientWidth")||Dr,a=Br(i.maxHeight,n,"clientHeight")||Dr,l=uw(n,t,e);let{width:c,height:h}=l;if(i.boxSizing==="content-box"){const f=Nn(i,"border","width"),g=Nn(i,"padding");c-=g.width+f.width,h-=g.height+f.height}return c=Math.max(0,c-r.width),h=Math.max(0,s?c/s:h-r.height),c=nn(Math.min(c,o,l.maxWidth)),h=nn(Math.min(h,a,l.maxHeight)),c&&!h&&(h=nn(c/2)),(t!==void 0||e!==void 0)&&s&&l.height&&h>l.height&&(h=l.height,c=nn(Math.floor(h*s))),{width:c,height:h}}function Ch(n,t,e){const s=t||1,i=nn(n.height*s),r=nn(n.width*s);n.height=nn(n.height),n.width=nn(n.width);const o=n.canvas;return o.style&&(e||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==s||o.height!==i||o.width!==r?(n.currentDevicePixelRatio=s,o.height=i,o.width=r,n.ctx.setTransform(s,0,0,s,0,0),!0):!1}const dw=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};jl()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function Lh(n,t){const e=aw(n,t),s=e&&e.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function On(n,t,e,s){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function gw(n,t,e,s){return{x:n.x+e*(t.x-n.x),y:s==="middle"?e<.5?n.y:t.y:s==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function pw(n,t,e,s){const i={x:n.cp2x,y:n.cp2y},r={x:t.cp1x,y:t.cp1y},o=On(n,i,e),a=On(i,r,e),l=On(r,t,e),c=On(o,a,e),h=On(a,l,e);return On(c,h,e)}const mw=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,s){return e-s},leftForLtr(e,s){return e-s}}},bw=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function ds(n,t,e){return n?mw(t,e):bw()}function Nd(n,t){let e,s;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,s=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=s)}function Md(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function Rd(n){return n==="angle"?{between:mi,compare:yv,normalize:qt}:{between:ze,compare:(t,e)=>t-e,normalize:t=>t}}function Nh({start:n,end:t,count:e,loop:s,style:i}){return{start:n%e,end:t%e,loop:s&&(t-n+1)%e===0,style:i}}function yw(n,t,e){const{property:s,start:i,end:r}=e,{between:o,normalize:a}=Rd(s),l=t.length;let{start:c,end:h,loop:u}=n,f,g;if(u){for(c+=l,h+=l,f=0,g=l;f<g&&o(a(t[c%l][s]),i,r);++f)c--,h--;c%=l,h%=l}return h<c&&(h+=l),{start:c,end:h,loop:u,style:n.style}}function Pd(n,t,e){if(!e)return[n];const{property:s,start:i,end:r}=e,o=t.length,{compare:a,between:l,normalize:c}=Rd(s),{start:h,end:u,loop:f,style:g}=yw(n,t,e),p=[];let m=!1,b=null,x,w,S;const T=()=>l(i,S,x)&&a(i,S)!==0,E=()=>a(r,x)===0||l(r,S,x),R=()=>m||T(),P=()=>!m||E();for(let B=h,z=h;B<=u;++B)w=t[B%o],!w.skip&&(x=c(w[s]),x!==S&&(m=l(x,i,r),b===null&&R()&&(b=a(x,i)===0?B:z),b!==null&&P()&&(p.push(Nh({start:b,end:B,loop:f,count:o,style:g})),b=null),z=B,S=x));return b!==null&&p.push(Nh({start:b,end:u,loop:f,count:o,style:g})),p}function Dd(n,t){const e=[],s=n.segments;for(let i=0;i<s.length;i++){const r=Pd(s[i],n.points,t);r.length&&e.push(...r)}return e}function xw(n,t,e,s){let i=0,r=t-1;if(e&&!s)for(;i<t&&!n[i].skip;)i++;for(;i<t&&n[i].skip;)i++;for(i%=t,e&&(r+=i);r>i&&n[r%t].skip;)r--;return r%=t,{start:i,end:r}}function _w(n,t,e,s){const i=n.length,r=[];let o=t,a=n[t],l;for(l=t+1;l<=e;++l){const c=n[l%i];c.skip||c.stop?a.skip||(s=!1,r.push({start:t%i,end:(l-1)%i,loop:s}),t=o=c.stop?l:null):(o=l,a.skip&&(t=l)),a=c}return o!==null&&r.push({start:t%i,end:o%i,loop:s}),r}function vw(n,t){const e=n.points,s=n.options.spanGaps,i=e.length;if(!i)return[];const r=!!n._loop,{start:o,end:a}=xw(e,i,r,s);if(s===!0)return Mh(n,[{start:o,end:a,loop:r}],e,t);const l=a<o?a+i:a,c=!!n._fullLoop&&o===0&&a===i-1;return Mh(n,_w(e,o,l,c),e,t)}function Mh(n,t,e,s){return!s||!s.setContext||!e?t:ww(n,t,e,s)}function ww(n,t,e,s){const i=n._chart.getContext(),r=Rh(n.options),{_datasetIndex:o,options:{spanGaps:a}}=n,l=e.length,c=[];let h=r,u=t[0].start,f=u;function g(p,m,b,x){const w=a?-1:1;if(p!==m){for(p+=l;e[p%l].skip;)p-=w;for(;e[m%l].skip;)m+=w;p%l!==m%l&&(c.push({start:p%l,end:m%l,loop:b,style:x}),h=x,u=m%l)}}for(const p of t){u=a?u:p.start;let m=e[u%l],b;for(f=u+1;f<=p.end;f++){const x=e[f%l];b=Rh(s.setContext(dn(i,{type:"segment",p0:m,p1:x,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),Aw(b,h)&&g(u,f-1,p.loop,h),m=x,h=b}u<f-1&&g(u,f-1,p.loop,h)}return c}function Rh(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function Aw(n,t){if(!t)return!1;const e=[],s=function(i,r){return Dl(r)?(e.includes(r)||e.push(r),e.indexOf(r)):r};return JSON.stringify(n,s)!==JSON.stringify(t,s)}function fr(n,t,e){return n.options.clip?n[e]:t[e]}function Sw(n,t){const{xScale:e,yScale:s}=n;return e&&s?{left:fr(e,t,"left"),right:fr(e,t,"right"),top:fr(s,t,"top"),bottom:fr(s,t,"bottom")}:t}function Id(n,t){const e=t._clip;if(e.disabled)return!1;const s=Sw(t,n.chartArea);return{left:e.left===!1?0:s.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:s.right+(e.right===!0?0:e.right),top:e.top===!1?0:s.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:s.bottom+(e.bottom===!0?0:e.bottom)}}class Ew{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,s,i){const r=e.listeners[i],o=e.duration;r.forEach(a=>a({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(s-e.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=yd.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((s,i)=>{if(!s.running||!s.items.length)return;const r=s.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>s.duration&&(s.duration=l._total),l.tick(t),a=!0):(r[o]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,s,t,"progress")),r.length||(s.running=!1,this._notify(i,s,t,"complete"),s.initial=!1),e+=r.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let s=e.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,s)),s}listen(t,e,s){this._getAnims(t).listeners[e].push(s)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((s,i)=>Math.max(s,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const s=e.items;let i=s.length-1;for(;i>=0;--i)s[i].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var qe=new Ew;const Ph="transparent",Tw={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const s=Sh(n||Ph),i=s.valid&&Sh(t||Ph);return i&&i.valid?i.mix(s,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class Ow{constructor(t,e,s,i){const r=e[s];i=Js([t.to,i,r,t.from]);const o=Js([t.from,r,i]);this._active=!0,this._fn=t.fn||Tw[t.type||typeof o],this._easing=ri[t.easing]||ri.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=s,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(t,e,s){if(this._active){this._notify(!1);const i=this._target[this._prop],r=s-this._start,o=this._duration-r;this._start=s,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=Js([t.to,e,i,t.from]),this._from=Js([t.from,i,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,s=this._duration,i=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||e<s),!this._active){this._target[i]=a,this._notify(!0);return}if(e<0){this._target[i]=r;return}l=e/s%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(r,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,s)=>{t.push({res:e,rej:s})})}_notify(t){const e=t?"res":"rej",s=this._promises||[];for(let i=0;i<s.length;i++)s[i][e]()}}class Bd{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!st(t))return;const e=Object.keys(vt.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const r=t[i];if(!st(r))return;const o={};for(const a of e)o[a]=r[a];(_t(r.properties)&&r.properties||[i]).forEach(a=>{(a===i||!s.has(a))&&s.set(a,o)})})}_animateOptions(t,e){const s=e.options,i=Cw(t,s);if(!i)return[];const r=this._createAnimations(i,s);return s.$shared&&kw(t.options.$animations,s).then(()=>{t.options=s},()=>{}),r}_createAnimations(t,e){const s=this._properties,i=[],r=t.$animations||(t.$animations={}),o=Object.keys(e),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(t,e));continue}const h=e[c];let u=r[c];const f=s.get(c);if(u)if(f&&u.active()){u.update(f,h,a);continue}else u.cancel();if(!f||!f.duration){t[c]=h;continue}r[c]=u=new Ow(f,t,c,h),i.push(u)}return i}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const s=this._createAnimations(t,e);if(s.length)return qe.add(this._chart,s),!0}}function kw(n,t){const e=[],s=Object.keys(t);for(let i=0;i<s.length;i++){const r=n[s[i]];r&&r.active()&&e.push(r.wait())}return Promise.all(e)}function Cw(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function Dh(n,t){const e=n&&n.options||{},s=e.reverse,i=e.min===void 0?t:0,r=e.max===void 0?t:0;return{start:s?r:i,end:s?i:r}}function Lw(n,t,e){if(e===!1)return!1;const s=Dh(n,e),i=Dh(t,e);return{top:i.end,right:s.end,bottom:i.start,left:s.start}}function Nw(n){let t,e,s,i;return st(n)?(t=n.top,e=n.right,s=n.bottom,i=n.left):t=e=s=i=n,{top:t,right:e,bottom:s,left:i,disabled:n===!1}}function qd(n,t){const e=[],s=n._getSortedDatasetMetas(t);let i,r;for(i=0,r=s.length;i<r;++i)e.push(s[i].index);return e}function Ih(n,t,e,s={}){const i=n.keys,r=s.mode==="single";let o,a,l,c;if(t===null)return;let h=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===e){if(h=!0,s.all)continue;break}c=n.values[l],wt(c)&&(r||t===0||ke(t)===ke(c))&&(t+=c)}return!h&&!s.all?0:t}function Mw(n,t){const{iScale:e,vScale:s}=t,i=e.axis==="x"?"x":"y",r=s.axis==="x"?"x":"y",o=Object.keys(n),a=new Array(o.length);let l,c,h;for(l=0,c=o.length;l<c;++l)h=o[l],a[l]={[i]:h,[r]:n[h]};return a}function ma(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function Rw(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function Pw(n){const{min:t,max:e,minDefined:s,maxDefined:i}=n.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:i?e:Number.POSITIVE_INFINITY}}function Dw(n,t,e){const s=n[t]||(n[t]={});return s[e]||(s[e]={})}function Bh(n,t,e,s){for(const i of t.getMatchingVisibleMetas(s).reverse()){const r=n[i.index];if(e&&r>0||!e&&r<0)return i.index}return null}function qh(n,t){const{chart:e,_cachedMeta:s}=n,i=e._stacks||(e._stacks={}),{iScale:r,vScale:o,index:a}=s,l=r.axis,c=o.axis,h=Rw(r,o,s),u=t.length;let f;for(let g=0;g<u;++g){const p=t[g],{[l]:m,[c]:b}=p,x=p._stacks||(p._stacks={});f=x[c]=Dw(i,h,m),f[a]=b,f._top=Bh(f,o,!0,s.type),f._bottom=Bh(f,o,!1,s.type);const w=f._visualValues||(f._visualValues={});w[a]=b}}function ba(n,t){const e=n.scales;return Object.keys(e).filter(s=>e[s].axis===t).shift()}function Iw(n,t){return dn(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Bw(n,t,e){return dn(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Hs(n,t){const e=n.controller.index,s=n.vScale&&n.vScale.axis;if(s){t=t||n._parsed;for(const i of t){const r=i._stacks;if(!r||r[s]===void 0||r[s][e]===void 0)return;delete r[s][e],r[s]._visualValues!==void 0&&r[s]._visualValues[e]!==void 0&&delete r[s]._visualValues[e]}}}const ya=n=>n==="reset"||n==="none",Fh=(n,t)=>t?n:Object.assign({},n),qw=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:qd(e,!0),values:null};class gn{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=ma(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Hs(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,s=this.getDataset(),i=(u,f,g,p)=>u==="x"?f:u==="r"?p:g,r=e.xAxisID=J(s.xAxisID,ba(t,"x")),o=e.yAxisID=J(s.yAxisID,ba(t,"y")),a=e.rAxisID=J(s.rAxisID,ba(t,"r")),l=e.indexAxis,c=e.iAxisID=i(l,r,o,a),h=e.vAxisID=i(l,o,r,a);e.xScale=this.getScaleForId(r),e.yScale=this.getScaleForId(o),e.rScale=this.getScaleForId(a),e.iScale=this.getScaleForId(c),e.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&vh(this._data,this),t._stacked&&Hs(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),s=this._data;if(st(e)){const i=this._cachedMeta;this._data=Mw(e,i)}else if(s!==e){if(s){vh(s,this);const i=this._cachedMeta;Hs(i),i._parsed=[]}e&&Object.isExtensible(e)&&wv(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,s=this.getDataset();let i=!1;this._dataCheck();const r=e._stacked;e._stacked=ma(e.vScale,e),e.stack!==s.stack&&(i=!0,Hs(e),e.stack=s.stack),this._resyncElements(t),(i||r!==e._stacked)&&(qh(this,e._parsed),e._stacked=ma(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:s,_data:i}=this,{iScale:r,_stacked:o}=s,a=r.axis;let l=t===0&&e===i.length?!0:s._sorted,c=t>0&&s._parsed[t-1],h,u,f;if(this._parsing===!1)s._parsed=i,s._sorted=!0,f=i;else{_t(i[t])?f=this.parseArrayData(s,i,t,e):st(i[t])?f=this.parseObjectData(s,i,t,e):f=this.parsePrimitiveData(s,i,t,e);const g=()=>u[a]===null||c&&u[a]<c[a];for(h=0;h<e;++h)s._parsed[h+t]=u=f[h],l&&(g()&&(l=!1),c=u);s._sorted=l}o&&qh(this,f)}parsePrimitiveData(t,e,s,i){const{iScale:r,vScale:o}=t,a=r.axis,l=o.axis,c=r.getLabels(),h=r===o,u=new Array(i);let f,g,p;for(f=0,g=i;f<g;++f)p=f+s,u[f]={[a]:h||r.parse(c[p],p),[l]:o.parse(e[p],p)};return u}parseArrayData(t,e,s,i){const{xScale:r,yScale:o}=t,a=new Array(i);let l,c,h,u;for(l=0,c=i;l<c;++l)h=l+s,u=e[h],a[l]={x:r.parse(u[0],h),y:o.parse(u[1],h)};return a}parseObjectData(t,e,s,i){const{xScale:r,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let h,u,f,g;for(h=0,u=i;h<u;++h)f=h+s,g=e[f],c[h]={x:r.parse(cn(g,a),f),y:o.parse(cn(g,l),f)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,s){const i=this.chart,r=this._cachedMeta,o=e[t.axis],a={keys:qd(i,!0),values:e._stacks[t.axis]._visualValues};return Ih(a,o,r.index,{mode:s})}updateRangeFromParsed(t,e,s,i){const r=s[e.axis];let o=r===null?NaN:r;const a=i&&s._stacks[e.axis];i&&a&&(i.values=a,o=Ih(i,r,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,e){const s=this._cachedMeta,i=s._parsed,r=s._sorted&&t===s.iScale,o=i.length,a=this._getOtherScale(t),l=qw(e,s,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:u}=Pw(a);let f,g;function p(){g=i[f];const m=g[a.axis];return!wt(g[t.axis])||h>m||u<m}for(f=0;f<o&&!(!p()&&(this.updateRangeFromParsed(c,t,g,l),r));++f);if(r){for(f=o-1;f>=0;--f)if(!p()){this.updateRangeFromParsed(c,t,g,l);break}}return c}getAllParsedValues(t){const e=this._cachedMeta._parsed,s=[];let i,r,o;for(i=0,r=e.length;i<r;++i)o=e[i][t.axis],wt(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,s=e.iScale,i=e.vScale,r=this.getParsed(t);return{label:s?""+s.getLabelForValue(r[s.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=Nw(J(this.options.clip,Lw(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,s=this._cachedMeta,i=s.data||[],r=e.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let h;for(s.dataset&&s.dataset.draw(t,r,a,l),h=a;h<a+l;++h){const u=i[h];u.hidden||(u.active&&c?o.push(u):u.draw(t,r))}for(h=0;h<o.length;++h)o[h].draw(t,r)}getStyle(t,e){const s=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,e,s){const i=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];r=o.$context||(o.$context=Bw(this.getContext(),t,o)),r.parsed=this.getParsed(t),r.raw=i.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=Iw(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!e,r.mode=s,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",s){const i=e==="active",r=this._cachedDataOpts,o=t+"-"+e,a=r[o],l=this.enableOptionSharing&&pi(s);if(a)return Fh(a,l);const c=this.chart.config,h=c.datasetElementScopeKeys(this._type,t),u=i?[`${t}Hover`,"hover",t,""]:[t,""],f=c.getOptionScopes(this.getDataset(),h),g=Object.keys(vt.elements[t]),p=()=>this.getContext(s,i,e),m=c.resolveNamedOptions(f,g,p,u);return m.$shared&&(m.$shared=l,r[o]=Object.freeze(Fh(m,l))),m}_resolveAnimations(t,e,s){const i=this.chart,r=this._cachedDataOpts,o=`animation-${e}`,a=r[o];if(a)return a;let l;if(i.options.animation!==!1){const h=this.chart.config,u=h.datasetAnimationScopeKeys(this._type,e),f=h.getOptionScopes(this.getDataset(),u);l=h.createResolver(f,this.getContext(t,s,e))}const c=new Bd(i,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||ya(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const s=this.resolveDataElementOptions(t,e),i=this._sharedOptions,r=this.getSharedOptions(s),o=this.includeOptions(e,r)||r!==i;return this.updateSharedOptions(r,e,s),{sharedOptions:r,includeOptions:o}}updateElement(t,e,s,i){ya(i)?Object.assign(t,s):this._resolveAnimations(e,i).update(t,s)}updateSharedOptions(t,e,s){t&&!ya(e)&&this._resolveAnimations(void 0,e).update(t,s)}_setStyle(t,e,s,i){t.active=i;const r=this.getStyle(e,i);this._resolveAnimations(e,s,i).update(t,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(t,e,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,e,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,s=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=s.length,r=e.length,o=Math.min(r,i);o&&this.parse(0,o),r>i?this._insertElements(i,r-i,t):r<i&&this._removeElements(r,i-r)}_insertElements(t,e,s=!0){const i=this._cachedMeta,r=i.data,o=t+e;let a;const l=c=>{for(c.length+=e,a=c.length-1;a>=o;a--)c[a]=c[a-e]};for(l(r),a=t;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(t,e),s&&this.updateElements(r,t,e,"reset")}updateElements(t,e,s,i){}_removeElements(t,e){const s=this._cachedMeta;if(this._parsing){const i=s._parsed.splice(t,e);s._stacked&&Hs(s,i)}s.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,s,i]=t;this[e](s,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Fw(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let s=[];for(let i=0,r=e.length;i<r;i++)s=s.concat(e[i].controller.getAllParsedValues(n));n._cache.$bar=bd(s.sort((i,r)=>i-r))}return n._cache.$bar}function jw(n){const t=n.iScale,e=Fw(t,n.type);let s=t._length,i,r,o,a;const l=()=>{o===32767||o===-32768||(pi(a)&&(s=Math.min(s,Math.abs(o-a)||s)),a=o)};for(i=0,r=e.length;i<r;++i)o=t.getPixelForValue(e[i]),l();for(a=void 0,i=0,r=t.ticks.length;i<r;++i)o=t.getPixelForTick(i),l();return s}function zw(n,t,e,s){const i=e.barThickness;let r,o;return nt(i)?(r=t.min*e.categoryPercentage,o=e.barPercentage):(r=i*s,o=1),{chunk:r/s,ratio:o,start:t.pixels[n]-r/2}}function $w(n,t,e,s){const i=t.pixels,r=i[n];let o=n>0?i[n-1]:null,a=n<i.length-1?i[n+1]:null;const l=e.categoryPercentage;o===null&&(o=r-(a===null?t.end-t.start:a-r)),a===null&&(a=r+r-o);const c=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/s,ratio:e.barPercentage,start:c}}function Hw(n,t,e,s){const i=e.parse(n[0],s),r=e.parse(n[1],s),o=Math.min(i,r),a=Math.max(i,r);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),t[e.axis]=c,t._custom={barStart:l,barEnd:c,start:i,end:r,min:o,max:a}}function Fd(n,t,e,s){return _t(n)?Hw(n,t,e,s):t[e.axis]=e.parse(n,s),t}function jh(n,t,e,s){const i=n.iScale,r=n.vScale,o=i.getLabels(),a=i===r,l=[];let c,h,u,f;for(c=e,h=e+s;c<h;++c)f=t[c],u={},u[i.axis]=a||i.parse(o[c],c),l.push(Fd(f,u,r,c));return l}function xa(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function Uw(n,t,e){return n!==0?ke(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function Vw(n){let t,e,s,i,r;return n.horizontal?(t=n.base>n.x,e="left",s="right"):(t=n.base<n.y,e="bottom",s="top"),t?(i="end",r="start"):(i="start",r="end"),{start:e,end:s,reverse:t,top:i,bottom:r}}function Ww(n,t,e,s){let i=t.borderSkipped;const r={};if(!i){n.borderSkipped=r;return}if(i===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:h}=Vw(n);i==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===s?i=c:(e._bottom||0)===s?i=h:(r[zh(h,o,a,l)]=!0,i=c)),r[zh(i,o,a,l)]=!0,n.borderSkipped=r}function zh(n,t,e,s){return s?(n=Kw(n,t,e),n=$h(n,e,t)):n=$h(n,t,e),n}function Kw(n,t,e){return n===t?e:n===e?t:n}function $h(n,t,e){return n==="start"?t:n==="end"?e:n}function Gw(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class Yw extends gn{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,s,i){return jh(t,e,s,i)}parseArrayData(t,e,s,i){return jh(t,e,s,i)}parseObjectData(t,e,s,i){const{iScale:r,vScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=r.axis==="x"?a:l,h=o.axis==="x"?a:l,u=[];let f,g,p,m;for(f=s,g=s+i;f<g;++f)m=e[f],p={},p[r.axis]=r.parse(cn(m,c),f),u.push(Fd(cn(m,h),p,o,f));return u}updateRangeFromParsed(t,e,s,i){super.updateRangeFromParsed(t,e,s,i);const r=s._custom;r&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:s,vScale:i}=e,r=this.getParsed(t),o=r._custom,a=xa(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+s.getLabelForValue(r[s.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,s,i){const r=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),h=this._getRuler(),{sharedOptions:u,includeOptions:f}=this._getSharedOptions(e,i);for(let g=e;g<e+s;g++){const p=this.getParsed(g),m=r||nt(p[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(g),b=this._calculateBarIndexPixels(g,h),x=(p._stacks||{})[a.axis],w={horizontal:c,base:m.base,enableBorderRadius:!x||xa(p._custom)||o===x._top||o===x._bottom,x:c?m.head:b.center,y:c?b.center:m.head,height:c?b.size:Math.abs(m.size),width:c?Math.abs(m.size):b.size};f&&(w.options=u||this.resolveDataElementOptions(g,t[g].active?"active":i));const S=w.options||t[g].options;Ww(w,S,x,o),Gw(w,S,h.ratio),this.updateElement(t[g],g,w,i)}}_getStacks(t,e){const{iScale:s}=this._cachedMeta,i=s.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),r=s.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(e),l=a&&a[s.axis],c=h=>{const u=h._parsed.find(g=>g[s.axis]===l),f=u&&u[h.vScale.axis];if(nt(f)||isNaN(f))return!0};for(const h of i)if(!(e!==void 0&&c(h))&&((r===!1||o.indexOf(h.stack)===-1||r===void 0&&h.stack===void 0)&&o.push(h.stack),h.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(s=>t[s].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)t[J(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,s){const i=this._getStacks(t,s),r=e!==void 0?i.indexOf(e):-1;return r===-1?i.length-1:r}_getRuler(){const t=this.options,e=this._cachedMeta,s=e.iScale,i=[];let r,o;for(r=0,o=e.data.length;r<o;++r)i.push(s.getPixelForValue(this.getParsed(r)[s.axis],r));const a=t.barThickness;return{min:a||jw(e),pixels:i,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:s,index:i},options:{base:r,minBarLength:o}}=this,a=r||0,l=this.getParsed(t),c=l._custom,h=xa(c);let u=l[e.axis],f=0,g=s?this.applyStack(e,l,s):u,p,m;g!==u&&(f=g-u,g=u),h&&(u=c.barStart,g=c.barEnd-c.barStart,u!==0&&ke(u)!==ke(c.barEnd)&&(f=0),f+=u);const b=!nt(r)&&!h?r:f;let x=e.getPixelForValue(b);if(this.chart.getDataVisibility(t)?p=e.getPixelForValue(f+g):p=x,m=p-x,Math.abs(m)<o){m=Uw(m,e,a)*o,u===a&&(x-=m/2);const w=e.getPixelForDecimal(0),S=e.getPixelForDecimal(1),T=Math.min(w,S),E=Math.max(w,S);x=Math.max(Math.min(x,E),T),p=x+m,s&&!h&&(l._stacks[e.axis]._visualValues[i]=e.getValueForPixel(p)-e.getValueForPixel(x))}if(x===e.getPixelForValue(a)){const w=ke(m)*e.getLineWidthForValue(a)/2;x+=w,m-=w}return{size:m,base:x,head:p,center:p+m/2}}_calculateBarIndexPixels(t,e){const s=e.scale,i=this.options,r=i.skipNull,o=J(i.maxBarThickness,1/0);let a,l;const c=this._getAxisCount();if(e.grouped){const h=r?this._getStackCount(t):e.stackCount,u=i.barThickness==="flex"?$w(t,e,i,h*c):zw(t,e,i,h*c),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,g=this._getAxis().indexOf(J(f,this.getFirstScaleIdForIndexAxis())),p=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0)+g;a=u.start+u.chunk*p+u.chunk/2,l=Math.min(o,u.chunk*u.ratio)}else a=s.getPixelForValue(this.getParsed(t)[s.axis],t),l=Math.min(o,e.min*e.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,e=t.vScale,s=t.data,i=s.length;let r=0;for(;r<i;++r)this.getParsed(r)[e.axis]!==null&&!s[r].hidden&&s[r].draw(this._ctx)}}class Xw extends gn{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,s,i){const r=super.parsePrimitiveData(t,e,s,i);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+s).radius;return r}parseArrayData(t,e,s,i){const r=super.parseArrayData(t,e,s,i);for(let o=0;o<r.length;o++){const a=e[s+o];r[o]._custom=J(a[2],this.resolveDataElementOptions(o+s).radius)}return r}parseObjectData(t,e,s,i){const r=super.parseObjectData(t,e,s,i);for(let o=0;o<r.length;o++){const a=e[s+o];r[o]._custom=J(a&&a.r&&+a.r,this.resolveDataElementOptions(o+s).radius)}return r}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let s=t.length-1;s>=0;--s)e=Math.max(e,t[s].size(this.resolveDataElementOptions(s))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,s=this.chart.data.labels||[],{xScale:i,yScale:r}=e,o=this.getParsed(t),a=i.getLabelForValue(o.x),l=r.getLabelForValue(o.y),c=o._custom;return{label:s[t]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,s,i){const r=i==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(e,i),h=o.axis,u=a.axis;for(let f=e;f<e+s;f++){const g=t[f],p=!r&&this.getParsed(f),m={},b=m[h]=r?o.getPixelForDecimal(.5):o.getPixelForValue(p[h]),x=m[u]=r?a.getBasePixel():a.getPixelForValue(p[u]);m.skip=isNaN(b)||isNaN(x),c&&(m.options=l||this.resolveDataElementOptions(f,g.active?"active":i),r&&(m.options.radius=0)),this.updateElement(g,f,m,i)}}resolveDataElementOptions(t,e){const s=this.getParsed(t);let i=super.resolveDataElementOptions(t,e);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const r=i.radius;return e!=="active"&&(i.radius=0),i.radius+=J(s&&s._custom,r),i}}function Zw(n,t,e){let s=1,i=1,r=0,o=0;if(t<yt){const a=n,l=a+t,c=Math.cos(a),h=Math.sin(a),u=Math.cos(l),f=Math.sin(l),g=(S,T,E)=>mi(S,a,l,!0)?1:Math.max(T,T*e,E,E*e),p=(S,T,E)=>mi(S,a,l,!0)?-1:Math.min(T,T*e,E,E*e),m=g(0,c,u),b=g(At,h,f),x=p(at,c,u),w=p(at+At,h,f);s=(m-x)/2,i=(b-w)/2,r=-(m+x)/2,o=-(b+w)/2}return{ratioX:s,ratioY:i,offsetX:r,offsetY:o}}class $l extends gn{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data,{labels:{pointStyle:s,textAlign:i,color:r,useBorderRadius:o,borderRadius:a}}=t.legend.options;return e.labels.length&&e.datasets.length?e.labels.map((l,c)=>{const u=t.getDatasetMeta(0).controller.getStyle(c);return{text:l,fillStyle:u.backgroundColor,fontColor:r,hidden:!t.getDataVisibility(c),lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:u.borderWidth,strokeStyle:u.borderColor,textAlign:i,pointStyle:s,borderRadius:o&&(a||u.borderRadius),index:c}}):[]}},onClick(t,e,s){s.chart.toggleDataVisibility(e.index),s.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const s=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=s;else{let r=l=>+s[l];if(st(s[t])){const{key:l="value"}=this._parsing;r=c=>+cn(s[c],l)}let o,a;for(o=t,a=t+e;o<a;++o)i._parsed[o]=r(o)}}_getRotation(){return ge(this.options.rotation-90)}_getCircumference(){return ge(this.options.circumference)}_getRotationExtents(){let t=yt,e=-yt;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const i=this.chart.getDatasetMeta(s).controller,r=i._getRotation(),o=i._getCircumference();t=Math.min(t,r),e=Math.max(e,r+o)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:s}=e,i=this._cachedMeta,r=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(s.width,s.height)-o)/2,0),l=Math.min(av(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:h,rotation:u}=this._getRotationExtents(),{ratioX:f,ratioY:g,offsetX:p,offsetY:m}=Zw(u,h,l),b=(s.width-o)/f,x=(s.height-o)/g,w=Math.max(Math.min(b,x)/2,0),S=fd(this.options.radius,w),T=Math.max(S*l,0),E=(S-T)/this._getVisibleDatasetWeightTotal();this.offsetX=p*S,this.offsetY=m*S,i.total=this.calculateTotal(),this.outerRadius=S-E*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-E*c,0),this.updateElements(r,0,r.length,t)}_circumference(t,e){const s=this.options,i=this._cachedMeta,r=this._getCircumference();return e&&s.animation.animateRotate||!this.chart.getDataVisibility(t)||i._parsed[t]===null||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*r/yt)}updateElements(t,e,s,i){const r=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,h=(a.left+a.right)/2,u=(a.top+a.bottom)/2,f=r&&c.animateScale,g=f?0:this.innerRadius,p=f?0:this.outerRadius,{sharedOptions:m,includeOptions:b}=this._getSharedOptions(e,i);let x=this._getRotation(),w;for(w=0;w<e;++w)x+=this._circumference(w,r);for(w=e;w<e+s;++w){const S=this._circumference(w,r),T=t[w],E={x:h+this.offsetX,y:u+this.offsetY,startAngle:x,endAngle:x+S,circumference:S,outerRadius:p,innerRadius:g};b&&(E.options=m||this.resolveDataElementOptions(w,T.active?"active":i)),x+=S,this.updateElement(T,w,E,i)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let s=0,i;for(i=0;i<e.length;i++){const r=t._parsed[i];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(i)&&!e[i].hidden&&(s+=Math.abs(r))}return s}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?yt*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,s=this.chart,i=s.data.labels||[],r=Li(e._parsed[t],s.options.locale);return{label:i[t]||"",value:r}}getMaxBorderWidth(t){let e=0;const s=this.chart;let i,r,o,a,l;if(!t){for(i=0,r=s.data.datasets.length;i<r;++i)if(s.isDatasetVisible(i)){o=s.getDatasetMeta(i),t=o.data,a=o.controller;break}}if(!t)return 0;for(i=0,r=t.length;i<r;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(e=Math.max(e,l.borderWidth||0,l.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let s=0,i=t.length;s<i;++s){const r=this.resolveDataElementOptions(s);e=Math.max(e,r.offset||0,r.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let s=0;s<t;++s)this.chart.isDatasetVisible(s)&&(e+=this._getRingWeight(s));return e}_getRingWeight(t){return Math.max(J(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class Jw extends gn{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:s,data:i=[],_dataset:r}=e,o=this.chart._animationsDisabled;let{start:a,count:l}=_d(e,i,o);this._drawStart=a,this._drawCount=l,vd(e)&&(a=0,l=i.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!r._decimated,s.points=i;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(s,void 0,{animated:!o,options:c},t),this.updateElements(i,a,l,t)}updateElements(t,e,s,i){const r=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:h,includeOptions:u}=this._getSharedOptions(e,i),f=o.axis,g=a.axis,{spanGaps:p,segment:m}=this.options,b=bs(p)?p:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||r||i==="none",w=e+s,S=t.length;let T=e>0&&this.getParsed(e-1);for(let E=0;E<S;++E){const R=t[E],P=x?R:{};if(E<e||E>=w){P.skip=!0;continue}const B=this.getParsed(E),z=nt(B[g]),K=P[f]=o.getPixelForValue(B[f],E),_=P[g]=r||z?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,B,l):B[g],E);P.skip=isNaN(K)||isNaN(_)||z,P.stop=E>0&&Math.abs(B[f]-T[f])>b,m&&(P.parsed=B,P.raw=c.data[E]),u&&(P.options=h||this.resolveDataElementOptions(E,R.active?"active":i)),x||this.updateElement(R,E,P,i),T=B}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,s=e.options&&e.options.borderWidth||0,i=t.data||[];if(!i.length)return s;const r=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,r,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class jd extends gn{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:s,color:i}}=t.legend.options;return e.labels.map((r,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:s,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,e,s){s.chart.toggleDataVisibility(e.index),s.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,s=this.chart,i=s.data.labels||[],r=Li(e._parsed[t].r,s.options.locale);return{label:i[t]||"",value:r}}parseObjectData(t,e,s,i){return Cd.bind(this)(t,e,s,i)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((s,i)=>{const r=this.getParsed(i).r;!isNaN(r)&&this.chart.getDataVisibility(i)&&(r<e.min&&(e.min=r),r>e.max&&(e.max=r))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,s=t.options,i=Math.min(e.right-e.left,e.bottom-e.top),r=Math.max(i/2,0),o=Math.max(s.cutoutPercentage?r/100*s.cutoutPercentage:1,0),a=(r-o)/t.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,e,s,i){const r=i==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,h=c.xCenter,u=c.yCenter,f=c.getIndexAngle(0)-.5*at;let g=f,p;const m=360/this.countVisibleElements();for(p=0;p<e;++p)g+=this._computeAngle(p,i,m);for(p=e;p<e+s;p++){const b=t[p];let x=g,w=g+this._computeAngle(p,i,m),S=o.getDataVisibility(p)?c.getDistanceFromCenterForValue(this.getParsed(p).r):0;g=w,r&&(l.animateScale&&(S=0),l.animateRotate&&(x=w=f));const T={x:h,y:u,innerRadius:0,outerRadius:S,startAngle:x,endAngle:w,options:this.resolveDataElementOptions(p,b.active?"active":i)};this.updateElement(b,p,T,i)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach((s,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&e++}),e}_computeAngle(t,e,s){return this.chart.getDataVisibility(t)?ge(this.resolveDataElementOptions(t,e).angle||s):0}}class Qw extends $l{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class tA extends gn{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const e=this._cachedMeta.vScale,s=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(s[e.axis])}}parseObjectData(t,e,s,i){return Cd.bind(this)(t,e,s,i)}update(t){const e=this._cachedMeta,s=e.dataset,i=e.data||[],r=e.iScale.getLabels();if(s.points=i,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===i.length,options:o};this.updateElement(s,void 0,a,t)}this.updateElements(i,0,i.length,t)}updateElements(t,e,s,i){const r=this._cachedMeta.rScale,o=i==="reset";for(let a=e;a<e+s;a++){const l=t[a],c=this.resolveDataElementOptions(a,l.active?"active":i),h=r.getPointPositionForValue(a,this.getParsed(a).r),u=o?r.xCenter:h.x,f=o?r.yCenter:h.y,g={x:u,y:f,angle:h.angle,skip:isNaN(u)||isNaN(f),options:c};this.updateElement(l,a,g,i)}}}class eA extends gn{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const e=this._cachedMeta,s=this.chart.data.labels||[],{xScale:i,yScale:r}=e,o=this.getParsed(t),a=i.getLabelForValue(o.x),l=r.getLabelForValue(o.y);return{label:s[t]||"",value:"("+a+", "+l+")"}}update(t){const e=this._cachedMeta,{data:s=[]}=e,i=this.chart._animationsDisabled;let{start:r,count:o}=_d(e,s,i);if(this._drawStart=r,this._drawCount=o,vd(e)&&(r=0,o=s.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=e;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=s;const c=this.resolveDatasetElementOptions(t);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:c},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(s,r,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,s,i){const r=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,h=this.resolveDataElementOptions(e,i),u=this.getSharedOptions(h),f=this.includeOptions(i,u),g=o.axis,p=a.axis,{spanGaps:m,segment:b}=this.options,x=bs(m)?m:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||r||i==="none";let S=e>0&&this.getParsed(e-1);for(let T=e;T<e+s;++T){const E=t[T],R=this.getParsed(T),P=w?E:{},B=nt(R[p]),z=P[g]=o.getPixelForValue(R[g],T),K=P[p]=r||B?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,R,l):R[p],T);P.skip=isNaN(z)||isNaN(K)||B,P.stop=T>0&&Math.abs(R[g]-S[g])>x,b&&(P.parsed=R,P.raw=c.data[T]),f&&(P.options=u||this.resolveDataElementOptions(T,E.active?"active":i)),w||this.updateElement(E,T,P,i),S=R}this.updateSharedOptions(u,i,h)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let a=0;for(let l=e.length-1;l>=0;--l)a=Math.max(a,e[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const s=t.dataset,i=s.options&&s.options.borderWidth||0;if(!e.length)return i;const r=e[0].size(this.resolveDataElementOptions(0)),o=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(i,r,o)/2}}var nA=Object.freeze({__proto__:null,BarController:Yw,BubbleController:Xw,DoughnutController:$l,LineController:Jw,PieController:Qw,PolarAreaController:jd,RadarController:tA,ScatterController:eA});function Sn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Hl{static override(t){Object.assign(Hl.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Sn()}parse(){return Sn()}format(){return Sn()}add(){return Sn()}diff(){return Sn()}startOf(){return Sn()}endOf(){return Sn()}}var sA={_date:Hl};function iA(n,t,e,s){const{controller:i,data:r,_sorted:o}=n,a=i._cachedMeta.iScale,l=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&o&&r.length){const c=a._reversePixels?_v:$e;if(s){if(i._sharedOptions){const h=r[0],u=typeof h.getRange=="function"&&h.getRange(t);if(u){const f=c(r,t,e-u),g=c(r,t,e+u);return{lo:f.lo,hi:g.hi}}}}else{const h=c(r,t,e);if(l){const{vScale:u}=i._cachedMeta,{_parsed:f}=n,g=f.slice(0,h.lo+1).reverse().findIndex(m=>!nt(m[u.axis]));h.lo-=Math.max(0,g);const p=f.slice(h.hi).findIndex(m=>!nt(m[u.axis]));h.hi+=Math.max(0,p)}return h}}return{lo:0,hi:r.length-1}}function io(n,t,e,s,i){const r=n.getSortedVisibleDatasetMetas(),o=e[t];for(let a=0,l=r.length;a<l;++a){const{index:c,data:h}=r[a],{lo:u,hi:f}=iA(r[a],t,o,i);for(let g=u;g<=f;++g){const p=h[g];p.skip||s(p,c,g)}}}function rA(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(s,i){const r=t?Math.abs(s.x-i.x):0,o=e?Math.abs(s.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function _a(n,t,e,s,i){const r=[];return!i&&!n.isPointInArea(t)||io(n,e,t,function(a,l,c){!i&&!He(a,n.chartArea,0)||a.inRange(t.x,t.y,s)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function oA(n,t,e,s){let i=[];function r(o,a,l){const{startAngle:c,endAngle:h}=o.getProps(["startAngle","endAngle"],s),{angle:u}=pd(o,{x:t.x,y:t.y});mi(u,c,h)&&i.push({element:o,datasetIndex:a,index:l})}return io(n,e,t,r),i}function aA(n,t,e,s,i,r){let o=[];const a=rA(e);let l=Number.POSITIVE_INFINITY;function c(h,u,f){const g=h.inRange(t.x,t.y,i);if(s&&!g)return;const p=h.getCenterPoint(i);if(!(!!r||n.isPointInArea(p))&&!g)return;const b=a(t,p);b<l?(o=[{element:h,datasetIndex:u,index:f}],l=b):b===l&&o.push({element:h,datasetIndex:u,index:f})}return io(n,e,t,c),o}function va(n,t,e,s,i,r){return!r&&!n.isPointInArea(t)?[]:e==="r"&&!s?oA(n,t,e,i):aA(n,t,e,s,i,r)}function Hh(n,t,e,s,i){const r=[],o=e==="x"?"inXRange":"inYRange";let a=!1;return io(n,e,t,(l,c,h)=>{l[o]&&l[o](t[e],i)&&(r.push({element:l,datasetIndex:c,index:h}),a=a||l.inRange(t.x,t.y,i))}),s&&!a?[]:r}var lA={modes:{index(n,t,e,s){const i=Tn(t,n),r=e.axis||"x",o=e.includeInvisible||!1,a=e.intersect?_a(n,i,r,s,o):va(n,i,r,!1,s,o),l=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(c=>{const h=a[0].index,u=c.data[h];u&&!u.skip&&l.push({element:u,datasetIndex:c.index,index:h})}),l):[]},dataset(n,t,e,s){const i=Tn(t,n),r=e.axis||"xy",o=e.includeInvisible||!1;let a=e.intersect?_a(n,i,r,s,o):va(n,i,r,!1,s,o);if(a.length>0){const l=a[0].datasetIndex,c=n.getDatasetMeta(l).data;a=[];for(let h=0;h<c.length;++h)a.push({element:c[h],datasetIndex:l,index:h})}return a},point(n,t,e,s){const i=Tn(t,n),r=e.axis||"xy",o=e.includeInvisible||!1;return _a(n,i,r,s,o)},nearest(n,t,e,s){const i=Tn(t,n),r=e.axis||"xy",o=e.includeInvisible||!1;return va(n,i,r,e.intersect,s,o)},x(n,t,e,s){const i=Tn(t,n);return Hh(n,i,"x",e.intersect,s)},y(n,t,e,s){const i=Tn(t,n);return Hh(n,i,"y",e.intersect,s)}}};const zd=["left","top","right","bottom"];function Us(n,t){return n.filter(e=>e.pos===t)}function Uh(n,t){return n.filter(e=>zd.indexOf(e.pos)===-1&&e.box.axis===t)}function Vs(n,t){return n.sort((e,s)=>{const i=t?s:e,r=t?e:s;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function cA(n){const t=[];let e,s,i,r,o,a;for(e=0,s=(n||[]).length;e<s;++e)i=n[e],{position:r,options:{stack:o,stackWeight:a=1}}=i,t.push({index:e,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&r+o,stackWeight:a});return t}function hA(n){const t={};for(const e of n){const{stack:s,pos:i,stackWeight:r}=e;if(!s||!zd.includes(i))continue;const o=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return t}function uA(n,t){const e=hA(n),{vBoxMaxWidth:s,hBoxMaxHeight:i}=t;let r,o,a;for(r=0,o=n.length;r<o;++r){a=n[r];const{fullSize:l}=a.box,c=e[a.stack],h=c&&a.stackWeight/c.weight;a.horizontal?(a.width=h?h*s:l&&t.availableWidth,a.height=i):(a.width=s,a.height=h?h*i:l&&t.availableHeight)}return e}function fA(n){const t=cA(n),e=Vs(t.filter(c=>c.box.fullSize),!0),s=Vs(Us(t,"left"),!0),i=Vs(Us(t,"right")),r=Vs(Us(t,"top"),!0),o=Vs(Us(t,"bottom")),a=Uh(t,"x"),l=Uh(t,"y");return{fullSize:e,leftAndTop:s.concat(r),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:Us(t,"chartArea"),vertical:s.concat(i).concat(l),horizontal:r.concat(o).concat(a)}}function Vh(n,t,e,s){return Math.max(n[e],t[e])+Math.max(n[s],t[s])}function $d(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function dA(n,t,e,s){const{pos:i,box:r}=e,o=n.maxPadding;if(!st(i)){e.size&&(n[i]-=e.size);const u=s[e.stack]||{size:0,count:1};u.size=Math.max(u.size,e.horizontal?r.height:r.width),e.size=u.size/u.count,n[i]+=e.size}r.getPadding&&$d(o,r.getPadding());const a=Math.max(0,t.outerWidth-Vh(o,n,"left","right")),l=Math.max(0,t.outerHeight-Vh(o,n,"top","bottom")),c=a!==n.w,h=l!==n.h;return n.w=a,n.h=l,e.horizontal?{same:c,other:h}:{same:h,other:c}}function gA(n){const t=n.maxPadding;function e(s){const i=Math.max(t[s]-n[s],0);return n[s]+=i,i}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function pA(n,t){const e=t.maxPadding;function s(i){const r={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{r[o]=Math.max(t[o],e[o])}),r}return s(n?["left","right"]:["top","bottom"])}function Qs(n,t,e,s){const i=[];let r,o,a,l,c,h;for(r=0,o=n.length,c=0;r<o;++r){a=n[r],l=a.box,l.update(a.width||t.w,a.height||t.h,pA(a.horizontal,t));const{same:u,other:f}=dA(t,e,a,s);c|=u&&i.length,h=h||f,l.fullSize||i.push(a)}return c&&Qs(i,t,e,s)||h}function dr(n,t,e,s,i){n.top=e,n.left=t,n.right=t+s,n.bottom=e+i,n.width=s,n.height=i}function Wh(n,t,e,s){const i=e.padding;let{x:r,y:o}=t;for(const a of n){const l=a.box,c=s[a.stack]||{placed:0,weight:1},h=a.stackWeight/c.weight||1;if(a.horizontal){const u=t.w*h,f=c.size||l.height;pi(c.start)&&(o=c.start),l.fullSize?dr(l,i.left,o,e.outerWidth-i.right-i.left,f):dr(l,t.left+c.placed,o,u,f),c.start=o,c.placed+=u,o=l.bottom}else{const u=t.h*h,f=c.size||l.width;pi(c.start)&&(r=c.start),l.fullSize?dr(l,r,i.top,f,e.outerHeight-i.bottom-i.top):dr(l,r,t.top+c.placed,f,u),c.start=r,c.placed+=u,r=l.right}}t.x=r,t.y=o}var zt={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,s){if(!n)return;const i=$t(n.options.layout.padding),r=Math.max(t-i.width,0),o=Math.max(e-i.height,0),a=fA(n.boxes),l=a.vertical,c=a.horizontal;dt(n.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});const h=l.reduce((m,b)=>b.box.options&&b.box.options.display===!1?m:m+1,0)||1,u=Object.freeze({outerWidth:t,outerHeight:e,padding:i,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/h,hBoxMaxHeight:o/2}),f=Object.assign({},i);$d(f,$t(s));const g=Object.assign({maxPadding:f,w:r,h:o,x:i.left,y:i.top},i),p=uA(l.concat(c),u);Qs(a.fullSize,g,u,p),Qs(l,g,u,p),Qs(c,g,u,p)&&Qs(l,g,u,p),gA(g),Wh(a.leftAndTop,g,u,p),g.x+=g.w,g.y+=g.h,Wh(a.rightAndBottom,g,u,p),n.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},dt(a.chartArea,m=>{const b=m.box;Object.assign(b,n.chartArea),b.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class Hd{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,s){}removeEventListener(t,e,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,s,i){return e=Math.max(0,e||t.width),s=s||t.height,{width:e,height:Math.max(0,i?Math.floor(e/i):s)}}isAttached(t){return!0}updateConfig(t){}}class mA extends Hd{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Sr="$chartjs",bA={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Kh=n=>n===null||n==="";function yA(n,t){const e=n.style,s=n.getAttribute("height"),i=n.getAttribute("width");if(n[Sr]={initial:{height:s,width:i,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",Kh(i)){const r=Lh(n,"width");r!==void 0&&(n.width=r)}if(Kh(s))if(n.style.height==="")n.height=n.width/(t||2);else{const r=Lh(n,"height");r!==void 0&&(n.height=r)}return n}const Ud=dw?{passive:!0}:!1;function xA(n,t,e){n&&n.addEventListener(t,e,Ud)}function _A(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,Ud)}function vA(n,t){const e=bA[n.type]||n.type,{x:s,y:i}=Tn(n,t);return{type:e,chart:t,native:n,x:s!==void 0?s:null,y:i!==void 0?i:null}}function qr(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function wA(n,t,e){const s=n.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||qr(a.addedNodes,s),o=o&&!qr(a.removedNodes,s);o&&e()});return i.observe(document,{childList:!0,subtree:!0}),i}function AA(n,t,e){const s=n.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||qr(a.removedNodes,s),o=o&&!qr(a.addedNodes,s);o&&e()});return i.observe(document,{childList:!0,subtree:!0}),i}const yi=new Map;let Gh=0;function Vd(){const n=window.devicePixelRatio;n!==Gh&&(Gh=n,yi.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function SA(n,t){yi.size||window.addEventListener("resize",Vd),yi.set(n,t)}function EA(n){yi.delete(n),yi.size||window.removeEventListener("resize",Vd)}function TA(n,t,e){const s=n.canvas,i=s&&zl(s);if(!i)return;const r=xd((a,l)=>{const c=i.clientWidth;e(a,l),c<i.clientWidth&&e()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,h=l.contentRect.height;c===0&&h===0||r(c,h)});return o.observe(i),SA(n,r),o}function wa(n,t,e){e&&e.disconnect(),t==="resize"&&EA(n)}function OA(n,t,e){const s=n.canvas,i=xd(r=>{n.ctx!==null&&e(vA(r,n))},n);return xA(s,t,i),i}class kA extends Hd{acquireContext(t,e){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(yA(t,e),s):null}releaseContext(t){const e=t.canvas;if(!e[Sr])return!1;const s=e[Sr].initial;["height","width"].forEach(r=>{const o=s[r];nt(o)?e.removeAttribute(r):e.setAttribute(r,o)});const i=s.style||{};return Object.keys(i).forEach(r=>{e.style[r]=i[r]}),e.width=e.width,delete e[Sr],!0}addEventListener(t,e,s){this.removeEventListener(t,e);const i=t.$proxies||(t.$proxies={}),o={attach:wA,detach:AA,resize:TA}[e]||OA;i[e]=o(t,e,s)}removeEventListener(t,e){const s=t.$proxies||(t.$proxies={}),i=s[e];if(!i)return;({attach:wa,detach:wa,resize:wa}[e]||_A)(t,e,i),s[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,s,i){return fw(t,e,s,i)}isAttached(t){const e=t&&zl(t);return!!(e&&e.isConnected)}}function CA(n){return!jl()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?mA:kA}let Ge=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:s}=this.getProps(["x","y"],t);return{x:e,y:s}}hasValue(){return bs(this.x)&&bs(this.y)}getProps(t,e){const s=this.$animations;if(!e||!s)return this;const i={};return t.forEach(r=>{i[r]=s[r]&&s[r].active()?s[r]._to:this[r]}),i}};function LA(n,t){const e=n.options.ticks,s=NA(n),i=Math.min(e.maxTicksLimit||s,s),r=e.major.enabled?RA(t):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>i)return PA(t,c,r,o/i),c;const h=MA(r,t,i);if(o>0){let u,f;const g=o>1?Math.round((l-a)/(o-1)):null;for(gr(t,c,h,nt(g)?0:a-g,a),u=0,f=o-1;u<f;u++)gr(t,c,h,r[u],r[u+1]);return gr(t,c,h,l,nt(g)?t.length:l+g),c}return gr(t,c,h),c}function NA(n){const t=n.options.offset,e=n._tickSize(),s=n._length/e+(t?0:1),i=n._maxLength/e;return Math.floor(Math.min(s,i))}function MA(n,t,e){const s=DA(n),i=t.length/e;if(!s)return Math.max(i,1);const r=pv(s);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>i)return l}return Math.max(i,1)}function RA(n){const t=[];let e,s;for(e=0,s=n.length;e<s;e++)n[e].major&&t.push(e);return t}function PA(n,t,e,s){let i=0,r=e[0],o;for(s=Math.ceil(s),o=0;o<n.length;o++)o===r&&(t.push(n[o]),i++,r=e[i*s])}function gr(n,t,e,s,i){const r=J(s,0),o=Math.min(J(i,n.length),n.length);let a=0,l,c,h;for(e=Math.ceil(e),i&&(l=i-s,e=l/Math.floor(l/e)),h=r;h<0;)a++,h=Math.round(r+a*e);for(c=Math.max(r,0);c<o;c++)c===h&&(t.push(n[c]),a++,h=Math.round(r+a*e))}function DA(n){const t=n.length;let e,s;if(t<2)return!1;for(s=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==s)return!1;return s}const IA=n=>n==="left"?"right":n==="right"?"left":n,Yh=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,Xh=(n,t)=>Math.min(t||n,n);function Zh(n,t){const e=[],s=n.length/t,i=n.length;let r=0;for(;r<i;r+=s)e.push(n[Math.floor(r)]);return e}function BA(n,t,e){const s=n.ticks.length,i=Math.min(t,s-1),r=n._startPixel,o=n._endPixel,a=1e-6;let l=n.getPixelForTick(i),c;if(!(e&&(s===1?c=Math.max(l-r,o-l):t===0?c=(n.getPixelForTick(1)-l)/2:c=(l-n.getPixelForTick(i-1))/2,l+=i<t?c:-c,l<r-a||l>o+a)))return l}function qA(n,t){dt(n,e=>{const s=e.gc,i=s.length/2;let r;if(i>t){for(r=0;r<i;++r)delete e.data[s[r]];s.splice(0,i)}})}function Ws(n){return n.drawTicks?n.tickLength:0}function Jh(n,t){if(!n.display)return 0;const e=kt(n.font,t),s=$t(n.padding);return(_t(n.text)?n.text.length:1)*e.lineHeight+s.height}function FA(n,t){return dn(n,{scale:t,type:"scale"})}function jA(n,t,e){return dn(n,{tick:e,index:t,type:"tick"})}function zA(n,t,e){let s=Pl(n);return(e&&t!=="right"||!e&&t==="right")&&(s=IA(s)),s}function $A(n,t,e,s){const{top:i,left:r,bottom:o,right:a,chart:l}=n,{chartArea:c,scales:h}=l;let u=0,f,g,p;const m=o-i,b=a-r;if(n.isHorizontal()){if(g=Bt(s,r,a),st(e)){const x=Object.keys(e)[0],w=e[x];p=h[x].getPixelForValue(w)+m-t}else e==="center"?p=(c.bottom+c.top)/2+m-t:p=Yh(n,e,t);f=a-r}else{if(st(e)){const x=Object.keys(e)[0],w=e[x];g=h[x].getPixelForValue(w)-b+t}else e==="center"?g=(c.left+c.right)/2-b+t:g=Yh(n,e,t);p=Bt(s,o,i),u=e==="left"?-At:At}return{titleX:g,titleY:p,maxWidth:f,rotation:u}}class Vn extends Ge{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:s,_suggestedMax:i}=this;return t=Jt(t,Number.POSITIVE_INFINITY),e=Jt(e,Number.NEGATIVE_INFINITY),s=Jt(s,Number.POSITIVE_INFINITY),i=Jt(i,Number.NEGATIVE_INFINITY),{min:Jt(t,s),max:Jt(e,i),minDefined:wt(t),maxDefined:wt(e)}}getMinMax(t){let{min:e,max:s,minDefined:i,maxDefined:r}=this.getUserBounds(),o;if(i&&r)return{min:e,max:s};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,t),i||(e=Math.min(e,o.min)),r||(s=Math.max(s,o.max));return e=r&&e>s?s:e,s=i&&e>s?e:s,{min:Jt(e,Jt(s,e)),max:Jt(s,Jt(e,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){mt(this.options.beforeUpdate,[this])}update(t,e,s){const{beginAtZero:i,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Uv(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Zh(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=LA(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,s;this.isHorizontal()?(e=this.left,s=this.right):(e=this.top,s=this.bottom,t=!t),this._startPixel=e,this._endPixel=s,this._reversePixels=t,this._length=s-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){mt(this.options.afterUpdate,[this])}beforeSetDimensions(){mt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){mt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),mt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){mt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let s,i,r;for(s=0,i=t.length;s<i;s++)r=t[s],r.label=mt(e.callback,[r.value,s,t],this)}afterTickToLabelConversion(){mt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){mt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,s=Xh(this.ticks.length,t.ticks.maxTicksLimit),i=e.minRotation||0,r=e.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!e.display||i>=r||s<=1||!this.isHorizontal()){this.labelRotation=i;return}const h=this._getLabelSizes(),u=h.widest.width,f=h.highest.height,g=Ct(this.chart.width-u,0,this.maxWidth);a=t.offset?this.maxWidth/s:g/(s-1),u+6>a&&(a=g/(s-(t.offset?.5:1)),l=this.maxHeight-Ws(t.grid)-e.padding-Jh(t.title,this.chart.options.font),c=Math.sqrt(u*u+f*f),o=Ml(Math.min(Math.asin(Ct((h.highest.height+6)/a,-1,1)),Math.asin(Ct(l/c,-1,1))-Math.asin(Ct(f/c,-1,1)))),o=Math.max(i,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){mt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){mt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:s,title:i,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Jh(i,e.options.font);if(a?(t.width=this.maxWidth,t.height=Ws(r)+l):(t.height=this.maxHeight,t.width=Ws(r)+l),s.display&&this.ticks.length){const{first:c,last:h,widest:u,highest:f}=this._getLabelSizes(),g=s.padding*2,p=ge(this.labelRotation),m=Math.cos(p),b=Math.sin(p);if(a){const x=s.mirror?0:b*u.width+m*f.height;t.height=Math.min(this.maxHeight,t.height+x+g)}else{const x=s.mirror?0:m*u.width+b*f.height;t.width=Math.min(this.maxWidth,t.width+x+g)}this._calculatePadding(c,h,b,m)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,s,i){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,g=0;l?c?(f=i*t.width,g=s*e.height):(f=s*t.height,g=i*e.width):r==="start"?g=e.width:r==="end"?f=t.width:r!=="inner"&&(f=t.width/2,g=e.width/2),this.paddingLeft=Math.max((f-h+o)*this.width/(this.width-h),0),this.paddingRight=Math.max((g-u+o)*this.width/(this.width-u),0)}else{let h=e.height/2,u=t.height/2;r==="start"?(h=0,u=t.height):r==="end"&&(h=e.height,u=0),this.paddingTop=h+o,this.paddingBottom=u+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){mt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,s;for(e=0,s=t.length;e<s;e++)nt(t[e].label)&&(t.splice(e,1),s--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let s=this.ticks;e<s.length&&(s=Zh(s,e)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,s){const{ctx:i,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(e/Xh(e,s));let c=0,h=0,u,f,g,p,m,b,x,w,S,T,E;for(u=0;u<e;u+=l){if(p=t[u].label,m=this._resolveTickFontOptions(u),i.font=b=m.string,x=r[b]=r[b]||{data:{},gc:[]},w=m.lineHeight,S=T=0,!nt(p)&&!_t(p))S=Ir(i,x.data,x.gc,S,p),T=w;else if(_t(p))for(f=0,g=p.length;f<g;++f)E=p[f],!nt(E)&&!_t(E)&&(S=Ir(i,x.data,x.gc,S,E),T+=w);o.push(S),a.push(T),c=Math.max(S,c),h=Math.max(T,h)}qA(r,e);const R=o.indexOf(c),P=a.indexOf(h),B=z=>({width:o[z]||0,height:a[z]||0});return{first:B(0),last:B(e-1),widest:B(R),highest:B(P),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return xv(this._alignToPixels?An(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const s=e[t];return s.$context||(s.$context=jA(this.getContext(),t,s))}return this.$context||(this.$context=FA(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=ge(this.labelRotation),s=Math.abs(Math.cos(e)),i=Math.abs(Math.sin(e)),r=this._getLabelSizes(),o=t.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*s>a*i?a/s:l/i:l*i<a*s?l/s:a/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,s=this.chart,i=this.options,{grid:r,position:o,border:a}=i,l=r.offset,c=this.isHorizontal(),u=this.ticks.length+(l?1:0),f=Ws(r),g=[],p=a.setContext(this.getContext()),m=p.display?p.width:0,b=m/2,x=function(k){return An(s,k,m)};let w,S,T,E,R,P,B,z,K,_,C,A;if(o==="top")w=x(this.bottom),P=this.bottom-f,z=w-b,_=x(t.top)+b,A=t.bottom;else if(o==="bottom")w=x(this.top),_=t.top,A=x(t.bottom)-b,P=w+b,z=this.top+f;else if(o==="left")w=x(this.right),R=this.right-f,B=w-b,K=x(t.left)+b,C=t.right;else if(o==="right")w=x(this.left),K=t.left,C=x(t.right)-b,R=w+b,B=this.left+f;else if(e==="x"){if(o==="center")w=x((t.top+t.bottom)/2+.5);else if(st(o)){const k=Object.keys(o)[0],D=o[k];w=x(this.chart.scales[k].getPixelForValue(D))}_=t.top,A=t.bottom,P=w+b,z=P+f}else if(e==="y"){if(o==="center")w=x((t.left+t.right)/2);else if(st(o)){const k=Object.keys(o)[0],D=o[k];w=x(this.chart.scales[k].getPixelForValue(D))}R=w-b,B=R-f,K=t.left,C=t.right}const I=J(i.ticks.maxTicksLimit,u),M=Math.max(1,Math.ceil(u/I));for(S=0;S<u;S+=M){const k=this.getContext(S),D=r.setContext(k),q=a.setContext(k),j=D.lineWidth,F=D.color,Y=q.dash||[],W=q.dashOffset,Z=D.tickWidth,X=D.tickColor,H=D.tickBorderDash||[],it=D.tickBorderDashOffset;T=BA(this,S,l),T!==void 0&&(E=An(s,T,j),c?R=B=K=C=E:P=z=_=A=E,g.push({tx1:R,ty1:P,tx2:B,ty2:z,x1:K,y1:_,x2:C,y2:A,width:j,color:F,borderDash:Y,borderDashOffset:W,tickWidth:Z,tickColor:X,tickBorderDash:H,tickBorderDashOffset:it}))}return this._ticksLength=u,this._borderValue=w,g}_computeLabelItems(t){const e=this.axis,s=this.options,{position:i,ticks:r}=s,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:h,mirror:u}=r,f=Ws(s.grid),g=f+h,p=u?-h:g,m=-ge(this.labelRotation),b=[];let x,w,S,T,E,R,P,B,z,K,_,C,A="middle";if(i==="top")R=this.bottom-p,P=this._getXAxisLabelAlignment();else if(i==="bottom")R=this.top+p,P=this._getXAxisLabelAlignment();else if(i==="left"){const M=this._getYAxisLabelAlignment(f);P=M.textAlign,E=M.x}else if(i==="right"){const M=this._getYAxisLabelAlignment(f);P=M.textAlign,E=M.x}else if(e==="x"){if(i==="center")R=(t.top+t.bottom)/2+g;else if(st(i)){const M=Object.keys(i)[0],k=i[M];R=this.chart.scales[M].getPixelForValue(k)+g}P=this._getXAxisLabelAlignment()}else if(e==="y"){if(i==="center")E=(t.left+t.right)/2-g;else if(st(i)){const M=Object.keys(i)[0],k=i[M];E=this.chart.scales[M].getPixelForValue(k)}P=this._getYAxisLabelAlignment(f).textAlign}e==="y"&&(l==="start"?A="top":l==="end"&&(A="bottom"));const I=this._getLabelSizes();for(x=0,w=a.length;x<w;++x){S=a[x],T=S.label;const M=r.setContext(this.getContext(x));B=this.getPixelForTick(x)+r.labelOffset,z=this._resolveTickFontOptions(x),K=z.lineHeight,_=_t(T)?T.length:1;const k=_/2,D=M.color,q=M.textStrokeColor,j=M.textStrokeWidth;let F=P;o?(E=B,P==="inner"&&(x===w-1?F=this.options.reverse?"left":"right":x===0?F=this.options.reverse?"right":"left":F="center"),i==="top"?c==="near"||m!==0?C=-_*K+K/2:c==="center"?C=-I.highest.height/2-k*K+K:C=-I.highest.height+K/2:c==="near"||m!==0?C=K/2:c==="center"?C=I.highest.height/2-k*K:C=I.highest.height-_*K,u&&(C*=-1),m!==0&&!M.showLabelBackdrop&&(E+=K/2*Math.sin(m))):(R=B,C=(1-_)*K/2);let Y;if(M.showLabelBackdrop){const W=$t(M.backdropPadding),Z=I.heights[x],X=I.widths[x];let H=C-W.top,it=0-W.left;switch(A){case"middle":H-=Z/2;break;case"bottom":H-=Z;break}switch(P){case"center":it-=X/2;break;case"right":it-=X;break;case"inner":x===w-1?it-=X:x>0&&(it-=X/2);break}Y={left:it,top:H,width:X+W.width,height:Z+W.height,color:M.backdropColor}}b.push({label:T,font:z,textOffset:C,options:{rotation:m,color:D,strokeColor:q,strokeWidth:j,textAlign:F,textBaseline:A,translation:[E,R],backdrop:Y}})}return b}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-ge(this.labelRotation))return t==="top"?"left":"right";let i="center";return e.align==="start"?i="left":e.align==="end"?i="right":e.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:s,mirror:i,padding:r}}=this.options,o=this._getLabelSizes(),a=t+r,l=o.widest.width;let c,h;return e==="left"?i?(h=this.right+r,s==="near"?c="left":s==="center"?(c="center",h+=l/2):(c="right",h+=l)):(h=this.right-a,s==="near"?c="right":s==="center"?(c="center",h-=l/2):(c="left",h=this.left)):e==="right"?i?(h=this.left+r,s==="near"?c="right":s==="center"?(c="center",h-=l/2):(c="left",h-=l)):(h=this.left+a,s==="near"?c="left":s==="center"?(c="center",h+=l/2):(c="right",h=this.right)):c="right",{textAlign:c,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:s,top:i,width:r,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(s,i,r,o),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const i=this.ticks.findIndex(r=>r.value===t);return i>=0?e.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const e=this.options.grid,s=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,o;const a=(l,c,h)=>{!h.width||!h.color||(s.save(),s.lineWidth=h.width,s.strokeStyle=h.color,s.setLineDash(h.borderDash||[]),s.lineDashOffset=h.borderDashOffset,s.beginPath(),s.moveTo(l.x,l.y),s.lineTo(c.x,c.y),s.stroke(),s.restore())};if(e.display)for(r=0,o=i.length;r<o;++r){const l=i[r];e.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),e.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:s,grid:i}}=this,r=s.setContext(this.getContext()),o=s.display?r.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,h,u,f;this.isHorizontal()?(c=An(t,this.left,o)-o/2,h=An(t,this.right,a)+a/2,u=f=l):(u=An(t,this.top,o)-o/2,f=An(t,this.bottom,a)+a/2,c=h=l),e.save(),e.lineWidth=r.width,e.strokeStyle=r.color,e.beginPath(),e.moveTo(c,u),e.lineTo(h,f),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,i=this._computeLabelArea();i&&eo(s,i);const r=this.getLabelItems(t);for(const o of r){const a=o.options,l=o.font,c=o.label,h=o.textOffset;qn(s,c,0,h,l,a)}i&&no(s)}drawTitle(){const{ctx:t,options:{position:e,title:s,reverse:i}}=this;if(!s.display)return;const r=kt(s.font),o=$t(s.padding),a=s.align;let l=r.lineHeight/2;e==="bottom"||e==="center"||st(e)?(l+=o.bottom,_t(s.text)&&(l+=r.lineHeight*(s.text.length-1))):l+=o.top;const{titleX:c,titleY:h,maxWidth:u,rotation:f}=$A(this,l,e,a);qn(t,s.text,0,0,r,{color:s.color,maxWidth:u,rotation:f,textAlign:zA(a,e,i),textBaseline:"middle",translation:[c,h]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,s=J(t.grid&&t.grid.z,-1),i=J(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Vn.prototype.draw?[{z:e,draw:r=>{this.draw(r)}}]:[{z:s,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:e,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",i=[];let r,o;for(r=0,o=e.length;r<o;++r){const a=e[r];a[s]===this.id&&(!t||a.type===t)&&i.push(a)}return i}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return kt(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class pr{constructor(t,e,s){this.type=t,this.scope=e,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let s;VA(e)&&(s=this.register(e));const i=this.items,r=t.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in i||(i[r]=t,HA(t,o,s),this.override&&vt.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const e=this.items,s=t.id,i=this.scope;s in e&&delete e[s],i&&s in vt[i]&&(delete vt[i][s],this.override&&delete Bn[s])}}function HA(n,t,e){const s=gi(Object.create(null),[e?vt.get(e):{},vt.get(t),n.defaults]);vt.set(t,s),n.defaultRoutes&&UA(t,n.defaultRoutes),n.descriptors&&vt.describe(t,n.descriptors)}function UA(n,t){Object.keys(t).forEach(e=>{const s=e.split("."),i=s.pop(),r=[n].concat(s).join("."),o=t[e].split("."),a=o.pop(),l=o.join(".");vt.route(r,i,l,a)})}function VA(n){return"id"in n&&"defaults"in n}class WA{constructor(){this.controllers=new pr(gn,"datasets",!0),this.elements=new pr(Ge,"elements"),this.plugins=new pr(Object,"plugins"),this.scales=new pr(Vn,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,s){[...e].forEach(i=>{const r=s||this._getRegistryForType(i);s||r.isForType(i)||r===this.plugins&&i.id?this._exec(t,r,i):dt(i,o=>{const a=s||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,e,s){const i=Nl(t);mt(s["before"+i],[],s),e[t](s),mt(s["after"+i],[],s)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const s=this._typedRegistries[e];if(s.isForType(t))return s}return this.plugins}_get(t,e,s){const i=e.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+s+".");return i}}var Te=new WA;class KA{constructor(){this._init=void 0}notify(t,e,s,i){if(e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const r=i?this._descriptors(t).filter(i):this._descriptors(t),o=this._notify(r,t,e,s);return e==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),o}_notify(t,e,s,i){i=i||{};for(const r of t){const o=r.plugin,a=o[s],l=[e,i,r.options];if(mt(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){nt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const s=t&&t.config,i=J(s.options&&s.options.plugins,{}),r=GA(s);return i===!1&&!e?[]:XA(t,r,i,e)}_notifyStateChanges(t){const e=this._oldCache||[],s=this._cache,i=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(e,s),t,"stop"),this._notify(i(s,e),t,"start")}}function GA(n){const t={},e=[],s=Object.keys(Te.plugins.items);for(let r=0;r<s.length;r++)e.push(Te.getPlugin(s[r]));const i=n.plugins||[];for(let r=0;r<i.length;r++){const o=i[r];e.indexOf(o)===-1&&(e.push(o),t[o.id]=!0)}return{plugins:e,localIds:t}}function YA(n,t){return!t&&n===!1?null:n===!0?{}:n}function XA(n,{plugins:t,localIds:e},s,i){const r=[],o=n.getContext();for(const a of t){const l=a.id,c=YA(s[l],i);c!==null&&r.push({plugin:a,options:ZA(n.config,{plugin:a,local:e[l]},c,o)})}return r}function ZA(n,{plugin:t,local:e},s,i){const r=n.pluginScopeKeys(t),o=n.getOptionScopes(s,r);return e&&t.defaults&&o.push(t.defaults),n.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ja(n,t){const e=vt.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function JA(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function QA(n,t){return n===t?"_index_":"_value_"}function Qh(n){if(n==="x"||n==="y"||n==="r")return n}function tS(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Qa(n,...t){if(Qh(n))return n;for(const e of t){const s=e.axis||tS(e.position)||n.length>1&&Qh(n[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function tu(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function eS(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(s=>s.xAxisID===n||s.yAxisID===n);if(e.length)return tu(n,"x",e[0])||tu(n,"y",e[0])}return{}}function nS(n,t){const e=Bn[n.type]||{scales:{}},s=t.scales||{},i=Ja(n.type,t),r=Object.create(null);return Object.keys(s).forEach(o=>{const a=s[o];if(!st(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Qa(o,a,eS(o,n),vt.scales[a.type]),c=QA(l,i),h=e.scales||{};r[o]=si(Object.create(null),[{axis:l},a,h[l],h[c]])}),n.data.datasets.forEach(o=>{const a=o.type||n.type,l=o.indexAxis||Ja(a,t),h=(Bn[a]||{}).scales||{};Object.keys(h).forEach(u=>{const f=JA(u,l),g=o[f+"AxisID"]||f;r[g]=r[g]||Object.create(null),si(r[g],[{axis:f},s[g],h[u]])})}),Object.keys(r).forEach(o=>{const a=r[o];si(a,[vt.scales[a.type],vt.scale])}),r}function Wd(n){const t=n.options||(n.options={});t.plugins=J(t.plugins,{}),t.scales=nS(n,t)}function Kd(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function sS(n){return n=n||{},n.data=Kd(n.data),Wd(n),n}const eu=new Map,Gd=new Set;function mr(n,t){let e=eu.get(n);return e||(e=t(),eu.set(n,e),Gd.add(e)),e}const Ks=(n,t,e)=>{const s=cn(t,e);s!==void 0&&n.add(s)};class iS{constructor(t){this._config=sS(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Kd(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Wd(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return mr(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return mr(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return mr(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,s=this.type;return mr(`${s}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const s=this._scopeCache;let i=s.get(t);return(!i||e)&&(i=new Map,s.set(t,i)),i}getOptionScopes(t,e,s){const{options:i,type:r}=this,o=this._cachedScopes(t,s),a=o.get(e);if(a)return a;const l=new Set;e.forEach(h=>{t&&(l.add(t),h.forEach(u=>Ks(l,t,u))),h.forEach(u=>Ks(l,i,u)),h.forEach(u=>Ks(l,Bn[r]||{},u)),h.forEach(u=>Ks(l,vt,u)),h.forEach(u=>Ks(l,Xa,u))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),Gd.has(e)&&o.set(e,c),c}chartOptionScopes(){const{options:t,type:e}=this;return[t,Bn[e]||{},vt.datasets[e]||{},{type:e},vt,Xa]}resolveNamedOptions(t,e,s,i=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=nu(this._resolverCache,t,i);let l=o;if(oS(o,e)){r.$shared=!1,s=hn(s)?s():s;const c=this.createResolver(t,s,a);l=ys(o,s,c)}for(const c of e)r[c]=l[c];return r}createResolver(t,e,s=[""],i){const{resolver:r}=nu(this._resolverCache,t,s);return st(e)?ys(r,e,void 0,i):r}}function nu(n,t,e){let s=n.get(t);s||(s=new Map,n.set(t,s));const i=e.join();let r=s.get(i);return r||(r={resolver:Bl(t,e),subPrefixes:e.filter(a=>!a.toLowerCase().includes("hover"))},s.set(i,r)),r}const rS=n=>st(n)&&Object.getOwnPropertyNames(n).some(t=>hn(n[t]));function oS(n,t){const{isScriptable:e,isIndexable:s}=Ed(n);for(const i of t){const r=e(i),o=s(i),a=(o||r)&&n[i];if(r&&(hn(a)||rS(a))||o&&_t(a))return!0}return!1}var aS="4.5.1";const lS=["top","bottom","left","right","chartArea"];function su(n,t){return n==="top"||n==="bottom"||lS.indexOf(n)===-1&&t==="x"}function iu(n,t){return function(e,s){return e[n]===s[n]?e[t]-s[t]:e[n]-s[n]}}function ru(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),mt(e&&e.onComplete,[n],t)}function cS(n){const t=n.chart,e=t.options.animation;mt(e&&e.onProgress,[n],t)}function Yd(n){return jl()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Er={},ou=n=>{const t=Yd(n);return Object.values(Er).filter(e=>e.canvas===t).pop()};function hS(n,t,e){const s=Object.keys(n);for(const i of s){const r=+i;if(r>=t){const o=n[i];delete n[i],(e>0||r>t)&&(n[r+e]=o)}}}function uS(n,t,e,s){return!e||n.type==="mouseout"?null:s?t:n}class Ul{static defaults=vt;static instances=Er;static overrides=Bn;static registry=Te;static version=aS;static getChart=ou;static register(...t){Te.add(...t),au()}static unregister(...t){Te.remove(...t),au()}constructor(t,e){const s=this.config=new iS(e),i=Yd(t),r=ou(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||CA(i)),this.platform.updateConfig(s);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,h=l&&l.width;if(this.id=ov(),this.ctx=a,this.canvas=l,this.width=h,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new KA,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Av(u=>this.update(u),o.resizeDelay||0),this._dataChanges=[],Er[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}qe.listen(this,"complete",ru),qe.listen(this,"progress",cS),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:s,height:i,_aspectRatio:r}=this;return nt(t)?e&&r?r:i?s/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Te}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ch(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Th(this.canvas,this.ctx),this}stop(){return qe.stop(this),this}resize(t,e){qe.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const s=this.options,i=this.canvas,r=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,t,e,r),a=s.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Ch(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),mt(s.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};dt(e,(s,i)=>{s.id=i})}buildOrUpdateScales(){const t=this.options,e=t.scales,s=this.scales,i=Object.keys(s).reduce((o,a)=>(o[a]=!1,o),{});let r=[];e&&(r=r.concat(Object.keys(e).map(o=>{const a=e[o],l=Qa(o,a),c=l==="r",h=l==="x";return{options:a,dposition:c?"chartArea":h?"bottom":"left",dtype:c?"radialLinear":h?"category":"linear"}}))),dt(r,o=>{const a=o.options,l=a.id,c=Qa(l,a),h=J(a.type,o.dtype);(a.position===void 0||su(a.position,c)!==su(o.dposition))&&(a.position=o.dposition),i[l]=!0;let u=null;if(l in s&&s[l].type===h)u=s[l];else{const f=Te.getScale(h);u=new f({id:l,type:h,ctx:this.ctx,chart:this}),s[u.id]=u}u.init(a,t)}),dt(i,(o,a)=>{o||delete s[a]}),dt(s,o=>{zt.configure(this,o,o.options),zt.addBox(this,o)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,s=t.length;if(t.sort((i,r)=>i.index-r.index),s>e){for(let i=e;i<s;++i)this._destroyDatasetMeta(i);t.splice(e,s-e)}this._sortedMetasets=t.slice(0).sort(iu("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((s,i)=>{e.filter(r=>r===s._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let s,i;for(this._removeUnreferencedMetasets(),s=0,i=e.length;s<i;s++){const r=e[s];let o=this.getDatasetMeta(s);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=a,o.indexAxis=r.indexAxis||Ja(a,this.options),o.order=r.order||0,o.index=s,o.label=""+r.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const l=Te.getController(a),{datasetElementType:c,dataElementType:h}=vt.datasets[a];Object.assign(l,{dataElementType:Te.getElement(h),datasetElementType:c&&Te.getElement(c)}),o.controller=new l(this,s),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){dt(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const s=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,h=this.data.datasets.length;c<h;c++){const{controller:u}=this.getDatasetMeta(c),f=!i&&r.indexOf(u)===-1;u.buildOrUpdateElements(f),o=Math.max(+u.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),i||dt(r,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(iu("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){dt(this.scales,t=>{zt.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!bh(e,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:s,start:i,count:r}of e){const o=s==="_removeElements"?-r:r;hS(t,i,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,s=r=>new Set(t.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),i=s(0);for(let r=1;r<e;r++)if(!bh(i,s(r)))return;return Array.from(i).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;zt.update(this,this.width,this.height,t);const e=this.chartArea,s=e.width<=0||e.height<=0;this._layers=[],dt(this.boxes,i=>{s&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,r)=>{i._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,s=this.data.datasets.length;e<s;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,s=this.data.datasets.length;e<s;++e)this._updateDataset(e,hn(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const s=this.getDatasetMeta(t),i={meta:s,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(s.controller._update(e),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(qe.has(this)?this.attached&&!qe.running(this)&&qe.start(this):(this.draw(),ru({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,s=[];let i,r;for(i=0,r=e.length;i<r;++i){const o=e[i];(!t||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,s={meta:t,index:t.index,cancelable:!0},i=Id(this,t);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(i&&eo(e,i),t.controller.draw(),i&&no(e),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return He(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,s,i){const r=lA.modes[e];return typeof r=="function"?r(this,t,s,i):[]}getDatasetMeta(t){const e=this.data.datasets[t],s=this._metasets;let i=s.filter(r=>r&&r._dataset===e).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},s.push(i)),i}getContext(){return this.$context||(this.$context=dn(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const s=this.getDatasetMeta(t);return typeof s.hidden=="boolean"?!s.hidden:!e.hidden}setDatasetVisibility(t,e){const s=this.getDatasetMeta(t);s.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,s){const i=s?"show":"hide",r=this.getDatasetMeta(t),o=r.controller._resolveAnimations(void 0,i);pi(e)?(r.data[e].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),o.update(r,{visible:s}),this.update(a=>a.datasetIndex===t?i:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),qe.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Th(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Er[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,s=(r,o)=>{e.addEventListener(this,r,o),t[r]=o},i=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};dt(this.options.events,r=>s(r,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,s=(l,c)=>{e.addEventListener(this,l,c),t[l]=c},i=(l,c)=>{t[l]&&(e.removeEventListener(this,l,c),delete t[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),s("resize",r),s("detach",o)};o=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),s("attach",a)},e.isAttached(this.canvas)?a():o()}unbindEvents(){dt(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},dt(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,s){const i=s?"set":"remove";let r,o,a,l;for(e==="dataset"&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],s=t.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!Rr(s,e)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,e))}notifyPlugins(t,e,s){return this._plugins.notify(this,t,e,s)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,s){const i=this.options.hover,r=(l,c)=>l.filter(h=>!c.some(u=>h.datasetIndex===u.datasetIndex&&h.index===u.index)),o=r(e,t),a=s?t:r(t,e);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(t,e){const s={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},i=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,i)===!1)return;const r=this._handleEvent(t,e,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,i),(r||s.changed)&&this.render(),this}_handleEvent(t,e,s){const{_active:i=[],options:r}=this,o=e,a=this._getActiveElements(t,i,s,o),l=fv(t),c=uS(t,this._lastEvent,s,l);s&&(this._lastEvent=null,mt(r.onHover,[t,a,this],this),l&&mt(r.onClick,[t,a,this],this));const h=!Rr(a,i);return(h||e)&&(this._active=a,this._updateHoverStyles(a,i,e)),this._lastEvent=c,h}_getActiveElements(t,e,s,i){if(t.type==="mouseout")return[];if(!s)return e;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,i)}}function au(){return dt(Ul.instances,n=>n._plugins.invalidate())}function fS(n,t,e){const{startAngle:s,x:i,y:r,outerRadius:o,innerRadius:a,options:l}=t,{borderWidth:c,borderJoinStyle:h}=l,u=Math.min(c/o,qt(s-e));if(n.beginPath(),n.arc(i,r,o-c/2,s+u/2,e-u/2),a>0){const f=Math.min(c/a,qt(s-e));n.arc(i,r,a+c/2,e-f/2,s+f/2,!0)}else{const f=Math.min(c/2,o*qt(s-e));if(h==="round")n.arc(i,r,f,e-at/2,s+at/2,!0);else if(h==="bevel"){const g=2*f*f,p=-g*Math.cos(e+at/2)+i,m=-g*Math.sin(e+at/2)+r,b=g*Math.cos(s+at/2)+i,x=g*Math.sin(s+at/2)+r;n.lineTo(p,m),n.lineTo(b,x)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function dS(n,t,e){const{startAngle:s,pixelMargin:i,x:r,y:o,outerRadius:a,innerRadius:l}=t;let c=i/a;n.beginPath(),n.arc(r,o,a,s-c,e+c),l>i?(c=i/l,n.arc(r,o,l,e+c,s-c,!0)):n.arc(r,o,i,e+At,s-At),n.closePath(),n.clip()}function gS(n){return Il(n,["outerStart","outerEnd","innerStart","innerEnd"])}function pS(n,t,e,s){const i=gS(n.options.borderRadius),r=(e-t)/2,o=Math.min(r,s*t/2),a=l=>{const c=(e-Math.min(r,l))*s/2;return Ct(l,0,Math.min(r,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:Ct(i.innerStart,0,o),innerEnd:Ct(i.innerEnd,0,o)}}function is(n,t,e,s){return{x:e+n*Math.cos(t),y:s+n*Math.sin(t)}}function Fr(n,t,e,s,i,r){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:h}=t,u=Math.max(t.outerRadius+s+e-c,0),f=h>0?h+s+e+c:0;let g=0;const p=i-l;if(s){const M=h>0?h-s:0,k=u>0?u-s:0,D=(M+k)/2,q=D!==0?p*D/(D+s):p;g=(p-q)/2}const m=Math.max(.001,p*u-e/at)/u,b=(p-m)/2,x=l+b+g,w=i-b-g,{outerStart:S,outerEnd:T,innerStart:E,innerEnd:R}=pS(t,f,u,w-x),P=u-S,B=u-T,z=x+S/P,K=w-T/B,_=f+E,C=f+R,A=x+E/_,I=w-R/C;if(n.beginPath(),r){const M=(z+K)/2;if(n.arc(o,a,u,z,M),n.arc(o,a,u,M,K),T>0){const j=is(B,K,o,a);n.arc(j.x,j.y,T,K,w+At)}const k=is(C,w,o,a);if(n.lineTo(k.x,k.y),R>0){const j=is(C,I,o,a);n.arc(j.x,j.y,R,w+At,I+Math.PI)}const D=(w-R/f+(x+E/f))/2;if(n.arc(o,a,f,w-R/f,D,!0),n.arc(o,a,f,D,x+E/f,!0),E>0){const j=is(_,A,o,a);n.arc(j.x,j.y,E,A+Math.PI,x-At)}const q=is(P,x,o,a);if(n.lineTo(q.x,q.y),S>0){const j=is(P,z,o,a);n.arc(j.x,j.y,S,x-At,z)}}else{n.moveTo(o,a);const M=Math.cos(z)*u+o,k=Math.sin(z)*u+a;n.lineTo(M,k);const D=Math.cos(K)*u+o,q=Math.sin(K)*u+a;n.lineTo(D,q)}n.closePath()}function mS(n,t,e,s,i){const{fullCircles:r,startAngle:o,circumference:a}=t;let l=t.endAngle;if(r){Fr(n,t,e,s,l,i);for(let c=0;c<r;++c)n.fill();isNaN(a)||(l=o+(a%yt||yt))}return Fr(n,t,e,s,l,i),n.fill(),l}function bS(n,t,e,s,i){const{fullCircles:r,startAngle:o,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:h,borderDash:u,borderDashOffset:f,borderRadius:g}=l,p=l.borderAlign==="inner";if(!c)return;n.setLineDash(u||[]),n.lineDashOffset=f,p?(n.lineWidth=c*2,n.lineJoin=h||"round"):(n.lineWidth=c,n.lineJoin=h||"bevel");let m=t.endAngle;if(r){Fr(n,t,e,s,m,i);for(let b=0;b<r;++b)n.stroke();isNaN(a)||(m=o+(a%yt||yt))}p&&dS(n,t,m),l.selfJoin&&m-o>=at&&g===0&&h!=="miter"&&fS(n,t,m),r||(Fr(n,t,e,s,m,i),n.stroke())}class yS extends Ge{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,s){const i=this.getProps(["x","y"],s),{angle:r,distance:o}=pd(i,{x:t,y:e}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:h,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),f=(this.options.spacing+this.options.borderWidth)/2,g=J(u,l-a),p=mi(r,a,l)&&a!==l,m=g>=yt||p,b=ze(o,c+f,h+f);return m&&b}getCenterPoint(t){const{x:e,y:s,startAngle:i,endAngle:r,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:l,spacing:c}=this.options,h=(i+r)/2,u=(o+a+c+l)/2;return{x:e+Math.cos(h)*u,y:s+Math.sin(h)*u}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:s}=this,i=(e.offset||0)/4,r=(e.spacing||0)/2,o=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=s>yt?Math.floor(s/yt):0,s===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*i,Math.sin(a)*i);const l=1-Math.sin(Math.min(at,s||0)),c=i*l;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,mS(t,this,c,r,o),bS(t,this,c,r,o),t.restore()}}function Xd(n,t,e=t){n.lineCap=J(e.borderCapStyle,t.borderCapStyle),n.setLineDash(J(e.borderDash,t.borderDash)),n.lineDashOffset=J(e.borderDashOffset,t.borderDashOffset),n.lineJoin=J(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=J(e.borderWidth,t.borderWidth),n.strokeStyle=J(e.borderColor,t.borderColor)}function xS(n,t,e){n.lineTo(e.x,e.y)}function _S(n){return n.stepped?Dv:n.tension||n.cubicInterpolationMode==="monotone"?Iv:xS}function Zd(n,t,e={}){const s=n.length,{start:i=0,end:r=s-1}=e,{start:o,end:a}=t,l=Math.max(i,o),c=Math.min(r,a),h=i<o&&r<o||i>a&&r>a;return{count:s,start:l,loop:t.loop,ilen:c<l&&!h?s+c-l:c-l}}function vS(n,t,e,s){const{points:i,options:r}=t,{count:o,start:a,loop:l,ilen:c}=Zd(i,e,s),h=_S(r);let{move:u=!0,reverse:f}=s||{},g,p,m;for(g=0;g<=c;++g)p=i[(a+(f?c-g:g))%o],!p.skip&&(u?(n.moveTo(p.x,p.y),u=!1):h(n,m,p,f,r.stepped),m=p);return l&&(p=i[(a+(f?c:0))%o],h(n,m,p,f,r.stepped)),!!l}function wS(n,t,e,s){const i=t.points,{count:r,start:o,ilen:a}=Zd(i,e,s),{move:l=!0,reverse:c}=s||{};let h=0,u=0,f,g,p,m,b,x;const w=T=>(o+(c?a-T:T))%r,S=()=>{m!==b&&(n.lineTo(h,b),n.lineTo(h,m),n.lineTo(h,x))};for(l&&(g=i[w(0)],n.moveTo(g.x,g.y)),f=0;f<=a;++f){if(g=i[w(f)],g.skip)continue;const T=g.x,E=g.y,R=T|0;R===p?(E<m?m=E:E>b&&(b=E),h=(u*h+T)/++u):(S(),n.lineTo(T,E),p=R,u=0,m=b=E),x=E}S()}function tl(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?wS:vS}function AS(n){return n.stepped?gw:n.tension||n.cubicInterpolationMode==="monotone"?pw:On}function SS(n,t,e,s){let i=t._path;i||(i=t._path=new Path2D,t.path(i,e,s)&&i.closePath()),Xd(n,t.options),n.stroke(i)}function ES(n,t,e,s){const{segments:i,options:r}=t,o=tl(t);for(const a of i)Xd(n,r,a.style),n.beginPath(),o(n,t,a,{start:e,end:e+s-1})&&n.closePath(),n.stroke()}const TS=typeof Path2D=="function";function OS(n,t,e,s){TS&&!t.options.segment?SS(n,t,e,s):ES(n,t,e,s)}class ro extends Ge{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const i=s.spanGaps?this._loop:this._fullLoop;ow(this._points,s,t,i,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=vw(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,s=t.length;return s&&e[t[s-1].end]}interpolate(t,e){const s=this.options,i=t[e],r=this.points,o=Dd(this,{property:e,start:i,end:i});if(!o.length)return;const a=[],l=AS(s);let c,h;for(c=0,h=o.length;c<h;++c){const{start:u,end:f}=o[c],g=r[u],p=r[f];if(g===p){a.push(g);continue}const m=Math.abs((i-g[e])/(p[e]-g[e])),b=l(g,p,m,s.stepped);b[e]=t[e],a.push(b)}return a.length===1?a[0]:a}pathSegment(t,e,s){return tl(this)(t,this,e,s)}path(t,e,s){const i=this.segments,r=tl(this);let o=this._loop;e=e||0,s=s||this.points.length-e;for(const a of i)o&=r(t,this,a,{start:e,end:e+s-1});return!!o}draw(t,e,s,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),OS(t,this,s,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function lu(n,t,e,s){const i=n.options,{[e]:r}=n.getProps([e],s);return Math.abs(t-r)<i.radius+i.hitRadius}class kS extends Ge{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,s){const i=this.options,{x:r,y:o}=this.getProps(["x","y"],s);return Math.pow(t-r,2)+Math.pow(e-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(t,e){return lu(this,t,"x",e)}inYRange(t,e){return lu(this,t,"y",e)}getCenterPoint(t){const{x:e,y:s}=this.getProps(["x","y"],t);return{x:e,y:s}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const s=e&&t.borderWidth||0;return(e+s)*2}draw(t,e){const s=this.options;this.skip||s.radius<.1||!He(this,e,this.size(s)/2)||(t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.fillStyle=s.backgroundColor,Za(t,s,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function Jd(n,t){const{x:e,y:s,base:i,width:r,height:o}=n.getProps(["x","y","base","width","height"],t);let a,l,c,h,u;return n.horizontal?(u=o/2,a=Math.min(e,i),l=Math.max(e,i),c=s-u,h=s+u):(u=r/2,a=e-u,l=e+u,c=Math.min(s,i),h=Math.max(s,i)),{left:a,top:c,right:l,bottom:h}}function sn(n,t,e,s){return n?0:Ct(t,e,s)}function CS(n,t,e){const s=n.options.borderWidth,i=n.borderSkipped,r=Sd(s);return{t:sn(i.top,r.top,0,e),r:sn(i.right,r.right,0,t),b:sn(i.bottom,r.bottom,0,e),l:sn(i.left,r.left,0,t)}}function LS(n,t,e){const{enableBorderRadius:s}=n.getProps(["enableBorderRadius"]),i=n.options.borderRadius,r=Ln(i),o=Math.min(t,e),a=n.borderSkipped,l=s||st(i);return{topLeft:sn(!l||a.top||a.left,r.topLeft,0,o),topRight:sn(!l||a.top||a.right,r.topRight,0,o),bottomLeft:sn(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:sn(!l||a.bottom||a.right,r.bottomRight,0,o)}}function NS(n){const t=Jd(n),e=t.right-t.left,s=t.bottom-t.top,i=CS(n,e/2,s/2),r=LS(n,e/2,s/2);return{outer:{x:t.left,y:t.top,w:e,h:s,radius:r},inner:{x:t.left+i.l,y:t.top+i.t,w:e-i.l-i.r,h:s-i.t-i.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,r.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(i.b,i.r))}}}}function Aa(n,t,e,s){const i=t===null,r=e===null,a=n&&!(i&&r)&&Jd(n,s);return a&&(i||ze(t,a.left,a.right))&&(r||ze(e,a.top,a.bottom))}function MS(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function RS(n,t){n.rect(t.x,t.y,t.w,t.h)}function Sa(n,t,e={}){const s=n.x!==e.x?-t:0,i=n.y!==e.y?-t:0,r=(n.x+n.w!==e.x+e.w?t:0)-s,o=(n.y+n.h!==e.y+e.h?t:0)-i;return{x:n.x+s,y:n.y+i,w:n.w+r,h:n.h+o,radius:n.radius}}class PS extends Ge{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:s,backgroundColor:i}}=this,{inner:r,outer:o}=NS(this),a=MS(o.radius)?bi:RS;t.save(),(o.w!==r.w||o.h!==r.h)&&(t.beginPath(),a(t,Sa(o,e,r)),t.clip(),a(t,Sa(r,-e,o)),t.fillStyle=s,t.fill("evenodd")),t.beginPath(),a(t,Sa(r,e)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,e,s){return Aa(this,t,e,s)}inXRange(t,e){return Aa(this,t,null,e)}inYRange(t,e){return Aa(this,null,t,e)}getCenterPoint(t){const{x:e,y:s,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(e+i)/2:e,y:r?s:(s+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}var DS=Object.freeze({__proto__:null,ArcElement:yS,BarElement:PS,LineElement:ro,PointElement:kS});const el=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],cu=el.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function Qd(n){return el[n%el.length]}function tg(n){return cu[n%cu.length]}function IS(n,t){return n.borderColor=Qd(t),n.backgroundColor=tg(t),++t}function BS(n,t){return n.backgroundColor=n.data.map(()=>Qd(t++)),t}function qS(n,t){return n.backgroundColor=n.data.map(()=>tg(t++)),t}function FS(n){let t=0;return(e,s)=>{const i=n.getDatasetMeta(s).controller;i instanceof $l?t=BS(e,t):i instanceof jd?t=qS(e,t):i&&(t=IS(e,t))}}function hu(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}function jS(n){return n&&(n.borderColor||n.backgroundColor)}function zS(){return vt.borderColor!=="rgba(0,0,0,0.1)"||vt.backgroundColor!=="rgba(0,0,0,0.1)"}var $S={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;const{data:{datasets:s},options:i}=n.config,{elements:r}=i,o=hu(s)||jS(i)||r&&hu(r)||zS();if(!e.forceOverride&&o)return;const a=FS(n);s.forEach(a)}};function HS(n,t,e,s,i){const r=i.samples||s;if(r>=e)return n.slice(t,t+e);const o=[],a=(e-2)/(r-2);let l=0;const c=t+e-1;let h=t,u,f,g,p,m;for(o[l++]=n[h],u=0;u<r-2;u++){let b=0,x=0,w;const S=Math.floor((u+1)*a)+1+t,T=Math.min(Math.floor((u+2)*a)+1,e)+t,E=T-S;for(w=S;w<T;w++)b+=n[w].x,x+=n[w].y;b/=E,x/=E;const R=Math.floor(u*a)+1+t,P=Math.min(Math.floor((u+1)*a)+1,e)+t,{x:B,y:z}=n[h];for(g=p=-1,w=R;w<P;w++)p=.5*Math.abs((B-b)*(n[w].y-z)-(B-n[w].x)*(x-z)),p>g&&(g=p,f=n[w],m=w);o[l++]=f,h=m}return o[l++]=n[c],o}function US(n,t,e,s){let i=0,r=0,o,a,l,c,h,u,f,g,p,m;const b=[],x=t+e-1,w=n[t].x,T=n[x].x-w;for(o=t;o<t+e;++o){a=n[o],l=(a.x-w)/T*s,c=a.y;const E=l|0;if(E===h)c<p?(p=c,u=o):c>m&&(m=c,f=o),i=(r*i+a.x)/++r;else{const R=o-1;if(!nt(u)&&!nt(f)){const P=Math.min(u,f),B=Math.max(u,f);P!==g&&P!==R&&b.push({...n[P],x:i}),B!==g&&B!==R&&b.push({...n[B],x:i})}o>0&&R!==g&&b.push(n[R]),b.push(a),h=E,r=0,p=m=c,u=f=g=o}}return b}function eg(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function uu(n){n.data.datasets.forEach(t=>{eg(t)})}function VS(n,t){const e=t.length;let s=0,i;const{iScale:r}=n,{min:o,max:a,minDefined:l,maxDefined:c}=r.getUserBounds();return l&&(s=Ct($e(t,r.axis,o).lo,0,e-1)),c?i=Ct($e(t,r.axis,a).hi+1,s,e)-s:i=e-s,{start:s,count:i}}var WS={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled){uu(n);return}const s=n.width;n.data.datasets.forEach((i,r)=>{const{_data:o,indexAxis:a}=i,l=n.getDatasetMeta(r),c=o||i.data;if(Js([a,n.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const h=n.scales[l.xAxisID];if(h.type!=="linear"&&h.type!=="time"||n.options.parsing)return;let{start:u,count:f}=VS(l,c);const g=e.threshold||4*s;if(f<=g){eg(i);return}nt(o)&&(i._data=c,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(m){this._data=m}}));let p;switch(e.algorithm){case"lttb":p=HS(c,u,f,s,e);break;case"min-max":p=US(c,u,f,s);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}i._decimated=p})},destroy(n){uu(n)}};function KS(n,t,e){const s=n.segments,i=n.points,r=t.points,o=[];for(const a of s){let{start:l,end:c}=a;c=oo(l,c,i);const h=nl(e,i[l],i[c],a.loop);if(!t.segments){o.push({source:a,target:h,start:i[l],end:i[c]});continue}const u=Dd(t,h);for(const f of u){const g=nl(e,r[f.start],r[f.end],f.loop),p=Pd(a,i,g);for(const m of p)o.push({source:m,target:f,start:{[e]:fu(h,g,"start",Math.max)},end:{[e]:fu(h,g,"end",Math.min)}})}}return o}function nl(n,t,e,s){if(s)return;let i=t[n],r=e[n];return n==="angle"&&(i=qt(i),r=qt(r)),{property:n,start:i,end:r}}function GS(n,t){const{x:e=null,y:s=null}=n||{},i=t.points,r=[];return t.segments.forEach(({start:o,end:a})=>{a=oo(o,a,i);const l=i[o],c=i[a];s!==null?(r.push({x:l.x,y:s}),r.push({x:c.x,y:s})):e!==null&&(r.push({x:e,y:l.y}),r.push({x:e,y:c.y}))}),r}function oo(n,t,e){for(;t>n;t--){const s=e[t];if(!isNaN(s.x)&&!isNaN(s.y))break}return t}function fu(n,t,e,s){return n&&t?s(n[e],t[e]):n?n[e]:t?t[e]:0}function ng(n,t){let e=[],s=!1;return _t(n)?(s=!0,e=n):e=GS(n,t),e.length?new ro({points:e,options:{tension:0},_loop:s,_fullLoop:s}):null}function du(n){return n&&n.fill!==!1}function YS(n,t,e){let i=n[t].fill;const r=[t];let o;if(!e)return i;for(;i!==!1&&r.indexOf(i)===-1;){if(!wt(i))return i;if(o=n[i],!o)return!1;if(o.visible)return i;r.push(i),i=o.fill}return!1}function XS(n,t,e){const s=tE(n);if(st(s))return isNaN(s.value)?!1:s;let i=parseFloat(s);return wt(i)&&Math.floor(i)===i?ZS(s[0],t,i,e):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function ZS(n,t,e,s){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=s?!1:e}function JS(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:st(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function QS(n,t,e){let s;return n==="start"?s=e:n==="end"?s=t.options.reverse?t.min:t.max:st(n)?s=n.value:s=t.getBaseValue(),s}function tE(n){const t=n.options,e=t.fill;let s=J(e&&e.target,e);return s===void 0&&(s=!!t.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function eE(n){const{scale:t,index:e,line:s}=n,i=[],r=s.segments,o=s.points,a=nE(t,e);a.push(ng({x:null,y:t.bottom},s));for(let l=0;l<r.length;l++){const c=r[l];for(let h=c.start;h<=c.end;h++)sE(i,o[h],a)}return new ro({points:i,options:{}})}function nE(n,t){const e=[],s=n.getMatchingVisibleMetas("line");for(let i=0;i<s.length;i++){const r=s[i];if(r.index===t)break;r.hidden||e.unshift(r.dataset)}return e}function sE(n,t,e){const s=[];for(let i=0;i<e.length;i++){const r=e[i],{first:o,last:a,point:l}=iE(r,t,"x");if(!(!l||o&&a)){if(o)s.unshift(l);else if(n.push(l),!a)break}}n.push(...s)}function iE(n,t,e){const s=n.interpolate(t,e);if(!s)return{};const i=s[e],r=n.segments,o=n.points;let a=!1,l=!1;for(let c=0;c<r.length;c++){const h=r[c],u=o[h.start][e],f=o[h.end][e];if(ze(i,u,f)){a=i===u,l=i===f;break}}return{first:a,last:l,point:s}}class sg{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,s){const{x:i,y:r,radius:o}=this;return e=e||{start:0,end:yt},t.arc(i,r,o,e.end,e.start,!0),!s.bounds}interpolate(t){const{x:e,y:s,radius:i}=this,r=t.angle;return{x:e+Math.cos(r)*i,y:s+Math.sin(r)*i,angle:r}}}function rE(n){const{chart:t,fill:e,line:s}=n;if(wt(e))return oE(t,e);if(e==="stack")return eE(n);if(e==="shape")return!0;const i=aE(n);return i instanceof sg?i:ng(i,s)}function oE(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function aE(n){return(n.scale||{}).getPointPositionForValue?cE(n):lE(n)}function lE(n){const{scale:t={},fill:e}=n,s=JS(e,t);if(wt(s)){const i=t.isHorizontal();return{x:i?s:null,y:i?null:s}}return null}function cE(n){const{scale:t,fill:e}=n,s=t.options,i=t.getLabels().length,r=s.reverse?t.max:t.min,o=QS(e,t,r),a=[];if(s.grid.circular){const l=t.getPointPositionForValue(0,r);return new sg({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<i;++l)a.push(t.getPointPositionForValue(l,o));return a}function Ea(n,t,e){const s=rE(t),{chart:i,index:r,line:o,scale:a,axis:l}=t,c=o.options,h=c.fill,u=c.backgroundColor,{above:f=u,below:g=u}=h||{},p=i.getDatasetMeta(r),m=Id(i,p);s&&o.points.length&&(eo(n,e),hE(n,{line:o,target:s,above:f,below:g,area:e,scale:a,axis:l,clip:m}),no(n))}function hE(n,t){const{line:e,target:s,above:i,below:r,area:o,scale:a,clip:l}=t,c=e._loop?"angle":t.axis;n.save();let h=r;r!==i&&(c==="x"?(gu(n,s,o.top),Ta(n,{line:e,target:s,color:i,scale:a,property:c,clip:l}),n.restore(),n.save(),gu(n,s,o.bottom)):c==="y"&&(pu(n,s,o.left),Ta(n,{line:e,target:s,color:r,scale:a,property:c,clip:l}),n.restore(),n.save(),pu(n,s,o.right),h=i)),Ta(n,{line:e,target:s,color:h,scale:a,property:c,clip:l}),n.restore()}function gu(n,t,e){const{segments:s,points:i}=t;let r=!0,o=!1;n.beginPath();for(const a of s){const{start:l,end:c}=a,h=i[l],u=i[oo(l,c,i)];r?(n.moveTo(h.x,h.y),r=!1):(n.lineTo(h.x,e),n.lineTo(h.x,h.y)),o=!!t.pathSegment(n,a,{move:o}),o?n.closePath():n.lineTo(u.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function pu(n,t,e){const{segments:s,points:i}=t;let r=!0,o=!1;n.beginPath();for(const a of s){const{start:l,end:c}=a,h=i[l],u=i[oo(l,c,i)];r?(n.moveTo(h.x,h.y),r=!1):(n.lineTo(e,h.y),n.lineTo(h.x,h.y)),o=!!t.pathSegment(n,a,{move:o}),o?n.closePath():n.lineTo(e,u.y)}n.lineTo(e,t.first().y),n.closePath(),n.clip()}function Ta(n,t){const{line:e,target:s,property:i,color:r,scale:o,clip:a}=t,l=KS(e,s,i);for(const{source:c,target:h,start:u,end:f}of l){const{style:{backgroundColor:g=r}={}}=c,p=s!==!0;n.save(),n.fillStyle=g,uE(n,o,a,p&&nl(i,u,f)),n.beginPath();const m=!!e.pathSegment(n,c);let b;if(p){m?n.closePath():mu(n,s,f,i);const x=!!s.pathSegment(n,h,{move:m,reverse:!0});b=m&&x,b||mu(n,s,u,i)}n.closePath(),n.fill(b?"evenodd":"nonzero"),n.restore()}}function uE(n,t,e,s){const i=t.chart.chartArea,{property:r,start:o,end:a}=s||{};if(r==="x"||r==="y"){let l,c,h,u;r==="x"?(l=o,c=i.top,h=a,u=i.bottom):(l=i.left,c=o,h=i.right,u=a),n.beginPath(),e&&(l=Math.max(l,e.left),h=Math.min(h,e.right),c=Math.max(c,e.top),u=Math.min(u,e.bottom)),n.rect(l,c,h-l,u-c),n.clip()}}function mu(n,t,e,s){const i=t.interpolate(e,s);i&&n.lineTo(i.x,i.y)}var fE={id:"filler",afterDatasetsUpdate(n,t,e){const s=(n.data.datasets||[]).length,i=[];let r,o,a,l;for(o=0;o<s;++o)r=n.getDatasetMeta(o),a=r.dataset,l=null,a&&a.options&&a instanceof ro&&(l={visible:n.isDatasetVisible(o),index:o,fill:XS(a,o,s),chart:n,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,i.push(l);for(o=0;o<s;++o)l=i[o],!(!l||l.fill===!1)&&(l.fill=YS(i,o,e.propagate))},beforeDraw(n,t,e){const s=e.drawTime==="beforeDraw",i=n.getSortedVisibleDatasetMetas(),r=n.chartArea;for(let o=i.length-1;o>=0;--o){const a=i[o].$filler;a&&(a.line.updateControlPoints(r,a.axis),s&&a.fill&&Ea(n.ctx,a,r))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const s=n.getSortedVisibleDatasetMetas();for(let i=s.length-1;i>=0;--i){const r=s[i].$filler;du(r)&&Ea(n.ctx,r,n.chartArea)}},beforeDatasetDraw(n,t,e){const s=t.meta.$filler;!du(s)||e.drawTime!=="beforeDatasetDraw"||Ea(n.ctx,s,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const bu=(n,t)=>{let{boxHeight:e=t,boxWidth:s=t}=n;return n.usePointStyle&&(e=Math.min(e,t),s=n.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:e,itemHeight:Math.max(t,e)}},dE=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class yu extends Ge{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,s){this.maxWidth=t,this.maxHeight=e,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=mt(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(s=>t.filter(s,this.chart.data))),t.sort&&(e=e.sort((s,i)=>t.sort(s,i,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const s=t.labels,i=kt(s.font),r=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=bu(s,r);let c,h;e.font=i.string,this.isHorizontal()?(c=this.maxWidth,h=this._fitRows(o,r,a,l)+10):(h=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(h,t.maxHeight||this.maxHeight)}_fitRows(t,e,s,i){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],h=i+a;let u=t;r.textAlign="left",r.textBaseline="middle";let f=-1,g=-h;return this.legendItems.forEach((p,m)=>{const b=s+e/2+r.measureText(p.text).width;(m===0||c[c.length-1]+b+2*a>o)&&(u+=h,c[c.length-(m>0?0:1)]=0,g+=h,f++),l[m]={left:0,top:g,row:f,width:b,height:i},c[c.length-1]+=b+a}),u}_fitCols(t,e,s,i){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],h=o-t;let u=a,f=0,g=0,p=0,m=0;return this.legendItems.forEach((b,x)=>{const{itemWidth:w,itemHeight:S}=gE(s,e,r,b,i);x>0&&g+S+2*a>h&&(u+=f+a,c.push({width:f,height:g}),p+=f+a,m++,f=g=0),l[x]={left:p,top:g,col:m,width:w,height:S},f=Math.max(f,w),g+=S+a}),u+=f,c.push({width:f,height:g}),u}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:s,labels:{padding:i},rtl:r}}=this,o=ds(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=Bt(s,this.left+i,this.right-this.lineWidths[a]);for(const c of e)a!==c.row&&(a=c.row,l=Bt(s,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+t+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=Bt(s,this.top+t+i,this.bottom-this.columnSizes[a].height);for(const c of e)c.col!==a&&(a=c.col,l=Bt(s,this.top+t+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;eo(t,this),this._draw(),no(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:s,ctx:i}=this,{align:r,labels:o}=t,a=vt.color,l=ds(t.rtl,this.left,this.width),c=kt(o.font),{padding:h}=o,u=c.size,f=u/2;let g;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:p,boxHeight:m,itemHeight:b}=bu(o,u),x=function(R,P,B){if(isNaN(p)||p<=0||isNaN(m)||m<0)return;i.save();const z=J(B.lineWidth,1);if(i.fillStyle=J(B.fillStyle,a),i.lineCap=J(B.lineCap,"butt"),i.lineDashOffset=J(B.lineDashOffset,0),i.lineJoin=J(B.lineJoin,"miter"),i.lineWidth=z,i.strokeStyle=J(B.strokeStyle,a),i.setLineDash(J(B.lineDash,[])),o.usePointStyle){const K={radius:m*Math.SQRT2/2,pointStyle:B.pointStyle,rotation:B.rotation,borderWidth:z},_=l.xPlus(R,p/2),C=P+f;Ad(i,K,_,C,o.pointStyleWidth&&p)}else{const K=P+Math.max((u-m)/2,0),_=l.leftForLtr(R,p),C=Ln(B.borderRadius);i.beginPath(),Object.values(C).some(A=>A!==0)?bi(i,{x:_,y:K,w:p,h:m,radius:C}):i.rect(_,K,p,m),i.fill(),z!==0&&i.stroke()}i.restore()},w=function(R,P,B){qn(i,B.text,R,P+b/2,c,{strikethrough:B.hidden,textAlign:l.textAlign(B.textAlign)})},S=this.isHorizontal(),T=this._computeTitleHeight();S?g={x:Bt(r,this.left+h,this.right-s[0]),y:this.top+h+T,line:0}:g={x:this.left+h,y:Bt(r,this.top+T+h,this.bottom-e[0].height),line:0},Nd(this.ctx,t.textDirection);const E=b+h;this.legendItems.forEach((R,P)=>{i.strokeStyle=R.fontColor,i.fillStyle=R.fontColor;const B=i.measureText(R.text).width,z=l.textAlign(R.textAlign||(R.textAlign=o.textAlign)),K=p+f+B;let _=g.x,C=g.y;l.setWidth(this.width),S?P>0&&_+K+h>this.right&&(C=g.y+=E,g.line++,_=g.x=Bt(r,this.left+h,this.right-s[g.line])):P>0&&C+E>this.bottom&&(_=g.x=_+e[g.line].width+h,g.line++,C=g.y=Bt(r,this.top+T+h,this.bottom-e[g.line].height));const A=l.x(_);if(x(A,C,R),_=Sv(z,_+p+f,S?_+K:this.right,t.rtl),w(l.x(_),C,R),S)g.x+=K+h;else if(typeof R.text!="string"){const I=c.lineHeight;g.y+=ig(R,I)+h}else g.y+=E}),Md(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,s=kt(e.font),i=$t(e.padding);if(!e.display)return;const r=ds(t.rtl,this.left,this.width),o=this.ctx,a=e.position,l=s.size/2,c=i.top+l;let h,u=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),h=this.top+c,u=Bt(t.align,u,this.right-f);else{const p=this.columnSizes.reduce((m,b)=>Math.max(m,b.height),0);h=c+Bt(t.align,this.top,this.bottom-p-t.labels.padding-this._computeTitleHeight())}const g=Bt(a,u,u+f);o.textAlign=r.textAlign(Pl(a)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=s.string,qn(o,e.text,g,h,s)}_computeTitleHeight(){const t=this.options.title,e=kt(t.font),s=$t(t.padding);return t.display?e.lineHeight+s.height:0}_getLegendItemAt(t,e){let s,i,r;if(ze(t,this.left,this.right)&&ze(e,this.top,this.bottom)){for(r=this.legendHitBoxes,s=0;s<r.length;++s)if(i=r[s],ze(t,i.left,i.left+i.width)&&ze(e,i.top,i.top+i.height))return this.legendItems[s]}return null}handleEvent(t){const e=this.options;if(!bE(t.type,e))return;const s=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,r=dE(i,s);i&&!r&&mt(e.onLeave,[t,i,this],this),this._hoveredItem=s,s&&!r&&mt(e.onHover,[t,s,this],this)}else s&&mt(e.onClick,[t,s,this],this)}}function gE(n,t,e,s,i){const r=pE(s,n,t,e),o=mE(i,s,t.lineHeight);return{itemWidth:r,itemHeight:o}}function pE(n,t,e,s){let i=n.text;return i&&typeof i!="string"&&(i=i.reduce((r,o)=>r.length>o.length?r:o)),t+e.size/2+s.measureText(i).width}function mE(n,t,e){let s=n;return typeof t.text!="string"&&(s=ig(t,e)),s}function ig(n,t){const e=n.text?n.text.length:0;return t*e}function bE(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var yE={id:"legend",_element:yu,start(n,t,e){const s=n.legend=new yu({ctx:n.ctx,options:e,chart:n});zt.configure(n,s,e),zt.addBox(n,s)},stop(n){zt.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const s=n.legend;zt.configure(n,s,e),s.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const s=t.datasetIndex,i=e.chart;i.isDatasetVisible(s)?(i.hide(s),t.hidden=!0):(i.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:s,textAlign:i,color:r,useBorderRadius:o,borderRadius:a}}=n.legend.options;return n._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(e?0:void 0),h=$t(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:c.borderColor,pointStyle:s||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class Vl extends Ge{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const i=_t(s.text)?s.text.length:1;this._padding=$t(s.padding);const r=i*kt(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:s,bottom:i,right:r,options:o}=this,a=o.align;let l=0,c,h,u;return this.isHorizontal()?(h=Bt(a,s,r),u=e+t,c=r-s):(o.position==="left"?(h=s+t,u=Bt(a,i,e),l=at*-.5):(h=r-t,u=Bt(a,e,i),l=at*.5),c=i-e),{titleX:h,titleY:u,maxWidth:c,rotation:l}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const s=kt(e.font),r=s.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);qn(t,e.text,0,0,s,{color:e.color,maxWidth:l,rotation:c,textAlign:Pl(e.align),textBaseline:"middle",translation:[o,a]})}}function xE(n,t){const e=new Vl({ctx:n.ctx,options:t,chart:n});zt.configure(n,e,t),zt.addBox(n,e),n.titleBlock=e}var _E={id:"title",_element:Vl,start(n,t,e){xE(n,e)},stop(n){const t=n.titleBlock;zt.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const s=n.titleBlock;zt.configure(n,s,e),s.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const br=new WeakMap;var vE={id:"subtitle",start(n,t,e){const s=new Vl({ctx:n.ctx,options:e,chart:n});zt.configure(n,s,e),zt.addBox(n,s),br.set(n,s)},stop(n){zt.removeBox(n,br.get(n)),br.delete(n)},beforeUpdate(n,t,e){const s=br.get(n);zt.configure(n,s,e),s.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ti={average(n){if(!n.length)return!1;let t,e,s=new Set,i=0,r=0;for(t=0,e=n.length;t<e;++t){const a=n[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();s.add(l.x),i+=l.y,++r}}return r===0||s.size===0?!1:{x:[...s].reduce((a,l)=>a+l)/s.size,y:i/r}},nearest(n,t){if(!n.length)return!1;let e=t.x,s=t.y,i=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=n.length;r<o;++r){const l=n[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),h=Ya(t,c);h<i&&(i=h,a=l)}}if(a){const l=a.tooltipPosition();e=l.x,s=l.y}return{x:e,y:s}}};function Ee(n,t){return t&&(_t(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Fe(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function wE(n,t){const{element:e,datasetIndex:s,index:i}=t,r=n.getDatasetMeta(s).controller,{label:o,value:a}=r.getLabelAndValue(i);return{chart:n,label:o,parsed:r.getParsed(i),raw:n.data.datasets[s].data[i],formattedValue:a,dataset:r.getDataset(),dataIndex:i,datasetIndex:s,element:e}}function xu(n,t){const e=n.chart.ctx,{body:s,footer:i,title:r}=n,{boxWidth:o,boxHeight:a}=t,l=kt(t.bodyFont),c=kt(t.titleFont),h=kt(t.footerFont),u=r.length,f=i.length,g=s.length,p=$t(t.padding);let m=p.height,b=0,x=s.reduce((T,E)=>T+E.before.length+E.lines.length+E.after.length,0);if(x+=n.beforeBody.length+n.afterBody.length,u&&(m+=u*c.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),x){const T=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;m+=g*T+(x-g)*l.lineHeight+(x-1)*t.bodySpacing}f&&(m+=t.footerMarginTop+f*h.lineHeight+(f-1)*t.footerSpacing);let w=0;const S=function(T){b=Math.max(b,e.measureText(T).width+w)};return e.save(),e.font=c.string,dt(n.title,S),e.font=l.string,dt(n.beforeBody.concat(n.afterBody),S),w=t.displayColors?o+2+t.boxPadding:0,dt(s,T=>{dt(T.before,S),dt(T.lines,S),dt(T.after,S)}),w=0,e.font=h.string,dt(n.footer,S),e.restore(),b+=p.width,{width:b,height:m}}function AE(n,t){const{y:e,height:s}=t;return e<s/2?"top":e>n.height-s/2?"bottom":"center"}function SE(n,t,e,s){const{x:i,width:r}=s,o=e.caretSize+e.caretPadding;if(n==="left"&&i+r+o>t.width||n==="right"&&i-r-o<0)return!0}function EE(n,t,e,s){const{x:i,width:r}=e,{width:o,chartArea:{left:a,right:l}}=n;let c="center";return s==="center"?c=i<=(a+l)/2?"left":"right":i<=r/2?c="left":i>=o-r/2&&(c="right"),SE(c,n,t,e)&&(c="center"),c}function _u(n,t,e){const s=e.yAlign||t.yAlign||AE(n,e);return{xAlign:e.xAlign||t.xAlign||EE(n,t,e,s),yAlign:s}}function TE(n,t){let{x:e,width:s}=n;return t==="right"?e-=s:t==="center"&&(e-=s/2),e}function OE(n,t,e){let{y:s,height:i}=n;return t==="top"?s+=e:t==="bottom"?s-=i+e:s-=i/2,s}function vu(n,t,e,s){const{caretSize:i,caretPadding:r,cornerRadius:o}=n,{xAlign:a,yAlign:l}=e,c=i+r,{topLeft:h,topRight:u,bottomLeft:f,bottomRight:g}=Ln(o);let p=TE(t,a);const m=OE(t,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(h,f)+i:a==="right"&&(p+=Math.max(u,g)+i),{x:Ct(p,0,s.width-t.width),y:Ct(m,0,s.height-t.height)}}function yr(n,t,e){const s=$t(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-s.right:n.x+s.left}function wu(n){return Ee([],Fe(n))}function kE(n,t,e){return dn(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function Au(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const rg={beforeTitle:Be,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,s=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return e[t.dataIndex]}return""},afterTitle:Be,beforeBody:Be,beforeLabel:Be,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return nt(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Be,afterBody:Be,beforeFooter:Be,footer:Be,afterFooter:Be};function Gt(n,t,e,s){const i=n[t].call(e,s);return typeof i>"u"?rg[t].call(e,s):i}class Su extends Ge{static positioners=ti;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,s=this.options.setContext(this.getContext()),i=s.enabled&&e.options.animation&&s.animations,r=new Bd(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=kE(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:s}=e,i=Gt(s,"beforeTitle",this,t),r=Gt(s,"title",this,t),o=Gt(s,"afterTitle",this,t);let a=[];return a=Ee(a,Fe(i)),a=Ee(a,Fe(r)),a=Ee(a,Fe(o)),a}getBeforeBody(t,e){return wu(Gt(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:s}=e,i=[];return dt(t,r=>{const o={before:[],lines:[],after:[]},a=Au(s,r);Ee(o.before,Fe(Gt(a,"beforeLabel",this,r))),Ee(o.lines,Gt(a,"label",this,r)),Ee(o.after,Fe(Gt(a,"afterLabel",this,r))),i.push(o)}),i}getAfterBody(t,e){return wu(Gt(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:s}=e,i=Gt(s,"beforeFooter",this,t),r=Gt(s,"footer",this,t),o=Gt(s,"afterFooter",this,t);let a=[];return a=Ee(a,Fe(i)),a=Ee(a,Fe(r)),a=Ee(a,Fe(o)),a}_createItems(t){const e=this._active,s=this.chart.data,i=[],r=[],o=[];let a=[],l,c;for(l=0,c=e.length;l<c;++l)a.push(wE(this.chart,e[l]));return t.filter&&(a=a.filter((h,u,f)=>t.filter(h,u,f,s))),t.itemSort&&(a=a.sort((h,u)=>t.itemSort(h,u,s))),dt(a,h=>{const u=Au(t.callbacks,h);i.push(Gt(u,"labelColor",this,h)),r.push(Gt(u,"labelPointStyle",this,h)),o.push(Gt(u,"labelTextColor",this,h))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(t,e){const s=this.options.setContext(this.getContext()),i=this._active;let r,o=[];if(!i.length)this.opacity!==0&&(r={opacity:0});else{const a=ti[s.position].call(this,i,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const l=this._size=xu(this,s),c=Object.assign({},a,l),h=_u(this.chart,s,c),u=vu(s,c,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,r={opacity:1,x:u.x,y:u.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,s,i){const r=this.getCaretPosition(t,s,i);e.lineTo(r.x1,r.y1),e.lineTo(r.x2,r.y2),e.lineTo(r.x3,r.y3)}getCaretPosition(t,e,s){const{xAlign:i,yAlign:r}=this,{caretSize:o,cornerRadius:a}=s,{topLeft:l,topRight:c,bottomLeft:h,bottomRight:u}=Ln(a),{x:f,y:g}=t,{width:p,height:m}=e;let b,x,w,S,T,E;return r==="center"?(T=g+m/2,i==="left"?(b=f,x=b-o,S=T+o,E=T-o):(b=f+p,x=b+o,S=T-o,E=T+o),w=b):(i==="left"?x=f+Math.max(l,h)+o:i==="right"?x=f+p-Math.max(c,u)-o:x=this.caretX,r==="top"?(S=g,T=S-o,b=x-o,w=x+o):(S=g+m,T=S+o,b=x+o,w=x-o),E=S),{x1:b,x2:x,x3:w,y1:S,y2:T,y3:E}}drawTitle(t,e,s){const i=this.title,r=i.length;let o,a,l;if(r){const c=ds(s.rtl,this.x,this.width);for(t.x=yr(this,s.titleAlign,s),e.textAlign=c.textAlign(s.titleAlign),e.textBaseline="middle",o=kt(s.titleFont),a=s.titleSpacing,e.fillStyle=s.titleColor,e.font=o.string,l=0;l<r;++l)e.fillText(i[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===r&&(t.y+=s.titleMarginBottom-a)}}_drawColorBox(t,e,s,i,r){const o=this.labelColors[s],a=this.labelPointStyles[s],{boxHeight:l,boxWidth:c}=r,h=kt(r.bodyFont),u=yr(this,"left",r),f=i.x(u),g=l<h.lineHeight?(h.lineHeight-l)/2:0,p=e.y+g;if(r.usePointStyle){const m={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},b=i.leftForLtr(f,c)+c/2,x=p+l/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,Za(t,m,b,x),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,Za(t,m,b,x)}else{t.lineWidth=st(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const m=i.leftForLtr(f,c),b=i.leftForLtr(i.xPlus(f,1),c-2),x=Ln(o.borderRadius);Object.values(x).some(w=>w!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,bi(t,{x:m,y:p,w:c,h:l,radius:x}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),bi(t,{x:b,y:p+1,w:c-2,h:l-2,radius:x}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(m,p,c,l),t.strokeRect(m,p,c,l),t.fillStyle=o.backgroundColor,t.fillRect(b,p+1,c-2,l-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,e,s){const{body:i}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:h}=s,u=kt(s.bodyFont);let f=u.lineHeight,g=0;const p=ds(s.rtl,this.x,this.width),m=function(B){e.fillText(B,p.x(t.x+g),t.y+f/2),t.y+=f+r},b=p.textAlign(o);let x,w,S,T,E,R,P;for(e.textAlign=o,e.textBaseline="middle",e.font=u.string,t.x=yr(this,b,s),e.fillStyle=s.bodyColor,dt(this.beforeBody,m),g=a&&b!=="right"?o==="center"?c/2+h:c+2+h:0,T=0,R=i.length;T<R;++T){for(x=i[T],w=this.labelTextColors[T],e.fillStyle=w,dt(x.before,m),S=x.lines,a&&S.length&&(this._drawColorBox(e,t,T,p,s),f=Math.max(u.lineHeight,l)),E=0,P=S.length;E<P;++E)m(S[E]),f=u.lineHeight;dt(x.after,m)}g=0,f=u.lineHeight,dt(this.afterBody,m),t.y-=r}drawFooter(t,e,s){const i=this.footer,r=i.length;let o,a;if(r){const l=ds(s.rtl,this.x,this.width);for(t.x=yr(this,s.footerAlign,s),t.y+=s.footerMarginTop,e.textAlign=l.textAlign(s.footerAlign),e.textBaseline="middle",o=kt(s.footerFont),e.fillStyle=s.footerColor,e.font=o.string,a=0;a<r;++a)e.fillText(i[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+s.footerSpacing}}drawBackground(t,e,s,i){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=t,{width:c,height:h}=s,{topLeft:u,topRight:f,bottomLeft:g,bottomRight:p}=Ln(i.cornerRadius);e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.beginPath(),e.moveTo(a+u,l),o==="top"&&this.drawCaret(t,e,s,i),e.lineTo(a+c-f,l),e.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&r==="right"&&this.drawCaret(t,e,s,i),e.lineTo(a+c,l+h-p),e.quadraticCurveTo(a+c,l+h,a+c-p,l+h),o==="bottom"&&this.drawCaret(t,e,s,i),e.lineTo(a+g,l+h),e.quadraticCurveTo(a,l+h,a,l+h-g),o==="center"&&r==="left"&&this.drawCaret(t,e,s,i),e.lineTo(a,l+u),e.quadraticCurveTo(a,l,a+u,l),e.closePath(),e.fill(),i.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,s=this.$animations,i=s&&s.x,r=s&&s.y;if(i||r){const o=ti[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=xu(this,t),l=Object.assign({},o,this._size),c=_u(e,t,l),h=vu(t,l,c,e);(i._to!==h.x||r._to!==h.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(e);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=$t(e.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&a&&(t.save(),t.globalAlpha=s,this.drawBackground(r,t,i,e),Nd(t,e.textDirection),r.y+=o.top,this.drawTitle(r,t,e),this.drawBody(r,t,e),this.drawFooter(r,t,e),Md(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const s=this._active,i=t.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!Rr(s,i),o=this._positionChanged(i,e);(r||o)&&(this._active=i,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,s=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],o=this._getActiveElements(t,r,e,s),a=this._positionChanged(o,t),l=e||!Rr(o,r)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),l}_getActiveElements(t,e,s,i){const r=this.options;if(t.type==="mouseout")return[];if(!i)return e.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,r.mode,r,s);return r.reverse&&o.reverse(),o}_positionChanged(t,e){const{caretX:s,caretY:i,options:r}=this,o=ti[r.position].call(this,t,e);return o!==!1&&(s!==o.x||i!==o.y)}}var CE={id:"tooltip",_element:Su,positioners:ti,afterInit(n,t,e){e&&(n.tooltip=new Su({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:rg},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},LE=Object.freeze({__proto__:null,Colors:$S,Decimation:WS,Filler:fE,Legend:yE,SubTitle:vE,Title:_E,Tooltip:CE});const NE=(n,t,e,s)=>(typeof t=="string"?(e=n.push(t)-1,s.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function ME(n,t,e,s){const i=n.indexOf(t);if(i===-1)return NE(n,t,e,s);const r=n.lastIndexOf(t);return i!==r?e:i}const RE=(n,t)=>n===null?null:Ct(Math.round(n),0,t);function Eu(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class PE extends Vn{static id="category";static defaults={ticks:{callback:Eu}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const s=this.getLabels();for(const{index:i,label:r}of e)s[i]===r&&s.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(nt(t))return null;const s=this.getLabels();return e=isFinite(e)&&s[e]===t?e:ME(s,t,J(e,t),this._addedLabels),RE(e,s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:s,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(s=0),e||(i=this.getLabels().length-1)),this.min=s,this.max=i}buildTicks(){const t=this.min,e=this.max,s=this.options.offset,i=[];let r=this.getLabels();r=t===0&&e===r.length-1?r:r.slice(t,e+1),this._valueRange=Math.max(r.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=t;o<=e;o++)i.push({value:o});return i}getLabelForValue(t){return Eu.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function DE(n,t){const e=[],{bounds:i,step:r,min:o,max:a,precision:l,count:c,maxTicks:h,maxDigits:u,includeBounds:f}=n,g=r||1,p=h-1,{min:m,max:b}=t,x=!nt(o),w=!nt(a),S=!nt(c),T=(b-m)/(u+1);let E=xh((b-m)/p/g)*g,R,P,B,z;if(E<1e-14&&!x&&!w)return[{value:m},{value:b}];z=Math.ceil(b/E)-Math.floor(m/E),z>p&&(E=xh(z*E/p/g)*g),nt(l)||(R=Math.pow(10,l),E=Math.ceil(E*R)/R),i==="ticks"?(P=Math.floor(m/E)*E,B=Math.ceil(b/E)*E):(P=m,B=b),x&&w&&r&&bv((a-o)/r,E/1e3)?(z=Math.round(Math.min((a-o)/E,h)),E=(a-o)/z,P=o,B=a):S?(P=x?o:P,B=w?a:B,z=c-1,E=(B-P)/z):(z=(B-P)/E,ii(z,Math.round(z),E/1e3)?z=Math.round(z):z=Math.ceil(z));const K=Math.max(_h(E),_h(P));R=Math.pow(10,nt(l)?K:l),P=Math.round(P*R)/R,B=Math.round(B*R)/R;let _=0;for(x&&(f&&P!==o?(e.push({value:o}),P<o&&_++,ii(Math.round((P+_*E)*R)/R,o,Tu(o,T,n))&&_++):P<o&&_++);_<z;++_){const C=Math.round((P+_*E)*R)/R;if(w&&C>a)break;e.push({value:C})}return w&&f&&B!==a?e.length&&ii(e[e.length-1].value,a,Tu(a,T,n))?e[e.length-1].value=a:e.push({value:a}):(!w||B===a)&&e.push({value:B}),e}function Tu(n,t,{horizontal:e,minRotation:s}){const i=ge(s),r=(e?Math.sin(i):Math.cos(i))||.001,o=.75*t*(""+n).length;return Math.min(t/r,o)}class jr extends Vn{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return nt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:s}=this.getUserBounds();let{min:i,max:r}=this;const o=l=>i=e?i:l,a=l=>r=s?r:l;if(t){const l=ke(i),c=ke(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===r){let l=r===0?1:Math.abs(r*.05);a(r+l),t||o(i-l)}this.min=i,this.max=r}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:s}=t,i;return s?(i=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),e=e||11),e&&(i=Math.min(e,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const i={maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},r=this._range||this,o=DE(i,r);return t.bounds==="ticks"&&gd(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let e=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const i=(s-e)/Math.max(t.length-1,1)/2;e-=i,s+=i}this._startValue=e,this._endValue=s,this._valueRange=s-e}getLabelForValue(t){return Li(t,this.chart.options.locale,this.options.ticks.format)}}class IE extends jr{static id="linear";static defaults={ticks:{callback:to.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=wt(t)?t:0,this.max=wt(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,s=ge(this.options.ticks.minRotation),i=(t?Math.sin(s):Math.cos(s))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const xi=n=>Math.floor(en(n)),En=(n,t)=>Math.pow(10,xi(n)+t);function Ou(n){return n/Math.pow(10,xi(n))===1}function ku(n,t,e){const s=Math.pow(10,e),i=Math.floor(n/s);return Math.ceil(t/s)-i}function BE(n,t){const e=t-n;let s=xi(e);for(;ku(n,t,s)>10;)s++;for(;ku(n,t,s)<10;)s--;return Math.min(s,xi(n))}function qE(n,{min:t,max:e}){t=Jt(n.min,t);const s=[],i=xi(t);let r=BE(t,e),o=r<0?Math.pow(10,Math.abs(r)):1;const a=Math.pow(10,r),l=i>r?Math.pow(10,i):0,c=Math.round((t-l)*o)/o,h=Math.floor((t-l)/a/10)*a*10;let u=Math.floor((c-h)/Math.pow(10,r)),f=Jt(n.min,Math.round((l+h+u*Math.pow(10,r))*o)/o);for(;f<e;)s.push({value:f,major:Ou(f),significand:u}),u>=10?u=u<15?15:20:u++,u>=20&&(r++,u=2,o=r>=0?1:o),f=Math.round((l+h+u*Math.pow(10,r))*o)/o;const g=Jt(n.max,f);return s.push({value:g,major:Ou(g),significand:u}),s}class FE extends Vn{static id="logarithmic";static defaults={ticks:{callback:to.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const s=jr.prototype.parse.apply(this,[t,e]);if(s===0){this._zero=!0;return}return wt(s)&&s>0?s:null}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=wt(t)?Math.max(0,t):null,this.max=wt(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!wt(this._userMin)&&(this.min=t===En(this.min,0)?En(this.min,-1):En(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let s=this.min,i=this.max;const r=a=>s=t?s:a,o=a=>i=e?i:a;s===i&&(s<=0?(r(1),o(10)):(r(En(s,-1)),o(En(i,1)))),s<=0&&r(En(i,-1)),i<=0&&o(En(s,1)),this.min=s,this.max=i}buildTicks(){const t=this.options,e={min:this._userMin,max:this._userMax},s=qE(e,this);return t.bounds==="ticks"&&gd(s,this,"value"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}getLabelForValue(t){return t===void 0?"0":Li(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=en(t),this._valueRange=en(this.max)-en(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(en(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function sl(n){const t=n.ticks;if(t.display&&n.display){const e=$t(t.backdropPadding);return J(t.font&&t.font.size,vt.font.size)+e.height}return 0}function jE(n,t,e){return e=_t(e)?e:[e],{w:Pv(n,t.string,e),h:e.length*t.lineHeight}}function Cu(n,t,e,s,i){return n===s||n===i?{start:t-e/2,end:t+e/2}:n<s||n>i?{start:t-e,end:t}:{start:t,end:t+e}}function zE(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),s=[],i=[],r=n._pointLabels.length,o=n.options.pointLabels,a=o.centerPointLabels?at/r:0;for(let l=0;l<r;l++){const c=o.setContext(n.getPointLabelContext(l));i[l]=c.padding;const h=n.getPointPosition(l,n.drawingArea+i[l],a),u=kt(c.font),f=jE(n.ctx,u,n._pointLabels[l]);s[l]=f;const g=qt(n.getIndexAngle(l)+a),p=Math.round(Ml(g)),m=Cu(p,h.x,f.w,0,180),b=Cu(p,h.y,f.h,90,270);$E(e,t,g,m,b)}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=VE(n,s,i)}function $E(n,t,e,s,i){const r=Math.abs(Math.sin(e)),o=Math.abs(Math.cos(e));let a=0,l=0;s.start<t.l?(a=(t.l-s.start)/r,n.l=Math.min(n.l,t.l-a)):s.end>t.r&&(a=(s.end-t.r)/r,n.r=Math.max(n.r,t.r+a)),i.start<t.t?(l=(t.t-i.start)/o,n.t=Math.min(n.t,t.t-l)):i.end>t.b&&(l=(i.end-t.b)/o,n.b=Math.max(n.b,t.b+l))}function HE(n,t,e){const s=n.drawingArea,{extra:i,additionalAngle:r,padding:o,size:a}=e,l=n.getPointPosition(t,s+i+o,r),c=Math.round(Ml(qt(l.angle+At))),h=GE(l.y,a.h,c),u=WE(c),f=KE(l.x,a.w,u);return{visible:!0,x:l.x,y:h,textAlign:u,left:f,top:h,right:f+a.w,bottom:h+a.h}}function UE(n,t){if(!t)return!0;const{left:e,top:s,right:i,bottom:r}=n;return!(He({x:e,y:s},t)||He({x:e,y:r},t)||He({x:i,y:s},t)||He({x:i,y:r},t))}function VE(n,t,e){const s=[],i=n._pointLabels.length,r=n.options,{centerPointLabels:o,display:a}=r.pointLabels,l={extra:sl(r)/2,additionalAngle:o?at/i:0};let c;for(let h=0;h<i;h++){l.padding=e[h],l.size=t[h];const u=HE(n,h,l);s.push(u),a==="auto"&&(u.visible=UE(u,c),u.visible&&(c=u))}return s}function WE(n){return n===0||n===180?"center":n<180?"left":"right"}function KE(n,t,e){return e==="right"?n-=t:e==="center"&&(n-=t/2),n}function GE(n,t,e){return e===90||e===270?n-=t/2:(e>270||e<90)&&(n-=t),n}function YE(n,t,e){const{left:s,top:i,right:r,bottom:o}=e,{backdropColor:a}=t;if(!nt(a)){const l=Ln(t.borderRadius),c=$t(t.backdropPadding);n.fillStyle=a;const h=s-c.left,u=i-c.top,f=r-s+c.width,g=o-i+c.height;Object.values(l).some(p=>p!==0)?(n.beginPath(),bi(n,{x:h,y:u,w:f,h:g,radius:l}),n.fill()):n.fillRect(h,u,f,g)}}function XE(n,t){const{ctx:e,options:{pointLabels:s}}=n;for(let i=t-1;i>=0;i--){const r=n._pointLabelItems[i];if(!r.visible)continue;const o=s.setContext(n.getPointLabelContext(i));YE(e,o,r);const a=kt(o.font),{x:l,y:c,textAlign:h}=r;qn(e,n._pointLabels[i],l,c+a.lineHeight/2,a,{color:o.color,textAlign:h,textBaseline:"middle"})}}function og(n,t,e,s){const{ctx:i}=n;if(e)i.arc(n.xCenter,n.yCenter,t,0,yt);else{let r=n.getPointPosition(0,t);i.moveTo(r.x,r.y);for(let o=1;o<s;o++)r=n.getPointPosition(o,t),i.lineTo(r.x,r.y)}}function ZE(n,t,e,s,i){const r=n.ctx,o=t.circular,{color:a,lineWidth:l}=t;!o&&!s||!a||!l||e<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(i.dash||[]),r.lineDashOffset=i.dashOffset,r.beginPath(),og(n,e,o,s),r.closePath(),r.stroke(),r.restore())}function JE(n,t,e){return dn(n,{label:e,index:t,type:"pointLabel"})}class QE extends jr{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:to.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=$t(sl(this.options)/2),e=this.width=this.maxWidth-t.width,s=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+s/2+t.top),this.drawingArea=Math.floor(Math.min(e,s)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=wt(t)&&!isNaN(t)?t:0,this.max=wt(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/sl(this.options))}generateTickLabels(t){jr.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,s)=>{const i=mt(this.options.pointLabels.callback,[e,s],this);return i||i===0?i:""}).filter((e,s)=>this.chart.getDataVisibility(s))}fit(){const t=this.options;t.display&&t.pointLabels.display?zE(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,s,i){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((s-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,s,i))}getIndexAngle(t){const e=yt/(this._pointLabels.length||1),s=this.options.startAngle||0;return qt(t*e+ge(s))}getDistanceFromCenterForValue(t){if(nt(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(nt(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const s=e[t];return JE(this.getContext(),t,s)}}getPointPosition(t,e,s=0){const i=this.getIndexAngle(t)-At+s;return{x:Math.cos(i)*e+this.xCenter,y:Math.sin(i)*e+this.yCenter,angle:i}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:s,right:i,bottom:r}=this._pointLabelItems[t];return{left:e,top:s,right:i,bottom:r}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const s=this.ctx;s.save(),s.beginPath(),og(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),s.closePath(),s.fillStyle=t,s.fill(),s.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:s,grid:i,border:r}=e,o=this._pointLabels.length;let a,l,c;if(e.pointLabels.display&&XE(this,o),i.display&&this.ticks.forEach((h,u)=>{if(u!==0||u===0&&this.min<0){l=this.getDistanceFromCenterForValue(h.value);const f=this.getContext(u),g=i.setContext(f),p=r.setContext(f);ZE(this,g,l,o,p)}}),s.display){for(t.save(),a=o-1;a>=0;a--){const h=s.setContext(this.getPointLabelContext(a)),{color:u,lineWidth:f}=h;!f||!u||(t.lineWidth=f,t.strokeStyle=u,t.setLineDash(h.borderDash),t.lineDashOffset=h.borderDashOffset,l=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),c=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,s=e.ticks;if(!s.display)return;const i=this.getIndexAngle(0);let r,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!e.reverse)return;const c=s.setContext(this.getContext(l)),h=kt(c.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=h.string,o=t.measureText(a.label).width,t.fillStyle=c.backdropColor;const u=$t(c.backdropPadding);t.fillRect(-o/2-u.left,-r-h.size/2-u.top,o+u.width,h.size+u.height)}qn(t,a.label,0,-r,h,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}}const ao={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Yt=Object.keys(ao);function Lu(n,t){return n-t}function Nu(n,t){if(nt(t))return null;const e=n._adapter,{parser:s,round:i,isoWeekday:r}=n._parseOpts;let o=t;return typeof s=="function"&&(o=s(o)),wt(o)||(o=typeof s=="string"?e.parse(o,s):e.parse(o)),o===null?null:(i&&(o=i==="week"&&(bs(r)||r===!0)?e.startOf(o,"isoWeek",r):e.startOf(o,i)),+o)}function Mu(n,t,e,s){const i=Yt.length;for(let r=Yt.indexOf(n);r<i-1;++r){const o=ao[Yt[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((e-t)/(a*o.size))<=s)return Yt[r]}return Yt[i-1]}function tT(n,t,e,s,i){for(let r=Yt.length-1;r>=Yt.indexOf(e);r--){const o=Yt[r];if(ao[o].common&&n._adapter.diff(i,s,o)>=t-1)return o}return Yt[e?Yt.indexOf(e):0]}function eT(n){for(let t=Yt.indexOf(n)+1,e=Yt.length;t<e;++t)if(ao[Yt[t]].common)return Yt[t]}function Ru(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:s,hi:i}=Rl(e,t),r=e[s]>=t?e[s]:e[i];n[r]=!0}}function nT(n,t,e,s){const i=n._adapter,r=+i.startOf(t[0].value,s),o=t[t.length-1].value;let a,l;for(a=r;a<=o;a=+i.add(a,1,s))l=e[a],l>=0&&(t[l].major=!0);return t}function Pu(n,t,e){const s=[],i={},r=t.length;let o,a;for(o=0;o<r;++o)a=t[o],i[a]=o,s.push({value:a,major:!1});return r===0||!e?s:nT(n,s,i,e)}class il extends Vn{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const s=t.time||(t.time={}),i=this._adapter=new sA._date(t.adapters.date);i.init(e),si(s.displayFormats,i.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:Nu(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,s=t.time.unit||"day";let{min:i,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=wt(i)&&!isNaN(i)?i:+e.startOf(Date.now(),s),r=wt(r)&&!isNaN(r)?r:+e.endOf(Date.now(),s)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],s=t[t.length-1]),{min:e,max:s}}buildTicks(){const t=this.options,e=t.time,s=t.ticks,i=s.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,o=this.max,a=vv(i,r,o);return this._unit=e.unit||(s.autoSkip?Mu(e.minUnit,this.min,this.max,this._getLabelCapacity(r)):tT(this,a.length,e.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:eT(this._unit),this.initOffsets(i),t.reverse&&a.reverse(),Pu(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,s=0,i,r;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?e=1-i:e=(this.getDecimalForValue(t[1])-i)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?s=r:s=(r-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;e=Ct(e,0,o),s=Ct(s,0,o),this._offsets={start:e,end:s,factor:1/(e+1+s)}}_generate(){const t=this._adapter,e=this.min,s=this.max,i=this.options,r=i.time,o=r.unit||Mu(r.minUnit,e,s,this._getLabelCapacity(e)),a=J(i.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=bs(l)||l===!0,h={};let u=e,f,g;if(c&&(u=+t.startOf(u,"isoWeek",l)),u=+t.startOf(u,c?"day":o),t.diff(s,e,o)>1e5*a)throw new Error(e+" and "+s+" are too far apart with stepSize of "+a+" "+o);const p=i.ticks.source==="data"&&this.getDataTimestamps();for(f=u,g=0;f<s;f=+t.add(f,a,o),g++)Ru(h,f,p);return(f===s||i.bounds==="ticks"||g===1)&&Ru(h,f,p),Object.keys(h).sort(Lu).map(m=>+m)}getLabelForValue(t){const e=this._adapter,s=this.options.time;return s.tooltipFormat?e.format(t,s.tooltipFormat):e.format(t,s.displayFormats.datetime)}format(t,e){const i=this.options.time.displayFormats,r=this._unit,o=e||i[r];return this._adapter.format(t,o)}_tickFormatFunction(t,e,s,i){const r=this.options,o=r.ticks.callback;if(o)return mt(o,[t,e,s],this);const a=r.time.displayFormats,l=this._unit,c=this._majorUnit,h=l&&a[l],u=c&&a[c],f=s[e],g=c&&u&&f&&f.major;return this._adapter.format(t,i||(g?u:h))}generateTickLabels(t){let e,s,i;for(e=0,s=t.length;e<s;++e)i=t[e],i.label=this._tickFormatFunction(i.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+s)*e.factor)}getValueForPixel(t){const e=this._offsets,s=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,s=this.ctx.measureText(t).width,i=ge(this.isHorizontal()?e.maxRotation:e.minRotation),r=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:s*r+a*o,h:s*o+a*r}}_getLabelCapacity(t){const e=this.options.time,s=e.displayFormats,i=s[e.unit]||s.millisecond,r=this._tickFormatFunction(t,0,Pu(this,[t],this._majorUnit),i),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],e,s;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(e=0,s=i.length;e<s;++e)t=t.concat(i[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,s;if(t.length)return t;const i=this.getLabels();for(e=0,s=i.length;e<s;++e)t.push(Nu(this,i[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return bd(t.sort(Lu))}}function xr(n,t,e){let s=0,i=n.length-1,r,o,a,l;e?(t>=n[s].pos&&t<=n[i].pos&&({lo:s,hi:i}=$e(n,"pos",t)),{pos:r,time:a}=n[s],{pos:o,time:l}=n[i]):(t>=n[s].time&&t<=n[i].time&&({lo:s,hi:i}=$e(n,"time",t)),{time:r,pos:a}=n[s],{time:o,pos:l}=n[i]);const c=o-r;return c?a+(l-a)*(t-r)/c:a}class sT extends il{static id="timeseries";static defaults=il.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=xr(e,this.min),this._tableRange=xr(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:s}=this,i=[],r=[];let o,a,l,c,h;for(o=0,a=t.length;o<a;++o)c=t[o],c>=e&&c<=s&&i.push(c);if(i.length<2)return[{time:e,pos:0},{time:s,pos:1}];for(o=0,a=i.length;o<a;++o)h=i[o+1],l=i[o-1],c=i[o],Math.round((h+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_generate(){const t=this.min,e=this.max;let s=super.getDataTimestamps();return(!s.includes(t)||!s.length)&&s.splice(0,0,t),(!s.includes(e)||s.length===1)&&s.push(e),s.sort((i,r)=>i-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),s=this.getLabelTimestamps();return e.length&&s.length?t=this.normalize(e.concat(s)):t=e.length?e:s,t=this._cache.all=t,t}getDecimalForValue(t){return(xr(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,s=this.getDecimalForPixel(t)/e.factor-e.end;return xr(this._table,s*this._tableRange+this._minPos,!0)}}var iT=Object.freeze({__proto__:null,CategoryScale:PE,LinearScale:IE,LogarithmicScale:FE,RadialLinearScale:QE,TimeScale:il,TimeSeriesScale:sT});const rT=[nA,DS,LE,iT];Ul.register(...rT);window.Quill=N;window.Chart=Ul});export default oT();
